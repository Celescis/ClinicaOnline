(self.webpackChunkClinicaOnline=self.webpackChunkClinicaOnline||[]).push([[179],{2011:(Dt,Re,U)=>{"use strict";U.d(Re,{Dh:()=>ve,GT:()=>j,cc:()=>ke,hO:()=>qe,on:()=>Y,pX:()=>ue,xv:()=>Ee});var u=U(4650),q=U(9260),R=U(4976);Dt=U.hmd(Dt);const se=["ngOnDestroy"],ue=(Ne,Be,Le,Me={})=>new Proxy(Ne,{get:(be,_e)=>Le.runOutsideAngular(()=>{var Ge;if(Ne[_e])return!(null===(Ge=Me?.spy)||void 0===Ge)&&Ge.get&&Me.spy.get(_e,Ne[_e]),Ne[_e];if(se.indexOf(_e)>-1)return()=>{};const He=Be.toPromise().then(ae=>{const Xe=ae&&ae[_e];return"function"==typeof Xe?Xe.bind(ae):Xe&&Xe.then?Xe.then(Mt=>Le.run(()=>Mt)):Le.run(()=>Xe)});return new Proxy(()=>{},{get:(ae,Xe)=>He[Xe],apply:(ae,Xe,Mt)=>He.then(lt=>{var Zt;const et=lt&&lt(...Mt);return!(null===(Zt=Me?.spy)||void 0===Zt)&&Zt.apply&&Me.spy.apply(_e,Mt,et),et})})})}),j=(Ne,Be)=>{Be.forEach(Le=>{Object.getOwnPropertyNames(Le.prototype||Le).forEach(Me=>{Object.defineProperty(Ne.prototype,Me,Object.getOwnPropertyDescriptor(Le.prototype||Le,Me))})})};class De{constructor(Be){return Be}}const ve=new u.OlP("angularfire2.app.options"),Ee=new u.OlP("angularfire2.app.name");function Y(Ne,Be,Le){const be="object"==typeof Le&&Le||{};be.name=be.name||"string"==typeof Le&&Le||"[DEFAULT]";const Ge=q.Z.apps.filter(He=>He&&He.name===be.name)[0]||Be.runOutsideAngular(()=>q.Z.initializeApp(Ne,be));try{JSON.stringify(Ne)!==JSON.stringify(Ge.options)&&W("error",`${Ge.name} Firebase App already initialized with different options${Dt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new De(Ge)}const W=(Ne,...Be)=>{(0,u.X6Q)()&&typeof console<"u"&&console[Ne](...Be)},ne={provide:De,useFactory:Y,deps:[ve,u.R0b,[new u.FiY,Ee]]};let qe=(()=>{class Ne{constructor(Le){q.Z.registerVersion("angularfire",R.q4.full,"core"),q.Z.registerVersion("angularfire",R.q4.full,"app-compat"),q.Z.registerVersion("angular",u.q4F.full,Le.toString())}static initializeApp(Le,Me){return{ngModule:Ne,providers:[{provide:ve,useValue:Le},{provide:Ee,useValue:Me}]}}}return Ne.\u0275fac=function(Le){return new(Le||Ne)(u.LFG(u.Lbi))},Ne.\u0275mod=u.oAB({type:Ne}),Ne.\u0275inj=u.cJS({providers:[ne]}),Ne})();function ke(Ne,Be,Le,Me,be){const[,_e,Ge]=globalThis.\u0275AngularfireInstanceCache.find(He=>He[0]===Ne)||[];if(_e)return function Qe(Ne,Be){try{return Ne.toString()===Be.toString()}catch{return Ne===Be}}(be,Ge)||(we("error",`${Be} was already initialized on the ${Le} Firebase App with different settings.${at?" You may need to reload as Firebase is not HMR aware.":""}`),we("warn",{is:be,was:Ge})),_e;{const He=Me();return globalThis.\u0275AngularfireInstanceCache.push([Ne,He,be]),He}}const at=!!Dt.hot,we=(Ne,...Be)=>{(0,u.X6Q)()&&typeof console<"u"&&console[Ne](...Be)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4976:(Dt,Re,U)=>{"use strict";U.d(Re,{q4:()=>Nr,iC:()=>Xc,HU:()=>Po,vb:()=>oh,JM:()=>Wa,u3:()=>uh});var u=U(4650),q=U(259),R=U(5861),se=U(6881),ue=U(2090),j=U(4859),De=U(1877);const ve=(w,I)=>I.some(M=>w instanceof M);let Ee,Y;const qe=new WeakMap,ke=new WeakMap,Qe=new WeakMap,at=new WeakMap,we=new WeakMap;let Le={get(w,I,M){if(w instanceof IDBTransaction){if("done"===I)return ke.get(w);if("objectStoreNames"===I)return w.objectStoreNames||Qe.get(w);if("store"===I)return M.objectStoreNames[1]?void 0:M.objectStore(M.objectStoreNames[0])}return Ge(w[I])},set:(w,I,M)=>(w[I]=M,!0),has:(w,I)=>w instanceof IDBTransaction&&("done"===I||"store"===I)||I in w};function _e(w){return"function"==typeof w?function be(w){return w!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ne(){return Y||(Y=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(w)?function(...I){return w.apply(He(this),I),Ge(qe.get(this))}:function(...I){return Ge(w.apply(He(this),I))}:function(I,...M){const $=w.call(He(this),I,...M);return Qe.set($,I.sort?I.sort():[I]),Ge($)}}(w):(w instanceof IDBTransaction&&function Be(w){if(ke.has(w))return;const I=new Promise((M,$)=>{const Q=()=>{w.removeEventListener("complete",ee),w.removeEventListener("error",ge),w.removeEventListener("abort",ge)},ee=()=>{M(),Q()},ge=()=>{$(w.error||new DOMException("AbortError","AbortError")),Q()};w.addEventListener("complete",ee),w.addEventListener("error",ge),w.addEventListener("abort",ge)});ke.set(w,I)}(w),ve(w,function W(){return Ee||(Ee=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(w,Le):w)}function Ge(w){if(w instanceof IDBRequest)return function Ne(w){const I=new Promise((M,$)=>{const Q=()=>{w.removeEventListener("success",ee),w.removeEventListener("error",ge)},ee=()=>{M(Ge(w.result)),Q()},ge=()=>{$(w.error),Q()};w.addEventListener("success",ee),w.addEventListener("error",ge)});return I.then(M=>{M instanceof IDBCursor&&qe.set(M,w)}).catch(()=>{}),we.set(I,w),I}(w);if(at.has(w))return at.get(w);const I=_e(w);return I!==w&&(at.set(w,I),we.set(I,w)),I}const He=w=>we.get(w),Mt=["get","getKey","getAll","getAllKeys","count"],lt=["put","add","delete","clear"],Zt=new Map;function et(w,I){if(!(w instanceof IDBDatabase)||I in w||"string"!=typeof I)return;if(Zt.get(I))return Zt.get(I);const M=I.replace(/FromIndex$/,""),$=I!==M,Q=lt.includes(M);if(!(M in($?IDBIndex:IDBObjectStore).prototype)||!Q&&!Mt.includes(M))return;const ee=function(){var ge=(0,R.Z)(function*(Je,...Ye){const vt=this.transaction(Je,Q?"readwrite":"readonly");let Ht=vt.store;return $&&(Ht=Ht.index(Ye.shift())),(yield Promise.all([Ht[M](...Ye),Q&&vt.done]))[0]});return function(Ye){return ge.apply(this,arguments)}}();return Zt.set(I,ee),ee}!function Me(w){Le=w(Le)}(w=>({...w,get:(I,M,$)=>et(I,M)||w.get(I,M,$),has:(I,M)=>!!et(I,M)||w.has(I,M)}));const ni="@firebase/installations",ce="0.6.4",Ie=1e4,xe=`w:${ce}`,Fe="FIS_v2",Ke="https://firebaseinstallations.googleapis.com/v1",$e=36e5,ct=new ue.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function yt(w){return w instanceof ue.ZR&&w.code.includes("request-failed")}function dn({projectId:w}){return`${Ke}/projects/${w}/installations`}function Xt(w){return{token:w.token,requestStatus:2,expiresIn:Kt(w.expiresIn),creationTime:Date.now()}}function gn(w,I){return Br.apply(this,arguments)}function Br(){return(Br=(0,R.Z)(function*(w,I){const $=(yield I.json()).error;return ct.create("request-failed",{requestName:w,serverCode:$.code,serverMessage:$.message,serverStatus:$.status})})).apply(this,arguments)}function bn({apiKey:w}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":w})}function Jn(w){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,R.Z)(function*(w){const I=yield w();return I.status>=500&&I.status<600?w():I})).apply(this,arguments)}function Kt(w){return Number(w.replace("s","000"))}function dt(){return(dt=(0,R.Z)(function*({appConfig:w,heartbeatServiceProvider:I},{fid:M}){const $=dn(w),Q=bn(w),ee=I.getImmediate({optional:!0});if(ee){const vt=yield ee.getHeartbeatsHeader();vt&&Q.append("x-firebase-client",vt)}const Je={method:"POST",headers:Q,body:JSON.stringify({fid:M,authVersion:Fe,appId:w.appId,sdkVersion:xe})},Ye=yield Jn(()=>fetch($,Je));if(Ye.ok){const vt=yield Ye.json();return{fid:vt.fid||M,registrationStatus:2,refreshToken:vt.refreshToken,authToken:Xt(vt.authToken)}}throw yield gn("Create Installation",Ye)})).apply(this,arguments)}function cn(w){return new Promise(I=>{setTimeout(I,w)})}const Gn=/^[cdef][\w-]{21}$/,fr="";function On(){try{const w=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(w),w[0]=112+w[0]%16;const M=function vn(w){return function Ln(w){return btoa(String.fromCharCode(...w)).replace(/\+/g,"-").replace(/\//g,"_")}(w).substr(0,22)}(w);return Gn.test(M)?M:fr}catch{return fr}}function en(w){return`${w.appName}!${w.appId}`}const ft=new Map;function Ut(w,I){const M=en(w);qn(M,I),function ri(w,I){const M=function wr(){return!xn&&"BroadcastChannel"in self&&(xn=new BroadcastChannel("[Firebase] FID Change"),xn.onmessage=w=>{qn(w.data.key,w.data.fid)}),xn}();M&&M.postMessage({key:w,fid:I}),function sn(){0===ft.size&&xn&&(xn.close(),xn=null)}()}(M,I)}function qn(w,I){const M=ft.get(w);if(M)for(const $ of M)$(I)}let xn=null;const yi="firebase-installations-database",un=1,ii="firebase-installations-store";let Gt=null;function er(){return Gt||(Gt=function ae(w,I,{blocked:M,upgrade:$,blocking:Q,terminated:ee}={}){const ge=indexedDB.open(w,I),Je=Ge(ge);return $&&ge.addEventListener("upgradeneeded",Ye=>{$(Ge(ge.result),Ye.oldVersion,Ye.newVersion,Ge(ge.transaction))}),M&&ge.addEventListener("blocked",()=>M()),Je.then(Ye=>{ee&&Ye.addEventListener("close",()=>ee()),Q&&Ye.addEventListener("versionchange",()=>Q())}).catch(()=>{}),Je}(yi,un,{upgrade:(w,I)=>{0===I&&w.createObjectStore(ii)}})),Gt}function Hn(w,I){return tr.apply(this,arguments)}function tr(){return(tr=(0,R.Z)(function*(w,I){const M=en(w),Q=(yield er()).transaction(ii,"readwrite"),ee=Q.objectStore(ii),ge=yield ee.get(M);return yield ee.put(I,M),yield Q.done,(!ge||ge.fid!==I.fid)&&Ut(w,I.fid),I})).apply(this,arguments)}function nr(w){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,R.Z)(function*(w){const I=en(w),$=(yield er()).transaction(ii,"readwrite");yield $.objectStore(ii).delete(I),yield $.done})).apply(this,arguments)}function jr(w,I){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,R.Z)(function*(w,I){const M=en(w),Q=(yield er()).transaction(ii,"readwrite"),ee=Q.objectStore(ii),ge=yield ee.get(M),Je=I(ge);return void 0===Je?yield ee.delete(M):yield ee.put(Je,M),yield Q.done,Je&&(!ge||ge.fid!==Je.fid)&&Ut(w,Je.fid),Je})).apply(this,arguments)}function K(w){return G.apply(this,arguments)}function G(){return G=(0,R.Z)(function*(w){let I;const M=yield jr(w.appConfig,$=>{const Q=function V(w){return Pt(w||{fid:On(),registrationStatus:0})}($),ee=function B(w,I){if(0===I.registrationStatus){if(!navigator.onLine)return{installationEntry:I,registrationPromise:Promise.reject(ct.create("app-offline"))};const M={fid:I.fid,registrationStatus:1,registrationTime:Date.now()},$=function k(w,I){return J.apply(this,arguments)}(w,M);return{installationEntry:M,registrationPromise:$}}return 1===I.registrationStatus?{installationEntry:I,registrationPromise:Te(w)}:{installationEntry:I}}(w,Q);return I=ee.registrationPromise,ee.installationEntry});return M.fid===fr?{installationEntry:yield I}:{installationEntry:M,registrationPromise:I}}),G.apply(this,arguments)}function J(){return J=(0,R.Z)(function*(w,I){try{const M=yield function Sn(w,I){return dt.apply(this,arguments)}(w,I);return Hn(w.appConfig,M)}catch(M){throw yt(M)&&409===M.customData.serverCode?yield nr(w.appConfig):yield Hn(w.appConfig,{fid:I.fid,registrationStatus:0}),M}}),J.apply(this,arguments)}function Te(w){return ot.apply(this,arguments)}function ot(){return(ot=(0,R.Z)(function*(w){let I=yield kt(w.appConfig);for(;1===I.registrationStatus;)yield cn(100),I=yield kt(w.appConfig);if(0===I.registrationStatus){const{installationEntry:M,registrationPromise:$}=yield K(w);return $||M}return I})).apply(this,arguments)}function kt(w){return jr(w,I=>{if(!I)throw ct.create("installation-not-found");return Pt(I)})}function Pt(w){return function nn(w){return 1===w.registrationStatus&&w.registrationTime+Ie<Date.now()}(w)?{fid:w.fid,registrationStatus:0}:w}function In(){return(In=(0,R.Z)(function*({appConfig:w,heartbeatServiceProvider:I},M){const $=function Yt(w,{fid:I}){return`${dn(w)}/${I}/authTokens:generate`}(w,M),Q=function _r(w,{refreshToken:I}){const M=bn(w);return M.append("Authorization",function $r(w){return`${Fe} ${w}`}(I)),M}(w,M),ee=I.getImmediate({optional:!0});if(ee){const vt=yield ee.getHeartbeatsHeader();vt&&Q.append("x-firebase-client",vt)}const Je={method:"POST",headers:Q,body:JSON.stringify({installation:{sdkVersion:xe,appId:w.appId}})},Ye=yield Jn(()=>fetch($,Je));if(Ye.ok)return Xt(yield Ye.json());throw yield gn("Generate Auth Token",Ye)})).apply(this,arguments)}function rr(w){return Wn.apply(this,arguments)}function Wn(){return Wn=(0,R.Z)(function*(w,I=!1){let M;const $=yield jr(w.appConfig,ee=>{if(!on(ee))throw ct.create("not-registered");const ge=ee.authToken;if(!I&&function Et(w){return 2===w.requestStatus&&!function Cn(w){const I=Date.now();return I<w.creationTime||w.creationTime+w.expiresIn<I+$e}(w)}(ge))return ee;if(1===ge.requestStatus)return M=function me(w,I){return oe.apply(this,arguments)}(w,I),ee;{if(!navigator.onLine)throw ct.create("app-offline");const Je=function hn(w){const I={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},w),{authToken:I})}(ee);return M=function _t(w,I){return Lt.apply(this,arguments)}(w,Je),Je}});return M?yield M:$.authToken}),Wn.apply(this,arguments)}function oe(){return(oe=(0,R.Z)(function*(w,I){let M=yield ze(w.appConfig);for(;1===M.authToken.requestStatus;)yield cn(100),M=yield ze(w.appConfig);const $=M.authToken;return 0===$.requestStatus?rr(w,I):$})).apply(this,arguments)}function ze(w){return jr(w,I=>{if(!on(I))throw ct.create("not-registered");return function xr(w){return 1===w.requestStatus&&w.requestTime+Ie<Date.now()}(I.authToken)?Object.assign(Object.assign({},I),{authToken:{requestStatus:0}}):I})}function Lt(){return Lt=(0,R.Z)(function*(w,I){try{const M=yield function Nt(w,I){return In.apply(this,arguments)}(w,I),$=Object.assign(Object.assign({},I),{authToken:M});return yield Hn(w.appConfig,$),M}catch(M){if(!yt(M)||401!==M.customData.serverCode&&404!==M.customData.serverCode){const $=Object.assign(Object.assign({},I),{authToken:{requestStatus:0}});yield Hn(w.appConfig,$)}else yield nr(w.appConfig);throw M}}),Lt.apply(this,arguments)}function on(w){return void 0!==w&&2===w.registrationStatus}function Aa(){return(Aa=(0,R.Z)(function*(w){const I=w,{installationEntry:M,registrationPromise:$}=yield K(I);return $?$.catch(console.error):rr(I).catch(console.error),M.fid})).apply(this,arguments)}function Bs(){return Bs=(0,R.Z)(function*(w,I=!1){const M=w;return yield function Cr(w){return nt.apply(this,arguments)}(M),(yield rr(M,I)).token}),Bs.apply(this,arguments)}function nt(){return(nt=(0,R.Z)(function*(w){const{registrationPromise:I}=yield K(w);I&&(yield I)})).apply(this,arguments)}function _i(w){return ct.create("missing-app-config-values",{valueName:w})}const Qt="installations",vi=w=>{const I=w.getProvider("app").getImmediate(),M=function ho(w){if(!w||!w.options)throw _i("App Configuration");if(!w.name)throw _i("App Name");const I=["projectId","apiKey","appId"];for(const M of I)if(!w.options[M])throw _i(M);return{appName:w.name,projectId:w.options.projectId,apiKey:w.options.apiKey,appId:w.options.appId}}(I);return{app:I,appConfig:M,heartbeatServiceProvider:(0,se._getProvider)(I,"heartbeat"),_delete:()=>Promise.resolve()}},Wo=w=>{const I=w.getProvider("app").getImmediate(),M=(0,se._getProvider)(I,Qt).getImmediate();return{getId:()=>function br(w){return Aa.apply(this,arguments)}(M),getToken:Q=>function Sc(w){return Bs.apply(this,arguments)}(M,Q)}};(function Ds(){(0,se._registerComponent)(new j.wA(Qt,vi,"PUBLIC")),(0,se._registerComponent)(new j.wA("installations-internal",Wo,"PRIVATE"))})(),(0,se.registerVersion)(ni,ce),(0,se.registerVersion)(ni,ce,"esm2017");const pr="@firebase/remote-config",Mr=new ue.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Hd{constructor(I,M,$,Q){this.client=I,this.storage=M,this.storageCache=$,this.logger=Q}isCachedDataFresh(I,M){if(!M)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const $=Date.now()-M,Q=$<=I;return this.logger.debug(`Config fetch cache check. Cache age millis: ${$}. Cache max age millis (minimumFetchIntervalMillis setting): ${I}. Is cache hit: ${Q}.`),Q}fetch(I){var M=this;return(0,R.Z)(function*(){const[$,Q]=yield Promise.all([M.storage.getLastSuccessfulFetchTimestampMillis(),M.storage.getLastSuccessfulFetchResponse()]);if(Q&&M.isCachedDataFresh(I.cacheMaxAgeMillis,$))return Q;I.eTag=Q&&Q.eTag;const ee=yield M.client.fetch(I),ge=[M.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ee.status&&ge.push(M.storage.setLastSuccessfulFetchResponse(ee)),yield Promise.all(ge),ee})()}}function _l(w=navigator){return w.languages&&w.languages[0]||w.language}class go{constructor(I,M,$,Q,ee,ge){this.firebaseInstallations=I,this.sdkVersion=M,this.namespace=$,this.projectId=Q,this.apiKey=ee,this.appId=ge}fetch(I){var M=this;return(0,R.Z)(function*(){const[$,Q]=yield Promise.all([M.firebaseInstallations.getId(),M.firebaseInstallations.getToken()]),ge=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${M.projectId}/namespaces/${M.namespace}:fetch?key=${M.apiKey}`,Je={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":I.eTag||"*"},Ye={sdk_version:M.sdkVersion,app_instance_id:$,app_instance_id_token:Q,app_id:M.appId,language_code:_l()},vt={method:"POST",headers:Je,body:JSON.stringify(Ye)},Ht=fetch(ge,vt),jt=new Promise((ji,ai)=>{I.signal.addEventListener(()=>{const zu=new Error("The operation was aborted.");zu.name="AbortError",ai(zu)})});let ur;try{yield Promise.race([Ht,jt]),ur=yield Ht}catch(ji){let ai="fetch-client-network";throw"AbortError"===ji?.name&&(ai="fetch-timeout"),Mr.create(ai,{originalErrorMessage:ji?.message})}let Ot=ur.status;const _s=ur.headers.get("ETag")||void 0;let td,rs;if(200===ur.status){let ji;try{ji=yield ur.json()}catch(ai){throw Mr.create("fetch-client-parse",{originalErrorMessage:ai?.message})}td=ji.entries,rs=ji.state}if("INSTANCE_STATE_UNSPECIFIED"===rs?Ot=500:"NO_CHANGE"===rs?Ot=304:("NO_TEMPLATE"===rs||"EMPTY_CONFIG"===rs)&&(td={}),304!==Ot&&200!==Ot)throw Mr.create("fetch-status",{httpStatus:Ot});return{status:Ot,eTag:_s,config:td}})()}}class cu{constructor(I,M){this.client=I,this.storage=M}fetch(I){var M=this;return(0,R.Z)(function*(){const $=(yield M.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return M.attemptFetch(I,$)})()}attemptFetch(I,{throttleEndTimeMillis:M,backoffCount:$}){var Q=this;return(0,R.Z)(function*(){yield function uu(w,I){return new Promise((M,$)=>{const Q=Math.max(I-Date.now(),0),ee=setTimeout(M,Q);w.addEventListener(()=>{clearTimeout(ee),$(Mr.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(I.signal,M);try{const ee=yield Q.client.fetch(I);return yield Q.storage.deleteThrottleMetadata(),ee}catch(ee){if(!function zd(w){if(!(w instanceof ue.ZR&&w.customData))return!1;const I=Number(w.customData.httpStatus);return 429===I||500===I||503===I||504===I}(ee))throw ee;const ge={throttleEndTimeMillis:Date.now()+(0,ue.$s)($),backoffCount:$+1};return yield Q.storage.setThrottleMetadata(ge),Q.attemptFetch(I,ge)}})()}}class xc{constructor(I,M,$,Q,ee){this.app=I,this._client=M,this._storageCache=$,this._storage=Q,this._logger=ee,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ss(w,I){const M=w.target.error||void 0;return Mr.create(I,{originalErrorMessage:M&&M?.message})}const mo="app_namespace_store";class pu{constructor(I,M,$,Q=function fu(){return new Promise((w,I)=>{try{const M=indexedDB.open("firebase_remote_config",1);M.onerror=$=>{I(Ss($,"storage-open"))},M.onsuccess=$=>{w($.target.result)},M.onupgradeneeded=$=>{0===$.oldVersion&&$.target.result.createObjectStore(mo,{keyPath:"compositeKey"})}}catch(M){I(Mr.create("storage-open",{originalErrorMessage:M?.message}))}})}()){this.appId=I,this.appName=M,this.namespace=$,this.openDbPromise=Q}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(I){return this.set("last_fetch_status",I)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(I){return this.set("last_successful_fetch_timestamp_millis",I)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(I){return this.set("last_successful_fetch_response",I)}getActiveConfig(){return this.get("active_config")}setActiveConfig(I){return this.set("active_config",I)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(I){return this.set("active_config_etag",I)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(I){return this.set("throttle_metadata",I)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(I){var M=this;return(0,R.Z)(function*(){const $=yield M.openDbPromise;return new Promise((Q,ee)=>{const Je=$.transaction([mo],"readonly").objectStore(mo),Ye=M.createCompositeKey(I);try{const vt=Je.get(Ye);vt.onerror=Ht=>{ee(Ss(Ht,"storage-get"))},vt.onsuccess=Ht=>{const jt=Ht.target.result;Q(jt?jt.value:void 0)}}catch(vt){ee(Mr.create("storage-get",{originalErrorMessage:vt?.message}))}})})()}set(I,M){var $=this;return(0,R.Z)(function*(){const Q=yield $.openDbPromise;return new Promise((ee,ge)=>{const Ye=Q.transaction([mo],"readwrite").objectStore(mo),vt=$.createCompositeKey(I);try{const Ht=Ye.put({compositeKey:vt,value:M});Ht.onerror=jt=>{ge(Ss(jt,"storage-set"))},Ht.onsuccess=()=>{ee()}}catch(Ht){ge(Mr.create("storage-set",{originalErrorMessage:Ht?.message}))}})})()}delete(I){var M=this;return(0,R.Z)(function*(){const $=yield M.openDbPromise;return new Promise((Q,ee)=>{const Je=$.transaction([mo],"readwrite").objectStore(mo),Ye=M.createCompositeKey(I);try{const vt=Je.delete(Ye);vt.onerror=Ht=>{ee(Ss(Ht,"storage-delete"))},vt.onsuccess=()=>{Q()}}catch(vt){ee(Mr.create("storage-delete",{originalErrorMessage:vt?.message}))}})})()}createCompositeKey(I){return[this.appId,this.appName,this.namespace,I].join()}}class Gs{constructor(I){this.storage=I}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var I=this;return(0,R.Z)(function*(){const M=I.storage.getLastFetchStatus(),$=I.storage.getLastSuccessfulFetchTimestampMillis(),Q=I.storage.getActiveConfig(),ee=yield M;ee&&(I.lastFetchStatus=ee);const ge=yield $;ge&&(I.lastSuccessfulFetchTimestampMillis=ge);const Je=yield Q;Je&&(I.activeConfig=Je)})()}setLastFetchStatus(I){return this.lastFetchStatus=I,this.storage.setLastFetchStatus(I)}setLastSuccessfulFetchTimestampMillis(I){return this.lastSuccessfulFetchTimestampMillis=I,this.storage.setLastSuccessfulFetchTimestampMillis(I)}setActiveConfig(I){return this.activeConfig=I,this.storage.setActiveConfig(I)}}function xa(){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,R.Z)(function*(){if(!(0,ue.hl)())return!1;try{return yield(0,ue.eu)()}catch{return!1}})).apply(this,arguments)}!function yo(){(0,se._registerComponent)(new j.wA("remote-config",function w(I,{instanceIdentifier:M}){const $=I.getProvider("app").getImmediate(),Q=I.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Mr.create("registration-window");if(!(0,ue.hl)())throw Mr.create("indexed-db-unavailable");const{projectId:ee,apiKey:ge,appId:Je}=$.options;if(!ee)throw Mr.create("registration-project-id");if(!ge)throw Mr.create("registration-api-key");if(!Je)throw Mr.create("registration-app-id");const Ye=new pu(Je,$.name,M=M||"firebase"),vt=new Gs(Ye),Ht=new De.Yd(pr);Ht.logLevel=De.in.ERROR;const jt=new go(Q,se.SDK_VERSION,M,ee,ge,Je),ur=new cu(jt,Ye),Ot=new Hd(ur,Ye,vt,Ht),_s=new xc($,Ot,vt,Ye,Ht);return function Qr(w){const I=(0,ue.m9)(w);I._initializePromise||(I._initializePromise=I._storageCache.loadFromStorage().then(()=>{I._isInitializationComplete=!0}))}(_s),_s},"PUBLIC").setMultipleInstances(!0)),(0,se.registerVersion)(pr,"0.4.4"),(0,se.registerVersion)(pr,"0.4.4","esm2017")}();const mu=(w,I)=>I.some(M=>w instanceof M);let Ki,_o;const qs=new WeakMap,Ms=new WeakMap,Bn=new WeakMap,vo=new WeakMap,Yo=new WeakMap;let Os={get(w,I,M){if(w instanceof IDBTransaction){if("done"===I)return Ms.get(w);if("objectStoreNames"===I)return w.objectStoreNames||Bn.get(w);if("store"===I)return M.objectStoreNames[1]?void 0:M.objectStore(M.objectStoreNames[0])}return Xr(w[I])},set:(w,I,M)=>(w[I]=M,!0),has:(w,I)=>w instanceof IDBTransaction&&("done"===I||"store"===I)||I in w};function Pa(w){return"function"==typeof w?function Pc(w){return w!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function yu(){return _o||(_o=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(w)?function(...I){return w.apply(gr(this),I),Xr(qs.get(this))}:function(...I){return Xr(w.apply(gr(this),I))}:function(I,...M){const $=w.call(gr(this),I,...M);return Bn.set($,I.sort?I.sort():[I]),Xr($)}}(w):(w instanceof IDBTransaction&&function Ps(w){if(Ms.has(w))return;const I=new Promise((M,$)=>{const Q=()=>{w.removeEventListener("complete",ee),w.removeEventListener("error",ge),w.removeEventListener("abort",ge)},ee=()=>{M(),Q()},ge=()=>{$(w.error||new DOMException("AbortError","AbortError")),Q()};w.addEventListener("complete",ee),w.addEventListener("error",ge),w.addEventListener("abort",ge)});Ms.set(w,I)}(w),mu(w,function Ma(){return Ki||(Ki=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(w,Os):w)}function Xr(w){if(w instanceof IDBRequest)return function or(w){const I=new Promise((M,$)=>{const Q=()=>{w.removeEventListener("success",ee),w.removeEventListener("error",ge)},ee=()=>{M(Xr(w.result)),Q()},ge=()=>{$(w.error),Q()};w.addEventListener("success",ee),w.addEventListener("error",ge)});return I.then(M=>{M instanceof IDBCursor&&qs.set(M,w)}).catch(()=>{}),Yo.set(I,w),I}(w);if(vo.has(w))return vo.get(w);const I=Pa(w);return I!==w&&(vo.set(w,I),Yo.set(I,w)),I}const gr=w=>Yo.get(w);function wo(w,I,{blocked:M,upgrade:$,blocking:Q,terminated:ee}={}){const ge=indexedDB.open(w,I),Je=Xr(ge);return $&&ge.addEventListener("upgradeneeded",Ye=>{$(Xr(ge.result),Ye.oldVersion,Ye.newVersion,Xr(ge.transaction))}),M&&ge.addEventListener("blocked",()=>M()),Je.then(Ye=>{ee&&Ye.addEventListener("close",()=>ee()),Q&&Ye.addEventListener("versionchange",()=>Q())}).catch(()=>{}),Je}function ds(w,{blocked:I}={}){const M=indexedDB.deleteDatabase(w);return I&&M.addEventListener("blocked",()=>I()),Xr(M).then(()=>{})}const _u=["get","getKey","getAll","getAllKeys","count"],hs=["put","add","delete","clear"],Qo=new Map;function bo(w,I){if(!(w instanceof IDBDatabase)||I in w||"string"!=typeof I)return;if(Qo.get(I))return Qo.get(I);const M=I.replace(/FromIndex$/,""),$=I!==M,Q=hs.includes(M);if(!(M in($?IDBIndex:IDBObjectStore).prototype)||!Q&&!_u.includes(M))return;const ee=function(){var ge=(0,R.Z)(function*(Je,...Ye){const vt=this.transaction(Je,Q?"readwrite":"readonly");let Ht=vt.store;return $&&(Ht=Ht.index(Ye.shift())),(yield Promise.all([Ht[M](...Ye),Q&&vt.done]))[0]});return function(Ye){return ge.apply(this,arguments)}}();return Qo.set(I,ee),ee}!function Zn(w){Os=w(Os)}(w=>({...w,get:(I,M,$)=>bo(I,M)||w.get(I,M,$),has:(I,M)=>!!bo(I,M)||w.has(I,M)}));const Bt="/firebase-messaging-sw.js",Oa="/firebase-cloud-messaging-push-scope",vu="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",vl="https://fcmregistrations.googleapis.com/v1",Ra="google.c.a.c_id",Jo="google.c.a.c_l",wu="google.c.a.ts",bu="google.c.a.e";var ye=(()=>{return(w=ye||(ye={})).PUSH_RECEIVED="push-received",w.NOTIFICATION_CLICKED="notification-clicked",ye;var w})();function $t(w){const I=new Uint8Array(w);return btoa(String.fromCharCode(...I)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function wl(w){const M=(w+"=".repeat((4-w.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),$=atob(M),Q=new Uint8Array($.length);for(let ee=0;ee<$.length;++ee)Q[ee]=$.charCodeAt(ee);return Q}const Xo="fcm_token_details_db",ir=5,Cu="fcm_token_object_Store";function Ci(){return Ci=(0,R.Z)(function*(w){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ee=>ee.name).includes(Xo))return null;let I=null;return(yield wo(Xo,ir,{upgrade:($=(0,R.Z)(function*(Q,ee,ge,Je){var Ye;if(ee<2||!Q.objectStoreNames.contains(Cu))return;const vt=Je.objectStore(Cu),Ht=yield vt.index("fcmSenderId").get(w);if(yield vt.clear(),Ht)if(2===ee){const jt=Ht;if(!jt.auth||!jt.p256dh||!jt.endpoint)return;I={token:jt.fcmToken,createTime:null!==(Ye=jt.createTime)&&void 0!==Ye?Ye:Date.now(),subscriptionOptions:{auth:jt.auth,p256dh:jt.p256dh,endpoint:jt.endpoint,swScope:jt.swScope,vapidKey:"string"==typeof jt.vapidKey?jt.vapidKey:$t(jt.vapidKey)}}}else if(3===ee){const jt=Ht;I={token:jt.fcmToken,createTime:jt.createTime,subscriptionOptions:{auth:$t(jt.auth),p256dh:$t(jt.p256dh),endpoint:jt.endpoint,swScope:jt.swScope,vapidKey:$t(jt.vapidKey)}}}else if(4===ee){const jt=Ht;I={token:jt.fcmToken,createTime:jt.createTime,subscriptionOptions:{auth:$t(jt.auth),p256dh:$t(jt.p256dh),endpoint:jt.endpoint,swScope:jt.swScope,vapidKey:$t(jt.vapidKey)}}}}),function(ee,ge,Je,Ye){return $.apply(this,arguments)})})).close(),yield ds(Xo),yield ds("fcm_vapid_details_db"),yield ds("undefined"),function ka(w){if(!w||!w.subscriptionOptions)return!1;const{subscriptionOptions:I}=w;return"number"==typeof w.createTime&&w.createTime>0&&"string"==typeof w.token&&w.token.length>0&&"string"==typeof I.auth&&I.auth.length>0&&"string"==typeof I.p256dh&&I.p256dh.length>0&&"string"==typeof I.endpoint&&I.endpoint.length>0&&"string"==typeof I.swScope&&I.swScope.length>0&&"string"==typeof I.vapidKey&&I.vapidKey.length>0}(I)?I:null;var $}),Ci.apply(this,arguments)}const Eu="firebase-messaging-database",Iu=1,fs="firebase-messaging-store";let Zs=null;function Or(){return Zs||(Zs=wo(Eu,Iu,{upgrade:(w,I)=>{0===I&&w.createObjectStore(fs)}})),Zs}function si(w){return Rs.apply(this,arguments)}function Rs(){return Rs=(0,R.Z)(function*(w){const I=Tu(w),$=yield(yield Or()).transaction(fs).objectStore(fs).get(I);if($)return $;{const Q=yield function Ws(w){return Ci.apply(this,arguments)}(w.appConfig.senderId);if(Q)return yield Yi(w,Q),Q}}),Rs.apply(this,arguments)}function Yi(w,I){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,R.Z)(function*(w,I){const M=Tu(w),Q=(yield Or()).transaction(fs,"readwrite");return yield Q.objectStore(fs).put(I,M),yield Q.done,I})).apply(this,arguments)}function Ks(){return(Ks=(0,R.Z)(function*(w){const I=Tu(w),$=(yield Or()).transaction(fs,"readwrite");yield $.objectStore(fs).delete(I),yield $.done})).apply(this,arguments)}function Tu({appConfig:w}){return w.appId}const Kn=new ue.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Na(w,I){return ea.apply(this,arguments)}function ea(){return(ea=(0,R.Z)(function*(w,I){const M=yield ta(w),$=Qi(I),Q={method:"POST",headers:M,body:JSON.stringify($)};let ee;try{ee=yield(yield fetch(bl(w.appConfig),Q)).json()}catch(ge){throw Kn.create("token-subscribe-failed",{errorInfo:ge?.toString()})}if(ee.error)throw Kn.create("token-subscribe-failed",{errorInfo:ee.error.message});if(!ee.token)throw Kn.create("token-subscribe-no-token");return ee.token})).apply(this,arguments)}function Fa(){return(Fa=(0,R.Z)(function*(w,I){const M=yield ta(w),$=Qi(I.subscriptionOptions),Q={method:"PATCH",headers:M,body:JSON.stringify($)};let ee;try{ee=yield(yield fetch(`${bl(w.appConfig)}/${I.token}`,Q)).json()}catch(ge){throw Kn.create("token-update-failed",{errorInfo:ge?.toString()})}if(ee.error)throw Kn.create("token-update-failed",{errorInfo:ee.error.message});if(!ee.token)throw Kn.create("token-update-no-token");return ee.token})).apply(this,arguments)}function Su(w,I){return Co.apply(this,arguments)}function Co(){return(Co=(0,R.Z)(function*(w,I){const $={method:"DELETE",headers:yield ta(w)};try{const ee=yield(yield fetch(`${bl(w.appConfig)}/${I}`,$)).json();if(ee.error)throw Kn.create("token-unsubscribe-failed",{errorInfo:ee.error.message})}catch(Q){throw Kn.create("token-unsubscribe-failed",{errorInfo:Q?.toString()})}})).apply(this,arguments)}function bl({projectId:w}){return`${vl}/projects/${w}/registrations`}function ta(w){return Cl.apply(this,arguments)}function Cl(){return(Cl=(0,R.Z)(function*({appConfig:w,installations:I}){const M=yield I.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":w.apiKey,"x-goog-firebase-installations-auth":`FIS ${M}`})})).apply(this,arguments)}function Qi({p256dh:w,auth:I,endpoint:M,vapidKey:$}){const Q={web:{endpoint:M,auth:I,p256dh:w}};return $!==vu&&(Q.web.applicationPubKey=$),Q}const El=6048e5;function Dl(){return Dl=(0,R.Z)(function*(w){const I=yield function Wd(w,I){return Ii.apply(this,arguments)}(w.swRegistration,w.vapidKey),M={vapidKey:w.vapidKey,swScope:w.swRegistration.scope,endpoint:I.endpoint,auth:$t(I.getKey("auth")),p256dh:$t(I.getKey("p256dh"))},$=yield si(w.firebaseDependencies);if($){if(function ar(w,I){return I.vapidKey===w.vapidKey&&I.endpoint===w.endpoint&&I.auth===w.auth&&I.p256dh===w.p256dh}($.subscriptionOptions,M))return Date.now()>=$.createTime+El?function $n(w,I){return Tl.apply(this,arguments)}(w,{token:$.token,createTime:Date.now(),subscriptionOptions:M}):$.token;try{yield Su(w.firebaseDependencies,$.token)}catch(Q){console.warn(Q)}return Eo(w.firebaseDependencies,M)}return Eo(w.firebaseDependencies,M)}),Dl.apply(this,arguments)}function Ji(){return Ji=(0,R.Z)(function*(w){const I=yield si(w.firebaseDependencies);I&&(yield Su(w.firebaseDependencies,I.token),yield function Du(w){return Ks.apply(this,arguments)}(w.firebaseDependencies));const M=yield w.swRegistration.pushManager.getSubscription();return!M||M.unsubscribe()}),Ji.apply(this,arguments)}function Tl(){return Tl=(0,R.Z)(function*(w,I){try{const M=yield function Au(w,I){return Fa.apply(this,arguments)}(w.firebaseDependencies,I),$=Object.assign(Object.assign({},I),{token:M,createTime:Date.now()});return yield Yi(w.firebaseDependencies,$),M}catch(M){throw yield function zr(w){return Ji.apply(this,arguments)}(w),M}}),Tl.apply(this,arguments)}function Eo(w,I){return Al.apply(this,arguments)}function Al(){return(Al=(0,R.Z)(function*(w,I){const $={token:yield Na(w,I),createTime:Date.now(),subscriptionOptions:I};return yield Yi(w,$),$.token})).apply(this,arguments)}function Ii(){return(Ii=(0,R.Z)(function*(w,I){return(yield w.pushManager.getSubscription())||w.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:wl(I)})})).apply(this,arguments)}function La(w){const I={from:w.from,collapseKey:w.collapse_key,messageId:w.fcmMessageId};return function Sl(w,I){if(!I.notification)return;w.notification={};const M=I.notification.title;M&&(w.notification.title=M);const $=I.notification.body;$&&(w.notification.body=$);const Q=I.notification.image;Q&&(w.notification.image=Q);const ee=I.notification.icon;ee&&(w.notification.icon=ee)}(I,w),function xu(w,I){I.data&&(w.data=I.data)}(I,w),function Mu(w,I){var M,$,Q,ee,ge;if(!(I.fcmOptions||null!==(M=I.notification)&&void 0!==M&&M.click_action))return;w.fcmOptions={};const Je=null!==(Q=null===($=I.fcmOptions)||void 0===$?void 0:$.link)&&void 0!==Q?Q:null===(ee=I.notification)||void 0===ee?void 0:ee.click_action;Je&&(w.fcmOptions.link=Je);const Ye=null===(ge=I.fcmOptions)||void 0===ge?void 0:ge.analytics_label;Ye&&(w.fcmOptions.analyticsLabel=Ye)}(I,w),I}function Io(w,I){const M=[];for(let $=0;$<w.length;$++)M.push(w.charAt($)),$<I.length&&M.push(I.charAt($));return M.join("")}function Di(w){return Kn.create("missing-app-config-values",{valueName:w})}Io("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Io("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class E{constructor(I,M,$){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Q=function na(w){if(!w||!w.options)throw Di("App Configuration Object");if(!w.name)throw Di("App Name");const I=["projectId","apiKey","appId","messagingSenderId"],{options:M}=w;for(const $ of I)if(!M[$])throw Di($);return{appName:w.name,projectId:M.projectId,apiKey:M.apiKey,appId:M.appId,senderId:M.messagingSenderId}}(I);this.firebaseDependencies={app:I,appConfig:Q,installations:M,analyticsProvider:$}}_delete(){return Promise.resolve()}}function T(w){return O.apply(this,arguments)}function O(){return(O=(0,R.Z)(function*(w){try{w.swRegistration=yield navigator.serviceWorker.register(Bt,{scope:Oa}),w.swRegistration.update().catch(()=>{})}catch(I){throw Kn.create("failed-service-worker-registration",{browserErrorMessage:I?.message})}})).apply(this,arguments)}function he(){return(he=(0,R.Z)(function*(w,I){if(!I&&!w.swRegistration&&(yield T(w)),I||!w.swRegistration){if(!(I instanceof ServiceWorkerRegistration))throw Kn.create("invalid-sw-registration");w.swRegistration=I}})).apply(this,arguments)}function mn(){return(mn=(0,R.Z)(function*(w,I){I?w.vapidKey=I:w.vapidKey||(w.vapidKey=vu)})).apply(this,arguments)}function Qn(){return Qn=(0,R.Z)(function*(w,I){if(!navigator)throw Kn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Kn.create("permission-blocked");return yield function St(w,I){return mn.apply(this,arguments)}(w,I?.vapidKey),yield function z(w,I){return he.apply(this,arguments)}(w,I?.serviceWorkerRegistration),function Il(w){return Dl.apply(this,arguments)}(w)}),Qn.apply(this,arguments)}function Xi(){return(Xi=(0,R.Z)(function*(w,I,M){const $=function ra(w){switch(w){case ye.NOTIFICATION_CLICKED:return"notification_open";case ye.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(I);(yield w.firebaseDependencies.analyticsProvider.get()).logEvent($,{message_id:M[Ra],message_name:M[Jo],message_time:M[wu],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ia(){return ia=(0,R.Z)(function*(w,I){const M=I.data;if(!M.isFirebaseMessaging)return;w.onMessageHandler&&M.messageType===ye.PUSH_RECEIVED&&("function"==typeof w.onMessageHandler?w.onMessageHandler(La(M)):w.onMessageHandler.next(La(M)));const $=M.data;(function Va(w){return"object"==typeof w&&!!w&&Ra in w})($)&&"1"===$[bu]&&(yield function Ys(w,I,M){return Xi.apply(this,arguments)}(w,M.messageType,$))}),ia.apply(this,arguments)}const Ba="@firebase/messaging",Ml=w=>{const I=new E(w.getProvider("app").getImmediate(),w.getProvider("installations-internal").getImmediate(),w.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",M=>function Ua(w,I){return ia.apply(this,arguments)}(I,M)),I},Oc=w=>{const I=w.getProvider("messaging").getImmediate();return{getToken:$=>function Yn(w,I){return Qn.apply(this,arguments)}(I,$)}};function kf(){return Rc.apply(this,arguments)}function Rc(){return(Rc=(0,R.Z)(function*(){try{yield(0,ue.eu)()}catch{return!1}return typeof window<"u"&&(0,ue.hl)()&&(0,ue.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Pl(){(0,se._registerComponent)(new j.wA("messaging",Ml,"PUBLIC")),(0,se._registerComponent)(new j.wA("messaging-internal",Oc,"PRIVATE")),(0,se.registerVersion)(Ba,"0.12.4"),(0,se.registerVersion)(Ba,"0.12.4","esm2017")}();const Do="analytics",Ou="firebase_id",Yd="origin",Ol=6e4,Qd="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ru="https://www.googletagmanager.com/gtag/js",Rr=new De.Yd("@firebase/analytics"),sr=new ue.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Nf(w){if(!w.startsWith(Ru)){const I=sr.create("invalid-gtag-resource",{gtagURL:w});return Rr.warn(I.message),""}return w}function To(w){return Promise.all(w.map(I=>I.catch(M=>M)))}function Ao(){return(Ao=(0,R.Z)(function*(w,I,M,$,Q,ee){const ge=$[Q];try{if(ge)yield I[ge];else{const Ye=(yield To(M)).find(vt=>vt.measurementId===Q);Ye&&(yield I[Ye.appId])}}catch(Je){Rr.error(Je)}w("config",Q,ee)})).apply(this,arguments)}function sa(){return(sa=(0,R.Z)(function*(w,I,M,$,Q){try{let ee=[];if(Q&&Q.send_to){let ge=Q.send_to;Array.isArray(ge)||(ge=[ge]);const Je=yield To(M);for(const Ye of ge){const vt=Je.find(jt=>jt.measurementId===Ye),Ht=vt&&I[vt.appId];if(!Ht){ee=[];break}ee.push(Ht)}}0===ee.length&&(ee=Object.values(I)),yield Promise.all(ee),w("event",$,Q||{})}catch(ee){Rr.error(ee)}})).apply(this,arguments)}const Nu=30,aa=new class Jd{constructor(I={},M=1e3){this.throttleMetadata=I,this.intervalMillis=M}getThrottleMetadata(I){return this.throttleMetadata[I]}setThrottleMetadata(I,M){this.throttleMetadata[I]=M}deleteThrottleMetadata(I){delete this.throttleMetadata[I]}};function Lf(w){return new Headers({Accept:"application/json","x-goog-api-key":w})}function wn(){return(wn=(0,R.Z)(function*(w){var I;const{appId:M,apiKey:$}=w,Q={method:"GET",headers:Lf($)},ee=Qd.replace("{app-id}",M),ge=yield fetch(ee,Q);if(200!==ge.status&&304!==ge.status){let Je="";try{const Ye=yield ge.json();null!==(I=Ye.error)&&void 0!==I&&I.message&&(Je=Ye.error.message)}catch{}throw sr.create("config-fetch-failed",{httpStatus:ge.status,responseMessage:Je})}return ge.json()})).apply(this,arguments)}function eh(){return(eh=(0,R.Z)(function*(w,I=aa,M){const{appId:$,apiKey:Q,measurementId:ee}=w.options;if(!$)throw sr.create("no-app-id");if(!Q){if(ee)return{measurementId:ee,appId:$};throw sr.create("no-api-key")}const ge=I.getThrottleMetadata($)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Je=new Ty;return setTimeout((0,R.Z)(function*(){Je.abort()}),void 0!==M?M:Ol),Bc({appId:$,apiKey:Q,measurementId:ee},ge,Je,I)})).apply(this,arguments)}function Bc(w,I,M){return $c.apply(this,arguments)}function $c(){return $c=(0,R.Z)(function*(w,{throttleEndTimeMillis:I,backoffCount:M},$,Q=aa){var ee;const{appId:ge,measurementId:Je}=w;try{yield function Vf(w,I){return new Promise((M,$)=>{const Q=Math.max(I-Date.now(),0),ee=setTimeout(M,Q);w.addEventListener(()=>{clearTimeout(ee),$(sr.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}($,I)}catch(Ye){if(Je)return Rr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Je} provided in the "measurementId" field in the local Firebase config. [${Ye?.message}]`),{appId:ge,measurementId:Je};throw Ye}try{const Ye=yield function Xd(w){return wn.apply(this,arguments)}(w);return Q.deleteThrottleMetadata(ge),Ye}catch(Ye){const vt=Ye;if(!function Dy(w){if(!(w instanceof ue.ZR&&w.customData))return!1;const I=Number(w.customData.httpStatus);return 429===I||500===I||503===I||504===I}(vt)){if(Q.deleteThrottleMetadata(ge),Je)return Rr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Je} provided in the "measurementId" field in the local Firebase config. [${vt?.message}]`),{appId:ge,measurementId:Je};throw Ye}const Ht=503===Number(null===(ee=vt?.customData)||void 0===ee?void 0:ee.httpStatus)?(0,ue.$s)(M,Q.intervalMillis,Nu):(0,ue.$s)(M,Q.intervalMillis),jt={throttleEndTimeMillis:Date.now()+Ht,backoffCount:M+1};return Q.setThrottleMetadata(ge,jt),Rr.debug(`Calling attemptFetch again in ${Ht} millis`),Bc(w,jt,$,Q)}}),$c.apply(this,arguments)}class Ty{constructor(){this.listeners=[]}addEventListener(I){this.listeners.push(I)}abort(){this.listeners.forEach(I=>I())}}let la,zc;function Uf(){return(Uf=(0,R.Z)(function*(w,I,M,$,Q){if(Q&&Q.global)w("event",M,$);else{const ee=yield I;w("event",M,Object.assign(Object.assign({},$),{send_to:ee}))}})).apply(this,arguments)}function Tn(){return(Tn=(0,R.Z)(function*(){if(!(0,ue.hl)())return Rr.warn(sr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ue.eu)()}catch(w){return Rr.warn(sr.create("indexeddb-unavailable",{errorInfo:w?.toString()}).message),!1}return!0})).apply(this,arguments)}function mt(){return mt=(0,R.Z)(function*(w,I,M,$,Q,ee,ge){var Je;const Ye=function Uc(w){return eh.apply(this,arguments)}(w);Ye.then(Ot=>{M[Ot.measurementId]=Ot.appId,w.options.measurementId&&Ot.measurementId!==w.options.measurementId&&Rr.warn(`The measurement ID in the local Firebase config (${w.options.measurementId}) does not match the measurement ID fetched from the server (${Ot.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Ot=>Rr.error(Ot)),I.push(Ye);const vt=function es(){return Tn.apply(this,arguments)}().then(Ot=>{if(Ot)return $.getId()}),[Ht,jt]=yield Promise.all([Ye,vt]);(function Ha(w){const I=window.document.getElementsByTagName("script");for(const M of Object.values(I))if(M.src&&M.src.includes(Ru)&&M.src.includes(w))return M;return null})(ee)||function ja(w,I){const M=function ku(w,I){let M;return window.trustedTypes&&(M=window.trustedTypes.createPolicy(w,I)),M}("firebase-js-sdk-policy",{createScriptURL:Nf}),$=document.createElement("script"),Q=`${Ru}?l=${w}&id=${I}`;$.src=M?M?.createScriptURL(Q):Q,$.async=!0,document.head.appendChild($)}(ee,Ht.measurementId),zc&&(Q("consent","default",zc),function Vu(w){zc=w}(void 0)),Q("js",new Date);const ur=null!==(Je=ge?.config)&&void 0!==Je?Je:{};return ur[Yd]="firebase",ur.update=!0,null!=jt&&(ur[Ou]=jt),Q("config",Ht.measurementId,ur),la&&(Q("set",la),function Gc(w){la=w}(void 0)),Ht.measurementId}),mt.apply(this,arguments)}class gs{constructor(I){this.app=I}_delete(){return delete Ir[this.app.options.appId],Promise.resolve()}}let Ir={},nh=[];const Nl={};let rh,ts,Ai="dataLayer",qc="gtag",xo=!1;function Ga(w,I,M){!function ua(){const w=[];if((0,ue.ru)()&&w.push("This is a browser extension environment."),(0,ue.zI)()||w.push("Cookies are not available."),w.length>0){const I=w.map(($,Q)=>`(${Q+1}) ${$}`).join(" "),M=sr.create("invalid-analytics-context",{errorInfo:I});Rr.warn(M.message)}}();const $=w.options.appId;if(!$)throw sr.create("no-app-id");if(!w.options.apiKey){if(!w.options.measurementId)throw sr.create("no-api-key");Rr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${w.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ir[$])throw sr.create("already-exists",{id:$});if(!xo){!function Fc(w){let I=[];Array.isArray(window[w])?I=window[w]:window[w]=I}(Ai);const{wrappedGtag:ee,gtagCore:ge}=function oa(w,I,M,$,Q){let ee=function(...ge){window[$].push(arguments)};return window[Q]&&"function"==typeof window[Q]&&(ee=window[Q]),window[Q]=function Rl(w,I,M,$){function ee(){return ee=(0,R.Z)(function*(ge,...Je){try{if("event"===ge){const[Ye,vt]=Je;yield function Ff(w,I,M,$,Q){return sa.apply(this,arguments)}(w,I,M,Ye,vt)}else if("config"===ge){const[Ye,vt]=Je;yield function Lc(w,I,M,$,Q,ee){return Ao.apply(this,arguments)}(w,I,M,$,Ye,vt)}else if("consent"===ge){const[Ye]=Je;w("consent","update",Ye)}else if("get"===ge){const[Ye,vt,Ht]=Je;w("get",Ye,vt,Ht)}else if("set"===ge){const[Ye]=Je;w("set",Ye)}else w(ge,...Je)}catch(Ye){Rr.error(Ye)}}),ee.apply(this,arguments)}return function Q(ge){return ee.apply(this,arguments)}}(ee,w,I,M),{gtagCore:ee,wrappedGtag:window[Q]}}(Ir,nh,Nl,Ai,qc);ts=ee,rh=ge,xo=!0}return Ir[$]=function ps(w,I,M,$,Q,ee,ge){return mt.apply(this,arguments)}(w,nh,Nl,I,rh,Ai,M),new gs(w)}function ih(){return ns.apply(this,arguments)}function ns(){return(ns=(0,R.Z)(function*(){if((0,ue.ru)()||!(0,ue.zI)()||!(0,ue.hl)())return!1;try{return yield(0,ue.eu)()}catch{return!1}})).apply(this,arguments)}const Ul="@firebase/analytics";!function Kc(){(0,se._registerComponent)(new j.wA(Do,(I,{options:M})=>Ga(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),M),"PUBLIC")),(0,se._registerComponent)(new j.wA("analytics-internal",function w(I){try{const M=I.getProvider(Do).getImmediate();return{logEvent:($,Q,ee)=>function Bf(w,I,M,$){w=(0,ue.m9)(w),function Ay(w,I,M,$,Q){return Uf.apply(this,arguments)}(ts,Ir[w.app.options.appId],I,M,$).catch(Q=>Rr.error(Q))}(M,$,Q,ee)}}catch(M){throw sr.create("interop-component-reg-failed",{reason:M})}},"PRIVATE")),(0,se.registerVersion)(Ul,"0.10.0"),(0,se.registerVersion)(Ul,"0.10.0","esm2017")}();var Yc=U(4408),Bi=U(7565);const hi=new class Qc extends Bi.v{}(class Bl extends Yc.o{constructor(I,M){super(I,M),this.scheduler=I,this.work=M}schedule(I,M=0){return M>0?super.schedule(I,M):(this.delay=M,this.state=I,this.scheduler.flush(this),this)}execute(I,M){return M>0||this.closed?super.execute(I,M):this._execute(I,M)}requestAsyncId(I,M,$=0){return null!=$&&$>0||null==$&&this.delay>0?super.requestAsyncId(I,M,$):(I.flush(this),0)}});var $f=U(4986),lr=U(9751),da=U(8505),ha=U(9468),$i=U(5363);const Nr=new u.GfV("7.6.1"),jl="__angularfire_symbol__analyticsIsSupportedValue",ju="__angularfire_symbol__analyticsIsSupported",qa="__angularfire_symbol__remoteConfigIsSupportedValue",ms="__angularfire_symbol__remoteConfigIsSupported",Mo="__angularfire_symbol__messagingIsSupportedValue",Gr="__angularfire_symbol__messagingIsSupported";function Wa(w,I,M){if(I){if(1===I.length)return I[0];const ee=I.filter(ge=>ge.app===M);if(1===ee.length)return ee[0]}return M.container.getProvider(w).getImmediate({optional:!0})}globalThis[ju]||(globalThis[ju]=ih().then(w=>globalThis[jl]=w).catch(()=>globalThis[jl]=!1)),globalThis[Gr]||(globalThis[Gr]=kf().then(w=>globalThis[Mo]=w).catch(()=>globalThis[Mo]=!1)),globalThis[ms]||(globalThis[ms]=xa().then(w=>globalThis[qa]=w).catch(()=>globalThis[qa]=!1));const oh=(w,I)=>{const M=I?[I]:(0,q.C6)(),$=[];return M.forEach(Q=>{Q.container.getProvider(w).instances.forEach(ge=>{$.includes(ge)||$.push(ge)})}),$};function fa(){}class Za{constructor(I,M=hi){this.zone=I,this.delegate=M}now(){return this.delegate.now()}schedule(I,M,$){const Q=this.zone;return this.delegate.schedule(function(ge){Q.runGuarded(()=>{I.apply(this,[ge])})},M,$)}}class Vt{constructor(I){this.zone=I,this.task=null}call(I,M){const $=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",fa,{},fa,fa)),M.pipe((0,da.b)({next:$,complete:$,error:$})).subscribe(I).add($)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Po=(()=>{class w{constructor(M){this.ngZone=M,this.outsideAngular=M.runOutsideAngular(()=>new Za(Zone.current)),this.insideAngular=M.run(()=>new Za(Zone.current,$f.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return w.\u0275fac=function(M){return new(M||w)(u.LFG(u.R0b))},w.\u0275prov=u.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();function pa(){const w=globalThis.\u0275AngularFireScheduler;if(!w)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return w}function Oo(w){return pa().ngZone.run(()=>w())}function Xc(w){return pa(),function lh(w){return function(M){return(M=M.lift(new Vt(w.ngZone))).pipe((0,ha.R)(w.outsideAngular),(0,$i.Q)(w.insideAngular))}}(pa())(w)}const ed=(w,I)=>function(){const $=arguments;return I&&setTimeout(()=>{"scheduled"===I.state&&I.invoke()},10),Oo(()=>w.apply(void 0,$))},uh=(w,I)=>function(){let M;const $=arguments;for(let ee=0;ee<arguments.length;ee++)"function"==typeof $[ee]&&(I&&(M||(M=Oo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",fa,{},fa,fa)))),$[ee]=ed($[ee],M));const Q=function Ka(w){return pa().ngZone.runOutsideAngular(()=>w())}(()=>w.apply(this,$));if(!I){if(Q instanceof lr.y){const ee=pa();return Q.pipe((0,ha.R)(ee.outsideAngular),(0,$i.Q)(ee.insideAngular))}return Oo(()=>Q)}return Q instanceof lr.y?Q.pipe(Xc):Q instanceof Promise?Oo(()=>new Promise((ee,ge)=>Q.then(Je=>Oo(()=>ee(Je)),Je=>Oo(()=>ge(Je))))):"function"==typeof Q&&M?function(){return setTimeout(()=>{M&&"scheduled"===M.state&&M.invoke()},10),Q.apply(this,arguments)}:Oo(()=>Q)}},1389:(Dt,Re,U)=>{"use strict";U.d(Re,{$:()=>Bt,A:()=>W,D:()=>ke,I:()=>Rn,J:()=>vi,L:()=>Wi,N:()=>jr,P:()=>ps,Q:()=>pu,R:()=>Lu,U:()=>gu,V:()=>xa,W:()=>Ko,X:()=>Zi,Y:()=>Ma,Z:()=>yu,_:()=>Yo,a:()=>Ti,a0:()=>vu,a1:()=>Ra,a2:()=>Gd,a3:()=>Cu,a4:()=>Ci,a5:()=>Eu,a6:()=>fs,a7:()=>Or,a8:()=>Rs,a9:()=>Ei,aA:()=>ae,aB:()=>ju,aC:()=>nr,aD:()=>Sr,aE:()=>da,aF:()=>Vl,aG:()=>Ll,aH:()=>En,aL:()=>ks,aO:()=>Ki,aa:()=>Du,ab:()=>Tu,ac:()=>qd,ad:()=>Au,ae:()=>Su,af:()=>bl,ai:()=>El,aj:()=>Dl,ak:()=>zr,an:()=>Pc,ao:()=>Sl,aq:()=>mn,ar:()=>Ba,as:()=>Mt,at:()=>Pt,au:()=>Te,av:()=>Me,aw:()=>jt,ax:()=>Gr,ay:()=>nn,az:()=>be,b:()=>Pu,c:()=>ts,d:()=>Ga,e:()=>Wc,f:()=>Ul,g:()=>Qc,h:()=>Yc,i:()=>Vc,j:()=>$f,k:()=>rs,l:()=>kl,m:()=>zu,o:()=>dh,p:()=>ve,r:()=>th,s:()=>So,u:()=>es});var u=U(5861),q=U(2090),R=U(6881),se=U(655),ue=U(1877),j=U(4859);const ve={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},W={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const ke=function ne(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Qe=function qe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},at=new q.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ne=new ue.Yd("@firebase/auth");function Le(v,...f){Ne.logLevel<=ue.in.ERROR&&Ne.error(`Auth (${R.SDK_VERSION}): ${v}`,...f)}function Me(v,...f){throw He(v,...f)}function be(v,...f){return He(v,...f)}function _e(v,f,m){const b=Object.assign(Object.assign({},Qe()),{[f]:m});return new q.LL("auth","Firebase",b).create(f,{appName:v.name})}function Ge(v,f,m){if(!(f instanceof m))throw m.name!==f.constructor.name&&Me(v,"argument-error"),_e(v,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function He(v,...f){if("string"!=typeof v){const m=f[0],b=[...f.slice(1)];return b[0]&&(b[0].appName=v.name),v._errorFactory.create(m,...b)}return at.create(v,...f)}function ae(v,f,...m){if(!v)throw He(f,...m)}function Xe(v){const f="INTERNAL ASSERTION FAILED: "+v;throw Le(f),new Error(f)}function Mt(v,f){v||Xe(f)}function lt(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function Zt(){return"http:"===et()||"https:"===et()}function et(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class Ie{constructor(f,m){this.shortDelay=f,this.longDelay=m,Mt(m>f,"Short delay should be less than long delay!"),this.isMobile=(0,q.uI)()||(0,q.b$)()}get(){return function ni(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Zt()||(0,q.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function xe(v,f){Mt(v.emulator,"Emulator should always be set here");const{url:m}=v.emulator;return f?`${m}${f.startsWith("/")?f.slice(1):f}`:m}class Fe{static initialize(f,m,b){this.fetchImpl=f,m&&(this.headersImpl=m),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Xe("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Xe("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Xe("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ke={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},$e=new Ie(3e4,6e4);function Ue(v,f){return v.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:v.tenantId}):f}function gt(v,f,m,b){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,u.Z)(function*(v,f,m,b,P={}){return ct(v,P,(0,u.Z)(function*(){let L={},te={};b&&("GET"===f?te=b:L={body:JSON.stringify(b)});const pe=(0,q.xO)(Object.assign({key:v.config.apiKey},te)).slice(1),We=yield v._getAdditionalHeaders();return We["Content-Type"]="application/json",v.languageCode&&(We["X-Firebase-Locale"]=v.languageCode),Fe.fetch()(gn(v,v.config.apiHost,m,pe),Object.assign({method:f,headers:We,referrerPolicy:"no-referrer"},L))}))})).apply(this,arguments)}function ct(v,f,m){return yt.apply(this,arguments)}function yt(){return(yt=(0,u.Z)(function*(v,f,m){v._canInitEmulator=!1;const b=Object.assign(Object.assign({},Ke),f);try{const P=new Br(v),L=yield Promise.race([m(),P.promise]);P.clearNetworkTimeout();const te=yield L.json();if("needConfirmation"in te)throw bn(v,"account-exists-with-different-credential",te);if(L.ok&&!("errorMessage"in te))return te;{const pe=L.ok?te.errorMessage:te.error.message,[We,tt]=pe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===We)throw bn(v,"credential-already-in-use",te);if("EMAIL_EXISTS"===We)throw bn(v,"email-already-in-use",te);if("USER_DISABLED"===We)throw bn(v,"user-disabled",te);const Tt=b[We]||We.toLowerCase().replace(/[_\s]+/g,"-");if(tt)throw _e(v,Tt,tt);Me(v,Tt)}}catch(P){if(P instanceof q.ZR)throw P;Me(v,"network-request-failed",{message:String(P)})}})).apply(this,arguments)}function dn(v,f,m,b){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,u.Z)(function*(v,f,m,b,P={}){const L=yield gt(v,f,m,b,P);return"mfaPendingCredential"in L&&Me(v,"multi-factor-auth-required",{_serverResponse:L}),L})).apply(this,arguments)}function gn(v,f,m,b){const P=`${f}${m}?${b}`;return v.config.emulator?xe(v.config,P):`${v.config.apiScheme}://${P}`}class Br{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((m,b)=>{this.timer=setTimeout(()=>b(be(this.auth,"network-request-failed")),$e.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function bn(v,f,m){const b={appName:v.name};m.email&&(b.email=m.email),m.phoneNumber&&(b.phoneNumber=m.phoneNumber);const P=be(v,f,b);return P.customData._tokenResponse=m,P}function Jn(){return(Jn=(0,u.Z)(function*(v,f){return gt(v,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function Kt(){return(Kt=(0,u.Z)(function*(v,f){return gt(v,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Sn(){return(Sn=(0,u.Z)(function*(v,f){return gt(v,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function dt(v){if(v)try{const f=new Date(Number(v));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function Gn(){return(Gn=(0,u.Z)(function*(v,f=!1){const m=(0,q.m9)(v),b=yield m.getIdToken(f),P=On(b);ae(P&&P.exp&&P.auth_time&&P.iat,m.auth,"internal-error");const L="object"==typeof P.firebase?P.firebase:void 0,te=L?.sign_in_provider;return{claims:P,token:b,authTime:dt(fr(P.auth_time)),issuedAtTime:dt(fr(P.iat)),expirationTime:dt(fr(P.exp)),signInProvider:te||null,signInSecondFactor:L?.sign_in_second_factor||null}})).apply(this,arguments)}function fr(v){return 1e3*Number(v)}function On(v){const[f,m,b]=v.split(".");if(void 0===f||void 0===m||void 0===b)return Le("JWT malformed, contained fewer than 3 sections"),null;try{const P=(0,q.tV)(m);return P?JSON.parse(P):(Le("Failed to decode base64 JWT payload"),null)}catch(P){return Le("Caught error parsing JWT payload as JSON",P?.toString()),null}}function en(v,f){return ft.apply(this,arguments)}function ft(){return(ft=(0,u.Z)(function*(v,f,m=!1){if(m)return f;try{return yield f}catch(b){throw b instanceof q.ZR&&function Ut({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}(b)&&v.auth.currentUser===v&&(yield v.auth.signOut()),b}})).apply(this,arguments)}class Xn{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var m;if(f){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const P=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,P)}}schedule(f=!1){var m=this;if(!this.isRunning)return;const b=this.getInterval(f);this.timerId=setTimeout((0,u.Z)(function*(){yield m.iteration()}),b)}iteration(){var f=this;return(0,u.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m?.code&&f.schedule(!0))}f.schedule()})()}}class vr{constructor(f,m){this.createdAt=f,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=dt(this.lastLoginAt),this.creationTime=dt(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function qn(v){return ri.apply(this,arguments)}function ri(){return ri=(0,u.Z)(function*(v){var f;const m=v.auth,b=yield v.getIdToken(),P=yield en(v,function $r(v,f){return Sn.apply(this,arguments)}(m,{idToken:b}));ae(P?.users.length,m,"internal-error");const L=P.users[0];v._notifyReloadListener(L);const te=null!==(f=L.providerUserInfo)&&void 0!==f&&f.length?function yi(v){return v.map(f=>{var{providerId:m}=f,b=(0,se._T)(f,["providerId"]);return{providerId:m,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}(L.providerUserInfo):[],pe=function sn(v,f){return[...v.filter(b=>!f.some(P=>P.providerId===b.providerId)),...f]}(v.providerData,te),Tt=!!v.isAnonymous&&!(v.email&&L.passwordHash||pe?.length),an={uid:L.localId,displayName:L.displayName||null,photoURL:L.photoUrl||null,email:L.email||null,emailVerified:L.emailVerified||!1,phoneNumber:L.phoneNumber||null,tenantId:L.tenantId||null,providerData:pe,metadata:new vr(L.createdAt,L.lastLoginAt),isAnonymous:Tt};Object.assign(v,an)}),ri.apply(this,arguments)}function wr(){return(wr=(0,u.Z)(function*(v){const f=(0,q.m9)(v);yield qn(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function ii(){return(ii=(0,u.Z)(function*(v,f){const m=yield ct(v,{},(0,u.Z)(function*(){const b=(0,q.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:P,apiKey:L}=v.config,te=gn(v,P,"/v1/token",`key=${L}`),pe=yield v._getAdditionalHeaders();return pe["Content-Type"]="application/x-www-form-urlencoded",Fe.fetch()(te,{method:"POST",headers:pe,body:b})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class Gt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){ae(f.idToken,"internal-error"),ae(typeof f.idToken<"u","internal-error"),ae(typeof f.refreshToken<"u","internal-error");const m="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function vn(v){const f=On(v);return ae(f,"internal-error"),ae(typeof f.exp<"u","internal-error"),ae(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,m)}getToken(f,m=!1){var b=this;return(0,u.Z)(function*(){return ae(!b.accessToken||b.refreshToken,f,"user-token-expired"),m||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(f,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,m){var b=this;return(0,u.Z)(function*(){const{accessToken:P,refreshToken:L,expiresIn:te}=yield function un(v,f){return ii.apply(this,arguments)}(f,m);b.updateTokensAndExpiration(P,L,Number(te))})()}updateTokensAndExpiration(f,m,b){this.refreshToken=m||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(f,m){const{refreshToken:b,accessToken:P,expirationTime:L}=m,te=new Gt;return b&&(ae("string"==typeof b,"internal-error",{appName:f}),te.refreshToken=b),P&&(ae("string"==typeof P,"internal-error",{appName:f}),te.accessToken=P),L&&(ae("number"==typeof L,"internal-error",{appName:f}),te.expirationTime=L),te}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new Gt,this.toJSON())}_performRefresh(){return Xe("not implemented")}}function er(v,f){ae("string"==typeof v||typeof v>"u","internal-error",{appName:f})}class Hn{constructor(f){var{uid:m,auth:b,stsTokenManager:P}=f,L=(0,se._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Xn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=b,this.stsTokenManager=P,this.accessToken=P.accessToken,this.displayName=L.displayName||null,this.email=L.email||null,this.emailVerified=L.emailVerified||!1,this.phoneNumber=L.phoneNumber||null,this.photoURL=L.photoURL||null,this.isAnonymous=L.isAnonymous||!1,this.tenantId=L.tenantId||null,this.providerData=L.providerData?[...L.providerData]:[],this.metadata=new vr(L.createdAt||void 0,L.lastLoginAt||void 0)}getIdToken(f){var m=this;return(0,u.Z)(function*(){const b=yield en(m,m.stsTokenManager.getToken(m.auth,f));return ae(b,m.auth,"internal-error"),m.accessToken!==b&&(m.accessToken=b,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),b})()}getIdTokenResult(f){return function Ln(v){return Gn.apply(this,arguments)}(this,f)}reload(){return function xn(v){return wr.apply(this,arguments)}(this)}_assign(f){this!==f&&(ae(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(m=>Object.assign({},m)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){const m=new Hn(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}));return m.metadata._copy(this.metadata),m}_onReload(f){ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,m=!1){var b=this;return(0,u.Z)(function*(){let P=!1;f.idToken&&f.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(f),P=!0),m&&(yield qn(b)),yield b.auth._persistUserIfCurrent(b),P&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var f=this;return(0,u.Z)(function*(){const m=yield f.getIdToken();return yield en(f,function _r(v,f){return Jn.apply(this,arguments)}(f.auth,{idToken:m})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,m){var b,P,L,te,pe,We,tt,Tt;const an=null!==(b=m.displayName)&&void 0!==b?b:void 0,Si=null!==(P=m.email)&&void 0!==P?P:void 0,ga=null!==(L=m.phoneNumber)&&void 0!==L?L:void 0,Qa=null!==(te=m.photoURL)&&void 0!==te?te:void 0,nd=null!==(pe=m.tenantId)&&void 0!==pe?pe:void 0,Js=null!==(We=m._redirectEventId)&&void 0!==We?We:void 0,Gf=null!==(tt=m.createdAt)&&void 0!==tt?tt:void 0,hh=null!==(Tt=m.lastLoginAt)&&void 0!==Tt?Tt:void 0,{uid:rd,emailVerified:Ja,isAnonymous:fh,providerData:ph,stsTokenManager:Zu}=m;ae(rd&&Zu,f,"internal-error");const gh=Gt.fromJSON(this.name,Zu);ae("string"==typeof rd,f,"internal-error"),er(an,f.name),er(Si,f.name),ae("boolean"==typeof Ja,f,"internal-error"),ae("boolean"==typeof fh,f,"internal-error"),er(ga,f.name),er(Qa,f.name),er(nd,f.name),er(Js,f.name),er(Gf,f.name),er(hh,f.name);const Ku=new Hn({uid:rd,auth:f,email:Si,emailVerified:Ja,displayName:an,isAnonymous:fh,photoURL:Qa,phoneNumber:ga,tenantId:nd,stsTokenManager:gh,createdAt:Gf,lastLoginAt:hh});return ph&&Array.isArray(ph)&&(Ku.providerData=ph.map(Xa=>Object.assign({},Xa))),Js&&(Ku._redirectEventId=Js),Ku}static _fromIdTokenResponse(f,m,b=!1){return(0,u.Z)(function*(){const P=new Gt;P.updateFromServerResponse(m);const L=new Hn({uid:m.localId,auth:f,stsTokenManager:P,isAnonymous:b});return yield qn(L),L})()}}const tr=new Map;function nr(v){Mt(v instanceof Function,"Expected a class definition");let f=tr.get(v);return f?(Mt(f instanceof v,"Instance stored in cache mismatched with class"),f):(f=new v,tr.set(v,f),f)}const jr=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.Z)(function*(){return!0})()}_set(m,b){var P=this;return(0,u.Z)(function*(){P.storage[m]=b})()}_get(m){var b=this;return(0,u.Z)(function*(){const P=b.storage[m];return void 0===P?null:P})()}_remove(m){var b=this;return(0,u.Z)(function*(){delete b.storage[m]})()}_addListener(m,b){}_removeListener(m,b){}}return v.type="NONE",v})();function Sr(v,f,m){return`firebase:${v}:${f}:${m}`}class K{constructor(f,m,b){this.persistence=f,this.auth=m,this.userKey=b;const{config:P,name:L}=this.auth;this.fullUserKey=Sr(this.userKey,P.apiKey,L),this.fullPersistenceKey=Sr("persistence",P.apiKey,L),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,u.Z)(function*(){const m=yield f.persistence._get(f.fullUserKey);return m?Hn._fromJSON(f.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var m=this;return(0,u.Z)(function*(){if(m.persistence===f)return;const b=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=f,b?m.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,m,b="authUser"){return(0,u.Z)(function*(){if(!m.length)return new K(nr(jr),f,b);const P=(yield Promise.all(m.map(function(){var tt=(0,u.Z)(function*(Tt){if(yield Tt._isAvailable())return Tt});return function(Tt){return tt.apply(this,arguments)}}()))).filter(tt=>tt);let L=P[0]||nr(jr);const te=Sr(b,f.config.apiKey,f.name);let pe=null;for(const tt of m)try{const Tt=yield tt._get(te);if(Tt){const an=Hn._fromJSON(f,Tt);tt!==L&&(pe=an),L=tt;break}}catch{}const We=P.filter(tt=>tt._shouldAllowMigration);return L._shouldAllowMigration&&We.length?(L=We[0],pe&&(yield L._set(te,pe.toJSON())),yield Promise.all(m.map(function(){var tt=(0,u.Z)(function*(Tt){if(Tt!==L)try{yield Tt._remove(te)}catch{}});return function(Tt){return tt.apply(this,arguments)}}())),new K(L,f,b)):new K(L,f,b)})()}}function G(v){const f=v.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(J(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(V(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(ot(f))return"Blackberry";if(kt(f))return"Webos";if(B(f))return"Safari";if((f.includes("chrome/")||k(f))&&!f.includes("edge/"))return"Chrome";if(Te(f))return"Android";{const b=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===b?.length)return b[1]}return"Other"}function V(v=(0,q.z$)()){return/firefox\//i.test(v)}function B(v=(0,q.z$)()){const f=v.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function k(v=(0,q.z$)()){return/crios\//i.test(v)}function J(v=(0,q.z$)()){return/iemobile/i.test(v)}function Te(v=(0,q.z$)()){return/android/i.test(v)}function ot(v=(0,q.z$)()){return/blackberry/i.test(v)}function kt(v=(0,q.z$)()){return/webos/i.test(v)}function Pt(v=(0,q.z$)()){return/iphone|ipad|ipod/i.test(v)||/macintosh/i.test(v)&&/mobile/i.test(v)}function nn(v=(0,q.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}function Yt(v=(0,q.z$)()){return Pt(v)||Te(v)||kt(v)||ot(v)||/windows phone/i.test(v)||J(v)}function Wn(v,f=[]){let m;switch(v){case"Browser":m=G((0,q.z$)());break;case"Worker":m=`${G((0,q.z$)())}-${v}`;break;default:m=v}const b=f.length?f.join(","):"FirebaseCore-web";return`${m}/JsCore/${R.SDK_VERSION}/${b}`}function oe(){return(oe=(0,u.Z)(function*(v){return(yield gt(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ze(v,f){return _t.apply(this,arguments)}function _t(){return(_t=(0,u.Z)(function*(v,f){return gt(v,"GET","/v2/recaptchaConfig",Ue(v,f))})).apply(this,arguments)}function Lt(v){return void 0!==v&&void 0!==v.getResponse}function on(v){return void 0!==v&&void 0!==v.enterprise}class Et{constructor(f){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===f.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=f.recaptchaKey.split("/")[3],this.emailPasswordEnabled=f.recaptchaEnforcementState.some(m=>"EMAIL_PASSWORD_PROVIDER"===m.provider&&"OFF"!==m.enforcementState)}}function hn(v){return new Promise((f,m)=>{const b=document.createElement("script");b.setAttribute("src",v),b.onload=f,b.onerror=P=>{const L=be("internal-error");L.customData=P,m(L)},b.type="text/javascript",b.charset="UTF-8",function Cn(){var v,f;return null!==(f=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==f?f:document}().appendChild(b)})}function xr(v){return`__${v}${Math.floor(1e6*Math.random())}`}const Sc="NO_RECAPTCHA";class Bs{constructor(f){this.type="recaptcha-enterprise",this.auth=En(f)}verify(f="verify",m=!1){var b=this;return(0,u.Z)(function*(){function L(){return L=(0,u.Z)(function*(pe){if(!m){if(null==pe.tenantId&&null!=pe._agentRecaptchaConfig)return pe._agentRecaptchaConfig.siteKey;if(null!=pe.tenantId&&void 0!==pe._tenantRecaptchaConfigs[pe.tenantId])return pe._tenantRecaptchaConfigs[pe.tenantId].siteKey}return new Promise(function(){var We=(0,u.Z)(function*(tt,Tt){ze(pe,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(an=>{if(void 0!==an.recaptchaKey){const Si=new Et(an);return null==pe.tenantId?pe._agentRecaptchaConfig=Si:pe._tenantRecaptchaConfigs[pe.tenantId]=Si,tt(Si.siteKey)}Tt(new Error("recaptcha Enterprise site key undefined"))}).catch(an=>{Tt(an)})});return function(tt,Tt){return We.apply(this,arguments)}}())}),L.apply(this,arguments)}function te(pe,We,tt){const Tt=window.grecaptcha;on(Tt)?Tt.enterprise.ready(()=>{Tt.enterprise.execute(pe,{action:f}).then(an=>{We(an)}).catch(()=>{We(Sc)})}):tt(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((pe,We)=>{(function P(pe){return L.apply(this,arguments)})(b.auth).then(tt=>{if(!m&&on(window.grecaptcha))te(tt,pe,We);else{if(typeof window>"u")return void We(new Error("RecaptchaVerifier is only supported in browser"));hn("https://www.google.com/recaptcha/enterprise.js?render="+tt).then(()=>{te(tt,pe,We)}).catch(Tt=>{We(Tt)})}}).catch(tt=>{We(tt)})})})()}}function Cr(v,f,m){return nt.apply(this,arguments)}function nt(){return(nt=(0,u.Z)(function*(v,f,m,b=!1){const P=new Bs(v);let L;try{L=yield P.verify(m)}catch{L=yield P.verify(m,!0)}const te=Object.assign({},f);return Object.assign(te,b?{captchaResp:L}:{captchaResponse:L}),Object.assign(te,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(te,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),te})).apply(this,arguments)}class qt{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,m){const b=L=>new Promise((te,pe)=>{try{te(f(L))}catch(We){pe(We)}});b.onAbort=m,this.queue.push(b);const P=this.queue.length-1;return()=>{this.queue[P]=()=>Promise.resolve()}}runMiddleware(f){var m=this;return(0,u.Z)(function*(){if(m.auth.currentUser===f)return;const b=[];try{for(const P of m.queue)yield P(f),P.onAbort&&b.push(P.onAbort)}catch(P){b.reverse();for(const L of b)try{L()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:P?.message})}})()}}class Vn{constructor(f,m,b,P){this.app=f,this.heartbeatServiceProvider=m,this.appCheckServiceProvider=b,this.config=P,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ls(this),this.idTokenSubscription=new ls(this),this.beforeStateQueue=new qt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=at,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=P.sdkClientVersion}_initializeWithPersistence(f,m){var b=this;return m&&(this._popupRedirectResolver=nr(m)),this._initializationPromise=this.queue((0,u.Z)(function*(){var P,L;if(!b._deleted&&(b.persistenceManager=yield K.create(b,f),!b._deleted)){if(null!==(P=b._popupRedirectResolver)&&void 0!==P&&P._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch{}yield b.initializeCurrentUser(m),b.lastNotifiedUid=(null===(L=b.currentUser)||void 0===L?void 0:L.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,u.Z)(function*(){if(f._deleted)return;const m=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||m){if(f.currentUser&&m&&f.currentUser.uid===m.uid)return f._currentUser._assign(m),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(m,!0)}})()}initializeCurrentUser(f){var m=this;return(0,u.Z)(function*(){var b;const P=yield m.assertedPersistence.getCurrentUser();let L=P,te=!1;if(f&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const pe=null===(b=m.redirectUser)||void 0===b?void 0:b._redirectEventId,We=L?._redirectEventId,tt=yield m.tryRedirectSignIn(f);(!pe||pe===We)&&tt?.user&&(L=tt.user,te=!0)}if(!L)return m.directlySetCurrentUser(null);if(!L._redirectEventId){if(te)try{yield m.beforeStateQueue.runMiddleware(L)}catch(pe){L=P,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(pe))}return L?m.reloadAndSetCurrentUserOrClear(L):m.directlySetCurrentUser(null)}return ae(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===L._redirectEventId?m.directlySetCurrentUser(L):m.reloadAndSetCurrentUserOrClear(L)})()}tryRedirectSignIn(f){var m=this;return(0,u.Z)(function*(){let b=null;try{b=yield m._popupRedirectResolver._completeRedirectFn(m,f,!0)}catch{yield m._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(f){var m=this;return(0,u.Z)(function*(){try{yield qn(f)}catch(b){if("auth/network-request-failed"!==b?.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function ce(){if(typeof navigator>"u")return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var f=this;return(0,u.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var m=this;return(0,u.Z)(function*(){const b=f?(0,q.m9)(f):null;return b&&ae(b.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(b&&b._clone(m))})()}_updateCurrentUser(f,m=!1){var b=this;return(0,u.Z)(function*(){if(!b._deleted)return f&&ae(b.tenantId===f.tenantId,b,"tenant-id-mismatch"),m||(yield b.beforeStateQueue.runMiddleware(f)),b.queue((0,u.Z)(function*(){yield b.directlySetCurrentUser(f),b.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,u.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var m=this;return this.queue((0,u.Z)(function*(){yield m.assertedPersistence.setPersistence(nr(f))}))}initializeRecaptchaConfig(){var f=this;return(0,u.Z)(function*(){const m=yield ze(f,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),b=new Et(m);null==f.tenantId?f._agentRecaptchaConfig=b:f._tenantRecaptchaConfigs[f.tenantId]=b,b.emailPasswordEnabled&&new Bs(f).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new q.LL("auth","Firebase",f())}onAuthStateChanged(f,m,b){return this.registerStateListener(this.authStateSubscription,f,m,b)}beforeAuthStateChanged(f,m){return this.beforeStateQueue.pushCallback(f,m)}onIdTokenChanged(f,m,b){return this.registerStateListener(this.idTokenSubscription,f,m,b)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,m){var b=this;return(0,u.Z)(function*(){const P=yield b.getOrInitRedirectPersistenceManager(m);return null===f?P.removeCurrentUser():P.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var m=this;return(0,u.Z)(function*(){if(!m.redirectPersistenceManager){const b=f&&nr(f)||m._popupRedirectResolver;ae(b,m,"argument-error"),m.redirectPersistenceManager=yield K.create(m,[nr(b._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(f){var m=this;return(0,u.Z)(function*(){var b,P;return m._isInitialized&&(yield m.queue((0,u.Z)(function*(){}))),(null===(b=m._currentUser)||void 0===b?void 0:b._redirectEventId)===f?m._currentUser:(null===(P=m.redirectUser)||void 0===P?void 0:P._redirectEventId)===f?m.redirectUser:null})()}_persistUserIfCurrent(f){var m=this;return(0,u.Z)(function*(){if(f===m.currentUser)return m.queue((0,u.Z)(function*(){return m.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(m=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,m,b,P){if(this._deleted)return()=>{};const L="function"==typeof m?m:m.next.bind(m),te=this._isInitialized?Promise.resolve():this._initializationPromise;return ae(te,this,"internal-error"),te.then(()=>L(this.currentUser)),"function"==typeof m?f.addObserver(m,b,P):f.addObserver(m)}directlySetCurrentUser(f){var m=this;return(0,u.Z)(function*(){m.currentUser&&m.currentUser!==f&&m._currentUser._stopProactiveRefresh(),f&&m.isProactiveRefreshEnabled&&f._startProactiveRefresh(),m.currentUser=f,f?yield m.assertedPersistence.setCurrentUser(f):yield m.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=Wn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,u.Z)(function*(){var m;const b={"X-Client-Version":f.clientVersion};f.app.options.appId&&(b["X-Firebase-gmpid"]=f.app.options.appId);const P=yield null===(m=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();P&&(b["X-Firebase-Client"]=P);const L=yield f._getAppCheckToken();return L&&(b["X-Firebase-AppCheck"]=L),b})()}_getAppCheckToken(){var f=this;return(0,u.Z)(function*(){var m;const b=yield null===(m=f.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getToken();return b?.error&&function Be(v,...f){Ne.logLevel<=ue.in.WARN&&Ne.warn(`Auth (${R.SDK_VERSION}): ${v}`,...f)}(`Error while retrieving App Check token: ${b.error}`),b?.token})()}}function En(v){return(0,q.m9)(v)}class ls{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,q.ne)(m=>this.observer=m)}get next(){return ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Rn(v,f,m){const b=En(v);ae(b._canInitEmulator,b,"emulator-config-failed"),ae(/^https?:\/\//.test(f),b,"invalid-emulator-scheme");const P=!!m?.disableWarnings,L=ho(f),{host:te,port:pe}=function _i(v){const f=ho(v),m=/(\/\/)?([^?#/]+)/.exec(v.substr(f.length));if(!m)return{host:"",port:null};const b=m[2].split("@").pop()||"",P=/^(\[[^\]]+\])(:|$)/.exec(b);if(P){const L=P[1];return{host:L,port:Qt(b.substr(L.length+1))}}{const[L,te]=b.split(":");return{host:L,port:Qt(te)}}}(f);b.config.emulator={url:`${L}//${te}${null===pe?"":`:${pe}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:te,port:pe,protocol:L.replace(":",""),options:Object.freeze({disableWarnings:P})}),P||function qo(){function v(){const f=document.createElement("p"),m=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}function ho(v){const f=v.indexOf(":");return f<0?"":v.substr(0,f+1)}function Qt(v){if(!v)return null;const f=Number(v);return isNaN(f)?null:f}class vi{constructor(f,m){this.providerId=f,this.signInMethod=m}toJSON(){return Xe("not implemented")}_getIdTokenResponse(f){return Xe("not implemented")}_linkToIdToken(f,m){return Xe("not implemented")}_getReauthenticationResolver(f){return Xe("not implemented")}}function Wo(v,f){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,u.Z)(function*(v,f){return gt(v,"POST","/v1/accounts:resetPassword",Ue(v,f))})).apply(this,arguments)}function pr(v,f){return $s.apply(this,arguments)}function $s(){return($s=(0,u.Z)(function*(v,f){return gt(v,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Hr(){return(Hr=(0,u.Z)(function*(v,f){return gt(v,"POST","/v1/accounts:update",Ue(v,f))})).apply(this,arguments)}function fo(v,f){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,u.Z)(function*(v,f){return dn(v,"POST","/v1/accounts:signInWithPassword",Ue(v,f))})).apply(this,arguments)}function kn(v,f){return wi.apply(this,arguments)}function wi(){return(wi=(0,u.Z)(function*(v,f){return gt(v,"POST","/v1/accounts:sendOobCode",Ue(v,f))})).apply(this,arguments)}function Zo(){return(Zo=(0,u.Z)(function*(v,f){return kn(v,f)})).apply(this,arguments)}function po(v,f){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,u.Z)(function*(v,f){return kn(v,f)})).apply(this,arguments)}function Hs(v,f){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,u.Z)(function*(v,f){return kn(v,f)})).apply(this,arguments)}function Qr(){return(Qr=(0,u.Z)(function*(v,f){return kn(v,f)})).apply(this,arguments)}function As(){return(As=(0,u.Z)(function*(v,f){return dn(v,"POST","/v1/accounts:signInWithEmailLink",Ue(v,f))})).apply(this,arguments)}function bi(){return(bi=(0,u.Z)(function*(v,f){return dn(v,"POST","/v1/accounts:signInWithEmailLink",Ue(v,f))})).apply(this,arguments)}class Jr extends vi{constructor(f,m,b,P=null){super("password",b),this._email=f,this._password=m,this._tenantId=P}static _fromEmailAndPassword(f,m){return new Jr(f,m,"password")}static _fromEmailAndCode(f,m,b=null){return new Jr(f,m,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(f){var m=this;return(0,u.Z)(function*(){var b;switch(m.signInMethod){case"password":const P={returnSecureToken:!0,email:m._email,password:m._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(b=f._getRecaptchaConfig())&&void 0!==b&&b.emailPasswordEnabled){const L=yield Cr(f,P,"signInWithPassword");return fo(f,L)}return fo(f,P).catch(function(){var L=(0,u.Z)(function*(te){if("auth/missing-recaptcha-token"===te.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const pe=yield Cr(f,P,"signInWithPassword");return fo(f,pe)}return Promise.reject(te)});return function(te){return L.apply(this,arguments)}}());case"emailLink":return function Vi(v,f){return As.apply(this,arguments)}(f,{email:m._email,oobCode:m._password});default:Me(f,"internal-error")}})()}_linkToIdToken(f,m){var b=this;return(0,u.Z)(function*(){switch(b.signInMethod){case"password":return pr(f,{idToken:m,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function Sa(v,f){return bi.apply(this,arguments)}(f,{idToken:m,email:b._email,oobCode:b._password});default:Me(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function us(v,f){return cs.apply(this,arguments)}function cs(){return(cs=(0,u.Z)(function*(v,f){return dn(v,"POST","/v1/accounts:signInWithIdp",Ue(v,f))})).apply(this,arguments)}class Wi extends vi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const m=new Wi(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(m.idToken=f.idToken),f.accessToken&&(m.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(m.nonce=f.nonce),f.pendingToken&&(m.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(m.accessToken=f.oauthToken,m.secret=f.oauthTokenSecret):Me("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:b,signInMethod:P}=m,L=(0,se._T)(m,["providerId","signInMethod"]);if(!b||!P)return null;const te=new Wi(b,P);return te.idToken=L.idToken||void 0,te.accessToken=L.accessToken||void 0,te.secret=L.secret,te.nonce=L.nonce,te.pendingToken=L.pendingToken||null,te}_getIdTokenResponse(f){return us(f,this.buildRequest())}_linkToIdToken(f,m){const b=this.buildRequest();return b.idToken=m,us(f,b)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,us(f,m)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),f.postBody=(0,q.xO)(m)}return f}}function _l(){return(_l=(0,u.Z)(function*(v,f){return gt(v,"POST","/v1/accounts:sendVerificationCode",Ue(v,f))})).apply(this,arguments)}function uu(){return(uu=(0,u.Z)(function*(v,f){return dn(v,"POST","/v1/accounts:signInWithPhoneNumber",Ue(v,f))})).apply(this,arguments)}function cu(){return(cu=(0,u.Z)(function*(v,f){const m=yield dn(v,"POST","/v1/accounts:signInWithPhoneNumber",Ue(v,f));if(m.temporaryProof)throw bn(v,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const du={USER_NOT_FOUND:"user-not-found"};function xc(){return(xc=(0,u.Z)(function*(v,f){return dn(v,"POST","/v1/accounts:signInWithPhoneNumber",Ue(v,Object.assign(Object.assign({},f),{operation:"REAUTH"})),du)})).apply(this,arguments)}class Ss extends vi{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,m){return new Ss({verificationId:f,verificationCode:m})}static _fromTokenResponse(f,m){return new Ss({phoneNumber:f,temporaryProof:m})}_getIdTokenResponse(f){return function go(v,f){return uu.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,m){return function zd(v,f){return cu.apply(this,arguments)}(f,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function hu(v,f){return xc.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:m,verificationId:b,verificationCode:P}=this.params;return f&&m?{temporaryProof:f,phoneNumber:m}:{sessionInfo:b,code:P}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:m,verificationCode:b,phoneNumber:P,temporaryProof:L}=f;return b||m||P||L?new Ss({verificationId:m,verificationCode:b,phoneNumber:P,temporaryProof:L}):null}}class xs{constructor(f){var m,b,P,L,te,pe;const We=(0,q.zd)((0,q.pd)(f)),tt=null!==(m=We.apiKey)&&void 0!==m?m:null,Tt=null!==(b=We.oobCode)&&void 0!==b?b:null,an=function mo(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(P=We.mode)&&void 0!==P?P:null);ae(tt&&Tt&&an,"argument-error"),this.apiKey=tt,this.operation=an,this.code=Tt,this.continueUrl=null!==(L=We.continueUrl)&&void 0!==L?L:null,this.languageCode=null!==(te=We.languageCode)&&void 0!==te?te:null,this.tenantId=null!==(pe=We.tenantId)&&void 0!==pe?pe:null}static parseLink(f){const m=function Mc(v){const f=(0,q.zd)((0,q.pd)(v)).link,m=f?(0,q.zd)((0,q.pd)(f)).deep_link_id:null,b=(0,q.zd)((0,q.pd)(v)).deep_link_id;return(b?(0,q.zd)((0,q.pd)(b)).link:null)||b||m||f||v}(f);try{return new xs(m)}catch{return null}}}let pu=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(m,b){return Jr._fromEmailAndPassword(m,b)}static credentialWithLink(m,b){const P=xs.parseLink(b);return ae(P,"argument-error"),Jr._fromEmailAndCode(m,P.code,P.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class Gs{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class yo extends Gs{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class Zi extends yo{static credentialFromJSON(f){const m="string"==typeof f?JSON.parse(f):f;return ae("providerId"in m&&"signInMethod"in m,"argument-error"),Wi._fromParams(m)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return ae(f.idToken||f.accessToken,"argument-error"),Wi._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return Zi.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return Zi.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:m,oauthAccessToken:b,oauthTokenSecret:P,pendingToken:L,nonce:te,providerId:pe}=f;if(!b&&!P&&!m&&!L||!pe)return null;try{return new Zi(pe)._credential({idToken:m,accessToken:b,nonce:te,pendingToken:L})}catch{return null}}}let gu=(()=>{class v extends yo{constructor(){super("facebook.com")}static credential(m){return Wi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch{return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),xa=(()=>{class v extends yo{constructor(){super("google.com"),this.addScope("profile")}static credential(m,b){return Wi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:b})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:b,oauthAccessToken:P}=m;if(!b&&!P)return null;try{return v.credential(b,P)}catch{return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),Ko=(()=>{class v extends yo{constructor(){super("github.com")}static credential(m){return Wi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch{return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class Ki extends vi{constructor(f,m){super(f,f),this.pendingToken=m}_getIdTokenResponse(f){return us(f,this.buildRequest())}_linkToIdToken(f,m){const b=this.buildRequest();return b.idToken=m,us(f,b)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,us(f,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:b,signInMethod:P,pendingToken:L}=m;return b&&P&&L&&b===P?new Ki(b,L):null}static _create(f,m){return new Ki(f,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ma extends Gs{constructor(f){ae(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return Ma.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return Ma.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const m=Ki.fromJSON(f);return ae(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:m,providerId:b}=f;if(!m||!b)return null;try{return Ki._create(b,m)}catch{return null}}}let yu=(()=>{class v extends yo{constructor(){super("twitter.com")}static credential(m,b){return Wi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:b})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:b,oauthTokenSecret:P}=m;if(!b||!P)return null;try{return v.credential(b,P)}catch{return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function qs(v,f){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,u.Z)(function*(v,f){return dn(v,"POST","/v1/accounts:signUp",Ue(v,f))})).apply(this,arguments)}class Bn{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,m,b,P=!1){return(0,u.Z)(function*(){const L=yield Hn._fromIdTokenResponse(f,b,P),te=vo(b);return new Bn({user:L,providerId:te,_tokenResponse:b,operationType:m})})()}static _forOperation(f,m,b){return(0,u.Z)(function*(){yield f._updateTokensIfNecessary(b,!0);const P=vo(b);return new Bn({user:f,providerId:P,_tokenResponse:b,operationType:m})})()}}function vo(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function Yo(v){return or.apply(this,arguments)}function or(){return(or=(0,u.Z)(function*(v){var f;const m=En(v);if(yield m._initializationPromise,null!==(f=m.currentUser)&&void 0!==f&&f.isAnonymous)return new Bn({user:m.currentUser,providerId:null,operationType:"signIn"});const b=yield qs(m,{returnSecureToken:!0}),P=yield Bn._fromIdTokenResponse(m,"signIn",b,!0);return yield m._updateCurrentUser(P.user),P})).apply(this,arguments)}class Ps extends q.ZR{constructor(f,m,b,P){var L;super(m.code,m.message),this.operationType=b,this.user=P,Object.setPrototypeOf(this,Ps.prototype),this.customData={appName:f.name,tenantId:null!==(L=f.tenantId)&&void 0!==L?L:void 0,_serverResponse:m.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(f,m,b,P){return new Ps(f,m,b,P)}}function Os(v,f,m,b){return("reauthenticate"===f?m._getReauthenticationResolver(v):m._getIdTokenResponse(v)).catch(L=>{throw"auth/multi-factor-auth-required"===L.code?Ps._fromErrorAndOperation(v,L,f,b):L})}function Zn(v){return new Set(v.map(({providerId:f})=>f).filter(f=>!!f))}function Pc(v,f){return Pa.apply(this,arguments)}function Pa(){return Pa=(0,u.Z)(function*(v,f){const m=(0,q.m9)(v);yield wo(!0,m,f);const{providerUserInfo:b}=yield function Kr(v,f){return Kt.apply(this,arguments)}(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[f]}),P=Zn(b||[]);return m.providerData=m.providerData.filter(L=>P.has(L.providerId)),P.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m}),Pa.apply(this,arguments)}function Xr(v,f){return gr.apply(this,arguments)}function gr(){return(gr=(0,u.Z)(function*(v,f,m=!1){const b=yield en(v,f._linkToIdToken(v.auth,yield v.getIdToken()),m);return Bn._forOperation(v,"link",b)})).apply(this,arguments)}function wo(v,f,m){return ds.apply(this,arguments)}function ds(){return(ds=(0,u.Z)(function*(v,f,m){yield qn(f);const P=!1===v?"provider-already-linked":"no-such-provider";ae(Zn(f.providerData).has(m)===v,f.auth,P)})).apply(this,arguments)}function _u(v,f){return hs.apply(this,arguments)}function hs(){return(hs=(0,u.Z)(function*(v,f,m=!1){const{auth:b}=v,P="reauthenticate";try{const L=yield en(v,Os(b,P,f,v),m);ae(L.idToken,b,"internal-error");const te=On(L.idToken);ae(te,b,"internal-error");const{sub:pe}=te;return ae(v.uid===pe,b,"user-mismatch"),Bn._forOperation(v,P,L)}catch(L){throw"auth/user-not-found"===L?.code&&Me(b,"user-mismatch"),L}})).apply(this,arguments)}function Qo(v,f){return bo.apply(this,arguments)}function bo(){return(bo=(0,u.Z)(function*(v,f,m=!1){const b="signIn",P=yield Os(v,b,f),L=yield Bn._fromIdTokenResponse(v,b,P);return m||(yield v._updateCurrentUser(L.user)),L})).apply(this,arguments)}function Bt(v,f){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,u.Z)(function*(v,f){return Qo(En(v),f)})).apply(this,arguments)}function vu(v,f){return vl.apply(this,arguments)}function vl(){return(vl=(0,u.Z)(function*(v,f){const m=(0,q.m9)(v);return yield wo(!1,m,f.providerId),Xr(m,f)})).apply(this,arguments)}function Ra(v,f){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,u.Z)(function*(v,f){return _u((0,q.m9)(v),f)})).apply(this,arguments)}function bu(){return(bu=(0,u.Z)(function*(v,f){return dn(v,"POST","/v1/accounts:signInWithCustomToken",Ue(v,f))})).apply(this,arguments)}function Gd(v,f){return ye.apply(this,arguments)}function ye(){return ye=(0,u.Z)(function*(v,f){const m=En(v),b=yield function wu(v,f){return bu.apply(this,arguments)}(m,{token:f,returnSecureToken:!0}),P=yield Bn._fromIdTokenResponse(m,"signIn",b);return yield m._updateCurrentUser(P.user),P}),ye.apply(this,arguments)}class $t{constructor(f,m){this.factorId=f,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(f,m){return"phoneInfo"in m?wl._fromServerResponse(f,m):"totpInfo"in m?Xo._fromServerResponse(f,m):Me(f,"internal-error")}}class wl extends $t{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,m){return new wl(m)}}class Xo extends $t{constructor(f){super("totp",f)}static _fromServerResponse(f,m){return new Xo(m)}}function ir(v,f,m){var b;ae((null===(b=m.url)||void 0===b?void 0:b.length)>0,v,"invalid-continue-uri"),ae(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),f.continueUrl=m.url,f.dynamicLinkDomain=m.dynamicLinkDomain,f.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(ae(m.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),f.iOSBundleId=m.iOS.bundleId),m.android&&(ae(m.android.packageName.length>0,v,"missing-android-pkg-name"),f.androidInstallApp=m.android.installApp,f.androidMinimumVersionCode=m.android.minimumVersion,f.androidPackageName=m.android.packageName)}function Cu(v,f,m){return Ws.apply(this,arguments)}function Ws(){return Ws=(0,u.Z)(function*(v,f,m){var b;const P=En(v),L={requestType:"PASSWORD_RESET",email:f,clientType:"CLIENT_TYPE_WEB"};if(null!==(b=P._getRecaptchaConfig())&&void 0!==b&&b.emailPasswordEnabled){const te=yield Cr(P,L,"getOobCode",!0);m&&ir(P,te,m),yield po(P,te)}else m&&ir(P,L,m),yield po(P,L).catch(function(){var te=(0,u.Z)(function*(pe){if("auth/missing-recaptcha-token"!==pe.code)return Promise.reject(pe);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const We=yield Cr(P,L,"getOobCode",!0);m&&ir(P,We,m),yield po(P,We)}});return function(pe){return te.apply(this,arguments)}}())}),Ws.apply(this,arguments)}function Ci(v,f,m){return ka.apply(this,arguments)}function ka(){return(ka=(0,u.Z)(function*(v,f,m){yield Wo((0,q.m9)(v),{oobCode:f,newPassword:m})})).apply(this,arguments)}function Eu(v,f){return Iu.apply(this,arguments)}function Iu(){return Iu=(0,u.Z)(function*(v,f){yield function js(v,f){return Hr.apply(this,arguments)}((0,q.m9)(v),{oobCode:f})}),Iu.apply(this,arguments)}function fs(v,f){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,u.Z)(function*(v,f){const m=(0,q.m9)(v),b=yield Wo(m,{oobCode:f}),P=b.requestType;switch(ae(P,m,"internal-error"),P){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ae(b.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ae(b.mfaInfo,m,"internal-error");default:ae(b.email,m,"internal-error")}let L=null;return b.mfaInfo&&(L=$t._fromServerResponse(En(m),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:L},operation:P}})).apply(this,arguments)}function Or(v,f){return si.apply(this,arguments)}function si(){return(si=(0,u.Z)(function*(v,f){const{data:m}=yield fs((0,q.m9)(v),f);return m.email})).apply(this,arguments)}function Rs(v,f,m){return Yi.apply(this,arguments)}function Yi(){return Yi=(0,u.Z)(function*(v,f,m){var b;const P=En(v),L={returnSecureToken:!0,email:f,password:m,clientType:"CLIENT_TYPE_WEB"};let te;if(null!==(b=P._getRecaptchaConfig())&&void 0!==b&&b.emailPasswordEnabled){const tt=yield Cr(P,L,"signUpPassword");te=qs(P,tt)}else te=qs(P,L).catch(function(){var tt=(0,u.Z)(function*(Tt){if("auth/missing-recaptcha-token"===Tt.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const an=yield Cr(P,L,"signUpPassword");return qs(P,an)}return Promise.reject(Tt)});return function(Tt){return tt.apply(this,arguments)}}());const pe=yield te.catch(tt=>Promise.reject(tt)),We=yield Bn._fromIdTokenResponse(P,"signIn",pe);return yield P._updateCurrentUser(We.user),We}),Yi.apply(this,arguments)}function Ei(v,f,m){return Bt((0,q.m9)(v),pu.credential(f,m))}function Du(v,f,m){return Ks.apply(this,arguments)}function Ks(){return Ks=(0,u.Z)(function*(v,f,m){var b;const P=En(v),L={requestType:"EMAIL_SIGNIN",email:f,clientType:"CLIENT_TYPE_WEB"};function te(pe,We){ae(We.handleCodeInApp,P,"argument-error"),We&&ir(P,pe,We)}if(null!==(b=P._getRecaptchaConfig())&&void 0!==b&&b.emailPasswordEnabled){const pe=yield Cr(P,L,"getOobCode",!0);te(pe,m),yield Hs(P,pe)}else te(L,m),yield Hs(P,L).catch(function(){var pe=(0,u.Z)(function*(We){if("auth/missing-recaptcha-token"!==We.code)return Promise.reject(We);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const tt=yield Cr(P,L,"getOobCode",!0);te(tt,m),yield Hs(P,tt)}});return function(We){return pe.apply(this,arguments)}}())}),Ks.apply(this,arguments)}function Tu(v,f){return"EMAIL_SIGNIN"===xs.parseLink(f)?.operation}function qd(v,f,m){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,u.Z)(function*(v,f,m){const b=(0,q.m9)(v),P=pu.credentialWithLink(f,m||lt());return ae(P._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),Bt(b,P)})).apply(this,arguments)}function ea(){return(ea=(0,u.Z)(function*(v,f){return gt(v,"POST","/v1/accounts:createAuthUri",Ue(v,f))})).apply(this,arguments)}function Au(v,f){return Fa.apply(this,arguments)}function Fa(){return Fa=(0,u.Z)(function*(v,f){const b={identifier:f,continueUri:Zt()?lt():"http://localhost"},{signinMethods:P}=yield function Na(v,f){return ea.apply(this,arguments)}((0,q.m9)(v),b);return P||[]}),Fa.apply(this,arguments)}function Su(v,f){return Co.apply(this,arguments)}function Co(){return Co=(0,u.Z)(function*(v,f){const m=(0,q.m9)(v),P={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};f&&ir(m.auth,P,f);const{email:L}=yield function yl(v,f){return Zo.apply(this,arguments)}(m.auth,P);L!==v.email&&(yield v.reload())}),Co.apply(this,arguments)}function bl(v,f,m){return ta.apply(this,arguments)}function ta(){return ta=(0,u.Z)(function*(v,f,m){const b=(0,q.m9)(v),L={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:f};m&&ir(b.auth,L,m);const{email:te}=yield function zs(v,f){return Qr.apply(this,arguments)}(b.auth,L);te!==v.email&&(yield v.reload())}),ta.apply(this,arguments)}function Qi(){return(Qi=(0,u.Z)(function*(v,f){return gt(v,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function El(v,f){return Il.apply(this,arguments)}function Il(){return Il=(0,u.Z)(function*(v,{displayName:f,photoURL:m}){if(void 0===f&&void 0===m)return;const b=(0,q.m9)(v),L={idToken:yield b.getIdToken(),displayName:f,photoUrl:m,returnSecureToken:!0},te=yield en(b,function Cl(v,f){return Qi.apply(this,arguments)}(b.auth,L));b.displayName=te.displayName||null,b.photoURL=te.photoUrl||null;const pe=b.providerData.find(({providerId:We})=>"password"===We);pe&&(pe.displayName=b.displayName,pe.photoURL=b.photoURL),yield b._updateTokensIfNecessary(te)}),Il.apply(this,arguments)}function Dl(v,f){return Ji((0,q.m9)(v),f,null)}function zr(v,f){return Ji((0,q.m9)(v),null,f)}function Ji(v,f,m){return $n.apply(this,arguments)}function $n(){return($n=(0,u.Z)(function*(v,f,m){const{auth:b}=v,L={idToken:yield v.getIdToken(),returnSecureToken:!0};f&&(L.email=f),m&&(L.password=m);const te=yield en(v,pr(b,L));yield v._updateTokensIfNecessary(te,!0)})).apply(this,arguments)}class Eo{constructor(f,m,b={}){this.isNewUser=f,this.providerId=m,this.profile=b}}class Al extends Eo{constructor(f,m,b,P){super(f,m,b),this.username=P}}class Wd extends Eo{constructor(f,m){super(f,"facebook.com",m)}}class Ii extends Al{constructor(f,m){super(f,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class ar extends Eo{constructor(f,m){super(f,"google.com",m)}}class La extends Al{constructor(f,m,b){super(f,"twitter.com",m,b)}}function Sl(v){const{user:f,_tokenResponse:m}=v;return f.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function Tl(v){var f,m;if(!v)return null;const{providerId:b}=v,P=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},L=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!b&&v?.idToken){const te=null===(m=null===(f=On(v.idToken))||void 0===f?void 0:f.firebase)||void 0===m?void 0:m.sign_in_provider;if(te)return new Eo(L,"anonymous"!==te&&"custom"!==te?te:null)}if(!b)return null;switch(b){case"facebook.com":return new Wd(L,P);case"github.com":return new Ii(L,P);case"google.com":return new ar(L,P);case"twitter.com":return new La(L,P,v.screenName||null);case"custom":case"anonymous":return new Eo(L,null);default:return new Eo(L,b,P)}}(m)}class he{constructor(f,m,b){this.type=f,this.credential=m,this.auth=b}static _fromIdtoken(f,m){return new he("enroll",f,m)}static _fromMfaPendingCredential(f){return new he("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var m,b;if(f?.multiFactorSession){if(null!==(m=f.multiFactorSession)&&void 0!==m&&m.pendingCredential)return he._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(b=f.multiFactorSession)&&void 0!==b&&b.idToken)return he._fromIdtoken(f.multiFactorSession.idToken)}return null}}class St{constructor(f,m,b){this.session=f,this.hints=m,this.signInResolver=b}static _fromError(f,m){const b=En(f),P=m.customData._serverResponse,L=(P.mfaInfo||[]).map(pe=>$t._fromServerResponse(b,pe));ae(P.mfaPendingCredential,b,"internal-error");const te=he._fromMfaPendingCredential(P.mfaPendingCredential);return new St(te,L,function(){var pe=(0,u.Z)(function*(We){const tt=yield We._process(b,te);delete P.mfaInfo,delete P.mfaPendingCredential;const Tt=Object.assign(Object.assign({},P),{idToken:tt.idToken,refreshToken:tt.refreshToken});switch(m.operationType){case"signIn":const an=yield Bn._fromIdTokenResponse(b,m.operationType,Tt);return yield b._updateCurrentUser(an.user),an;case"reauthenticate":return ae(m.user,b,"internal-error"),Bn._forOperation(m.user,m.operationType,Tt);default:Me(b,"internal-error")}});return function(We){return pe.apply(this,arguments)}}())}resolveSignIn(f){var m=this;return(0,u.Z)(function*(){return m.signInResolver(f)})()}}function mn(v,f){var m;const b=(0,q.m9)(v),P=f;return ae(f.customData.operationType,b,"argument-error"),ae(null===(m=P.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,b,"argument-error"),St._fromError(b,P)}class Ua{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(b=>$t._fromServerResponse(f.auth,b)))})}static _fromUser(f){return new Ua(f)}getSession(){var f=this;return(0,u.Z)(function*(){return he._fromIdtoken(yield f.user.getIdToken(),f.user.auth)})()}enroll(f,m){var b=this;return(0,u.Z)(function*(){const P=f,L=yield b.getSession(),te=yield en(b.user,P._process(b.user.auth,L,m));return yield b.user._updateTokensIfNecessary(te),b.user.reload()})()}unenroll(f){var m=this;return(0,u.Z)(function*(){const b="string"==typeof f?f:f.uid,P=yield m.user.getIdToken();try{const L=yield en(m.user,function ra(v,f){return gt(v,"POST","/v2/accounts/mfaEnrollment:withdraw",Ue(v,f))}(m.user.auth,{idToken:P,mfaEnrollmentId:b}));m.enrolledFactors=m.enrolledFactors.filter(({uid:te})=>te!==b),yield m.user._updateTokensIfNecessary(L),yield m.user.reload()}catch(L){throw L}})()}}const ia=new WeakMap;function Ba(v){const f=(0,q.m9)(v);return ia.has(f)||ia.set(f,Ua._fromUser(f)),ia.get(f)}const xl="__sak";class Ml{constructor(f,m){this.storageRetriever=f,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(xl,"1"),this.storage.removeItem(xl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,m){return this.storage.setItem(f,JSON.stringify(m)),Promise.resolve()}_get(f){const m=this.storage.getItem(f);return Promise.resolve(m?JSON.parse(m):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const Pu=(()=>{class v extends Ml{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,b)=>this.onStorageEvent(m,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Oc(){const v=(0,q.z$)();return B(v)||Pt(v)}()&&function rr(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Yt(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const b of Object.keys(this.listeners)){const P=this.storage.getItem(b),L=this.localCache[b];P!==L&&m(b,L,P)}}onStorageEvent(m,b=!1){if(!m.key)return void this.forAllChangedKeys((pe,We,tt)=>{this.notifyListeners(pe,tt)});const P=m.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const pe=this.storage.getItem(P);if(m.newValue!==pe)null!==m.newValue?this.storage.setItem(P,m.newValue):this.storage.removeItem(P);else if(this.localCache[P]===m.newValue&&!b)return}const L=()=>{const pe=this.storage.getItem(P);!b&&this.localCache[P]===pe||this.notifyListeners(P,pe)},te=this.storage.getItem(P);!function In(){return(0,q.w1)()&&10===document.documentMode}()||te===m.newValue||m.newValue===m.oldValue?L():setTimeout(L,10)}notifyListeners(m,b){this.localCache[m]=b;const P=this.listeners[m];if(P)for(const L of Array.from(P))L(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,b,P)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:b,newValue:P}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,b){var P=()=>super._set,L=this;return(0,u.Z)(function*(){yield P().call(L,m,b),L.localCache[m]=JSON.stringify(b)})()}_get(m){var b=()=>super._get,P=this;return(0,u.Z)(function*(){const L=yield b().call(P,m);return P.localCache[m]=JSON.stringify(L),L})()}_remove(m){var b=()=>super._remove,P=this;return(0,u.Z)(function*(){yield b().call(P,m),delete P.localCache[m]})()}}return v.type="LOCAL",v})(),Ti=(()=>{class v extends Ml{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,b){}_removeListener(m,b){}}return v.type="SESSION",v})();let Nc=(()=>{class v{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const b=this.receivers.find(L=>L.isListeningto(m));if(b)return b;const P=new v(m);return this.receivers.push(P),P}isListeningto(m){return this.eventTarget===m}handleEvent(m){var b=this;return(0,u.Z)(function*(){const P=m,{eventId:L,eventType:te,data:pe}=P.data,We=b.handlersMap[te];if(!We?.size)return;P.ports[0].postMessage({status:"ack",eventId:L,eventType:te});const tt=Array.from(We).map(function(){var an=(0,u.Z)(function*(Si){return Si(P.origin,pe)});return function(Si){return an.apply(this,arguments)}}()),Tt=yield function Zd(v){return Promise.all(v.map(function(){var f=(0,u.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(b){return{fulfilled:!1,reason:b}}});return function(m){return f.apply(this,arguments)}}()))}(tt);P.ports[0].postMessage({status:"done",eventId:L,eventType:te,response:Tt})})()}_subscribe(m,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(b)}_unsubscribe(m,b){this.handlersMap[m]&&b&&this.handlersMap[m].delete(b),(!b||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function ks(v="",f=10){let m="";for(let b=0;b<f;b++)m+=Math.floor(10*Math.random());return v+m}class Kd{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,m,b=50){var P=this;return(0,u.Z)(function*(){const L=typeof MessageChannel<"u"?new MessageChannel:null;if(!L)throw new Error("connection_unavailable");let te,pe;return new Promise((We,tt)=>{const Tt=ks("",20);L.port1.start();const an=setTimeout(()=>{tt(new Error("unsupported_event"))},b);pe={messageChannel:L,onMessage(Si){const ga=Si;if(ga.data.eventId===Tt)switch(ga.data.status){case"ack":clearTimeout(an),te=setTimeout(()=>{tt(new Error("timeout"))},3e3);break;case"done":clearTimeout(te),We(ga.data.response);break;default:clearTimeout(an),clearTimeout(te),tt(new Error("invalid_response"))}}},P.handlers.add(pe),L.port1.addEventListener("message",pe.onMessage),P.target.postMessage({eventType:f,eventId:Tt,data:m},[L.port2])}).finally(()=>{pe&&P.removeMessageHandler(pe)})})()}}function mr(){return window}function Ou(){return typeof mr().WorkerGlobalScope<"u"&&"function"==typeof mr().importScripts}function Ol(){return(Ol=(0,u.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Rr="firebaseLocalStorageDb",$a=1,sr="firebaseLocalStorage",Nf="fbase_key";class To{constructor(f){this.request=f}toPromise(){return new Promise((f,m)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function ku(v,f){return v.transaction([sr],f?"readwrite":"readonly").objectStore(sr)}function Fc(){const v=indexedDB.open(Rr,$a);return new Promise((f,m)=>{v.addEventListener("error",()=>{m(v.error)}),v.addEventListener("upgradeneeded",()=>{const b=v.result;try{b.createObjectStore(sr,{keyPath:Nf})}catch(P){m(P)}}),v.addEventListener("success",(0,u.Z)(function*(){const b=v.result;b.objectStoreNames.contains(sr)?f(b):(b.close(),yield function ja(){const v=indexedDB.deleteDatabase(Rr);return new To(v).toPromise()}(),f(yield Fc()))}))})}function Lc(v,f,m){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,u.Z)(function*(v,f,m){const b=ku(v,!0).put({[Nf]:f,value:m});return new To(b).toPromise()})).apply(this,arguments)}function sa(){return(sa=(0,u.Z)(function*(v,f){const m=ku(v,!1).get(f),b=yield new To(m).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function Rl(v,f){const m=ku(v,!0).delete(f);return new To(m).toPromise()}const Vc=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,u.Z)(function*(){return m.db||(m.db=yield Fc()),m.db})()}_withRetries(m){var b=this;return(0,u.Z)(function*(){let P=0;for(;;)try{const L=yield b._openDb();return yield m(L)}catch(L){if(P++>3)throw L;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,u.Z)(function*(){return Ou()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,u.Z)(function*(){m.receiver=Nc._getInstance(function Ru(){return Ou()?self:null}()),m.receiver._subscribe("keyChanged",function(){var b=(0,u.Z)(function*(P,L){return{keyProcessed:(yield m._poll()).includes(L.key)}});return function(P,L){return b.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var b=(0,u.Z)(function*(P,L){return["keyChanged"]});return function(P,L){return b.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,u.Z)(function*(){var b,P;if(m.activeServiceWorker=yield function Yd(){return Ol.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Kd(m.activeServiceWorker);const L=yield m.sender._send("ping",{},800);L&&null!==(b=L[0])&&void 0!==b&&b.fulfilled&&null!==(P=L[0])&&void 0!==P&&P.value.includes("keyChanged")&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var b=this;return(0,u.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function Qd(){var v;return(null===(v=navigator?.serviceWorker)||void 0===v?void 0:v.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:m},b.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,u.Z)(function*(){try{if(!indexedDB)return!1;const m=yield Fc();return yield Lc(m,xl,"1"),yield Rl(m,xl),!0}catch{}return!1})()}_withPendingWrite(m){var b=this;return(0,u.Z)(function*(){b.pendingWrites++;try{yield m()}finally{b.pendingWrites--}})()}_set(m,b){var P=this;return(0,u.Z)(function*(){return P._withPendingWrite((0,u.Z)(function*(){return yield P._withRetries(L=>Lc(L,m,b)),P.localCache[m]=b,P.notifyServiceWorker(m)}))})()}_get(m){var b=this;return(0,u.Z)(function*(){const P=yield b._withRetries(L=>function Ff(v,f){return sa.apply(this,arguments)}(L,m));return b.localCache[m]=P,P})()}_remove(m){var b=this;return(0,u.Z)(function*(){return b._withPendingWrite((0,u.Z)(function*(){return yield b._withRetries(P=>Rl(P,m)),delete b.localCache[m],b.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,u.Z)(function*(){const b=yield m._withRetries(te=>{const pe=ku(te,!1).getAll();return new To(pe).toPromise()});if(!b)return[];if(0!==m.pendingWrites)return[];const P=[],L=new Set;for(const{fbase_key:te,value:pe}of b)L.add(te),JSON.stringify(m.localCache[te])!==JSON.stringify(pe)&&(m.notifyListeners(te,pe),P.push(te));for(const te of Object.keys(m.localCache))m.localCache[te]&&!L.has(te)&&(m.notifyListeners(te,null),P.push(te));return P})()}notifyListeners(m,b){this.localCache[m]=b;const P=this.listeners[m];if(P)for(const L of Array.from(P))L(b)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,u.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})(),Uc=1e12;class eh{constructor(f){this.auth=f,this.counter=Uc,this._widgets=new Map}render(f,m){const b=this.counter;return this._widgets.set(b,new Bc(f,this.auth.name,m||{})),this.counter++,b}reset(f){var m;const b=f||Uc;null===(m=this._widgets.get(b))||void 0===m||m.delete(),this._widgets.delete(b)}getResponse(f){var m;return(null===(m=this._widgets.get(f||Uc))||void 0===m?void 0:m.getResponse())||""}execute(f){var m=this;return(0,u.Z)(function*(){var b;return null===(b=m._widgets.get(f||Uc))||void 0===b||b.execute(),""})()}}class Bc{constructor(f,m,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const P="string"==typeof f?document.getElementById(f):f;ae(P,"argument-error",{appName:m}),this.container=P,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function $c(v){const f=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<v;b++)f.push(m.charAt(Math.floor(Math.random()*m.length)));return f.join("")}(50);const{callback:f,"expired-callback":m}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Vf=xr("rcb"),Dy=new Ie(3e4,6e4);class la{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=mr().grecaptcha)||void 0===f||!f.render)}load(f,m=""){return ae(function Ay(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(m),f,"argument-error"),this.shouldResolveImmediately(m)&&Lt(mr().grecaptcha)?Promise.resolve(mr().grecaptcha):new Promise((b,P)=>{const L=mr().setTimeout(()=>{P(be(f,"network-request-failed"))},Dy.get());mr()[Vf]=()=>{mr().clearTimeout(L),delete mr()[Vf];const pe=mr().grecaptcha;if(!pe||!Lt(pe))return void P(be(f,"internal-error"));const We=pe.render;pe.render=(tt,Tt)=>{const an=We(tt,Tt);return this.counter++,an},this.hostLanguage=m,b(pe)},hn(`https://www.google.com/recaptcha/api.js??${(0,q.xO)({onload:Vf,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(L),P(be(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var m;return!(null===(m=mr().grecaptcha)||void 0===m||!m.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Uf{load(f){return(0,u.Z)(function*(){return new eh(f)})()}clearedOneInstance(){}}const kr="recaptcha",Fu={theme:"light",type:"image"};class Lu{constructor(f,m=Object.assign({},Fu),b){this.parameters=m,this.type=kr,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=En(b),this.isInvisible="invisible"===this.parameters.size,ae(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const P="string"==typeof f?document.getElementById(f):f;ae(P,this.auth,"argument-error"),this.container=P,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Uf:new la,this.validateStartingState()}verify(){var f=this;return(0,u.Z)(function*(){f.assertNotDestroyed();const m=yield f.render(),b=f.getAssertedRecaptcha();return b.getResponse(m)||new Promise(L=>{const te=pe=>{pe&&(f.tokenChangeListeners.delete(te),L(pe))};f.tokenChangeListeners.add(te),f.isInvisible&&b.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){ae(!this.parameters.sitekey,this.auth,"argument-error"),ae(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ae(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return m=>{if(this.tokenChangeListeners.forEach(b=>b(m)),"function"==typeof f)f(m);else if("string"==typeof f){const b=mr()[f];"function"==typeof b&&b(m)}}}assertNotDestroyed(){ae(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,u.Z)(function*(){if(yield f.init(),!f.widgetId){let m=f.container;if(!f.isInvisible){const b=document.createElement("div");m.appendChild(b),m=b}f.widgetId=f.getAssertedRecaptcha().render(m,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,u.Z)(function*(){ae(Zt()&&!Ou(),f.auth,"internal-error"),yield function jc(){let v=null;return new Promise(f=>{"complete"!==document.readyState?(v=()=>f(),window.addEventListener("load",v)):f()}).catch(f=>{throw v&&window.removeEventListener("load",v),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const m=yield function me(v){return oe.apply(this,arguments)}(f.auth);ae(m,f.auth,"internal-error"),f.parameters.sitekey=m})()}getAssertedRecaptcha(){return ae(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ui{constructor(f,m){this.verificationId=f,this.onConfirmation=m}confirm(f){const m=Ss._fromVerification(this.verificationId,f);return this.onConfirmation(m)}}function So(v,f,m){return Hc.apply(this,arguments)}function Hc(){return(Hc=(0,u.Z)(function*(v,f,m){const b=En(v),P=yield Vu(b,f,(0,q.m9)(m));return new Ui(P,L=>Bt(b,L))})).apply(this,arguments)}function kl(v,f,m){return za.apply(this,arguments)}function za(){return(za=(0,u.Z)(function*(v,f,m){const b=(0,q.m9)(v);yield wo(!1,b,"phone");const P=yield Vu(b.auth,f,(0,q.m9)(m));return new Ui(P,L=>vu(b,L))})).apply(this,arguments)}function th(v,f,m){return zc.apply(this,arguments)}function zc(){return(zc=(0,u.Z)(function*(v,f,m){const b=(0,q.m9)(v),P=yield Vu(b.auth,f,(0,q.m9)(m));return new Ui(P,L=>Ra(b,L))})).apply(this,arguments)}function Vu(v,f,m){return Gc.apply(this,arguments)}function Gc(){return Gc=(0,u.Z)(function*(v,f,m){var b;const P=yield m.verify();try{let L;if(ae("string"==typeof P,v,"argument-error"),ae(m.type===kr,v,"argument-error"),L="string"==typeof f?{phoneNumber:f}:f,"session"in L){const te=L.session;if("phoneNumber"in L)return ae("enroll"===te.type,v,"internal-error"),(yield function Yn(v,f){return gt(v,"POST","/v2/accounts/mfaEnrollment:start",Ue(v,f))}(v,{idToken:te.credential,phoneEnrollmentInfo:{phoneNumber:L.phoneNumber,recaptchaToken:P}})).phoneSessionInfo.sessionInfo;{ae("signin"===te.type,v,"internal-error");const pe=(null===(b=L.multiFactorHint)||void 0===b?void 0:b.uid)||L.multiFactorUid;return ae(pe,v,"missing-multi-factor-info"),(yield function Jd(v,f){return gt(v,"POST","/v2/accounts/mfaSignIn:start",Ue(v,f))}(v,{mfaPendingCredential:te.credential,mfaEnrollmentId:pe,phoneSignInInfo:{recaptchaToken:P}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:te}=yield function Hd(v,f){return _l.apply(this,arguments)}(v,{phoneNumber:L.phoneNumber,recaptchaToken:P});return te}}finally{m._reset()}}),Gc.apply(this,arguments)}function es(v,f){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,u.Z)(function*(v,f){yield Xr((0,q.m9)(v),f)})).apply(this,arguments)}let ps=(()=>{class v{constructor(m){this.providerId=v.PROVIDER_ID,this.auth=En(m)}verifyPhoneNumber(m,b){return Vu(this.auth,m,(0,q.m9)(b))}static credential(m,b){return Ss._fromVerification(m,b)}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:b,temporaryProof:P}=m;return b&&P?Ss._fromTokenResponse(b,P):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function mt(v,f){return f?nr(f):(ae(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class gs extends vi{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return us(f,this._buildIdpRequest())}_linkToIdToken(f,m){return us(f,this._buildIdpRequest(m))}_getReauthenticationResolver(f){return us(f,this._buildIdpRequest())}_buildIdpRequest(f){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(m.idToken=f),m}}function Ir(v){return Qo(v.auth,new gs(v),v.bypassAuthState)}function nh(v){const{auth:f,user:m}=v;return ae(m,f,"internal-error"),_u(m,new gs(v),v.bypassAuthState)}function Nl(v){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,u.Z)(function*(v){const{auth:f,user:m}=v;return ae(m,f,"internal-error"),Xr(m,new gs(v),v.bypassAuthState)})).apply(this,arguments)}class qc{constructor(f,m,b,P,L=!1){this.auth=f,this.resolver=b,this.user=P,this.bypassAuthState=L,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var f=this;return new Promise(function(){var m=(0,u.Z)(function*(b,P){f.pendingPromise={resolve:b,reject:P};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(L){f.reject(L)}});return function(b,P){return m.apply(this,arguments)}}())}onAuthEvent(f){var m=this;return(0,u.Z)(function*(){const{urlResponse:b,sessionId:P,postBody:L,tenantId:te,error:pe,type:We}=f;if(pe)return void m.reject(pe);const tt={auth:m.auth,requestUri:b,sessionId:P,tenantId:te||void 0,postBody:L||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(We)(tt))}catch(Tt){m.reject(Tt)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return Ir;case"linkViaPopup":case"linkViaRedirect":return Nl;case"reauthViaPopup":case"reauthViaRedirect":return nh;default:Me(this.auth,"internal-error")}}resolve(f){Mt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){Mt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const rh=new Ie(2e3,1e4);function ts(v,f,m){return xo.apply(this,arguments)}function xo(){return(xo=(0,u.Z)(function*(v,f,m){const b=En(v);Ge(v,f,Gs);const P=mt(b,m);return new Zc(b,"signInViaPopup",f,P).executeNotNull()})).apply(this,arguments)}function Wc(v,f,m){return ua.apply(this,arguments)}function ua(){return(ua=(0,u.Z)(function*(v,f,m){const b=(0,q.m9)(v);Ge(b.auth,f,Gs);const P=mt(b.auth,m);return new Zc(b.auth,"reauthViaPopup",f,P,b).executeNotNull()})).apply(this,arguments)}function Ga(v,f,m){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,u.Z)(function*(v,f,m){const b=(0,q.m9)(v);Ge(b.auth,f,Gs);const P=mt(b.auth,m);return new Zc(b.auth,"linkViaPopup",f,P,b).executeNotNull()})).apply(this,arguments)}let Zc=(()=>{class v extends qc{constructor(m,b,P,L,te){super(m,b,L,te),this.provider=P,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var m=this;return(0,u.Z)(function*(){const b=yield m.execute();return ae(b,m.auth,"internal-error"),b})()}onExecution(){var m=this;return(0,u.Z)(function*(){Mt(1===m.filter.length,"Popup operations only handle one event");const b=ks();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],b),m.authWindow.associatedEvent=b,m.resolver._originValidation(m.auth).catch(P=>{m.reject(P)}),m.resolver._isIframeWebStorageSupported(m.auth,P=>{P||m.reject(be(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(be(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const m=()=>{var b,P;this.pollId=null!==(P=null===(b=this.authWindow)||void 0===b?void 0:b.window)&&void 0!==P&&P.closed?window.setTimeout(()=>{this.pollId=null,this.reject(be(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(m,rh.get())};m()}}return v.currentPopupAction=null,v})();const ih="pendingRedirect",ns=new Map;class Uu extends qc{constructor(f,m,b=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,b),this.eventId=null}execute(){var f=()=>super.execute,m=this;return(0,u.Z)(function*(){let b=ns.get(m.auth._key());if(!b){try{const L=(yield function oi(v,f){return Fl.apply(this,arguments)}(m.resolver,m.auth))?yield f().call(m):null;b=()=>Promise.resolve(L)}catch(P){b=()=>Promise.reject(P)}ns.set(m.auth._key(),b)}return m.bypassAuthState||ns.set(m.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(f){var m=()=>super.onAuthEvent,b=this;return(0,u.Z)(function*(){if("signInViaRedirect"===f.type)return m().call(b,f);if("unknown"!==f.type){if(f.eventId){const P=yield b.auth._redirectUserForId(f.eventId);if(P)return b.user=P,m().call(b,f);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,u.Z)(function*(){})()}cleanUp(){}}function Fl(){return(Fl=(0,u.Z)(function*(v,f){const m=$u(f),b=Bf(v);if(!(yield b._isAvailable()))return!1;const P="true"===(yield b._get(m));return yield b._remove(m),P})).apply(this,arguments)}function Bu(v,f){return ca.apply(this,arguments)}function ca(){return(ca=(0,u.Z)(function*(v,f){return Bf(v)._set($u(f),"true")})).apply(this,arguments)}function Ll(){ns.clear()}function Vl(v,f){ns.set(v._key(),f)}function Bf(v){return nr(v._redirectPersistence)}function $u(v){return Sr(ih,v.config.apiKey,v.name)}function Ul(v,f,m){return function sh(v,f,m){return Kc.apply(this,arguments)}(v,f,m)}function Kc(){return(Kc=(0,u.Z)(function*(v,f,m){const b=En(v);Ge(v,f,Gs),yield b._initializationPromise;const P=mt(b,m);return yield Bu(P,b),P._openRedirect(b,f,"signInViaRedirect")})).apply(this,arguments)}function Yc(v,f,m){return function Bl(v,f,m){return Bi.apply(this,arguments)}(v,f,m)}function Bi(){return(Bi=(0,u.Z)(function*(v,f,m){const b=(0,q.m9)(v);Ge(b.auth,f,Gs),yield b.auth._initializationPromise;const P=mt(b.auth,m);yield Bu(P,b.auth);const L=yield $i(b);return P._openRedirect(b.auth,f,"reauthViaRedirect",L)})).apply(this,arguments)}function Qc(v,f,m){return function hi(v,f,m){return $l.apply(this,arguments)}(v,f,m)}function $l(){return($l=(0,u.Z)(function*(v,f,m){const b=(0,q.m9)(v);Ge(b.auth,f,Gs),yield b.auth._initializationPromise;const P=mt(b.auth,m);yield wo(!1,b,f.providerId),yield Bu(P,b.auth);const L=yield $i(b);return P._openRedirect(b.auth,f,"linkViaRedirect",L)})).apply(this,arguments)}function $f(v,f){return lr.apply(this,arguments)}function lr(){return(lr=(0,u.Z)(function*(v,f){return yield En(v)._initializationPromise,da(v,f,!1)})).apply(this,arguments)}function da(v,f){return ha.apply(this,arguments)}function ha(){return(ha=(0,u.Z)(function*(v,f,m=!1){const b=En(v),P=mt(b,f),te=yield new Uu(b,P,m).execute();return te&&!m&&(delete te.user._redirectEventId,yield b._persistUserIfCurrent(te.user),yield b._setRedirectUser(null,f)),te})).apply(this,arguments)}function $i(v){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,u.Z)(function*(v){const f=ks(`${v.uid}:::`);return v._redirectEventId=f,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),f})).apply(this,arguments)}class ju{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let m=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(f,b)&&(m=!0,this.sendToConsumer(f,b),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function Mo(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ms(v);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=f,m=!0)),m}sendToConsumer(f,m){var b;if(f.error&&!ms(f)){const P=(null===(b=f.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";m.onError(be(this.auth,P))}else m.onAuthEvent(f)}isEventForConsumer(f,m){const b=null===m.eventId||!!f.eventId&&f.eventId===m.eventId;return m.filter.includes(f.type)&&b}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(qa(f))}saveEventToCache(f){this.cachedEventUids.add(qa(f)),this.lastProcessedEventTime=Date.now()}}function qa(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(f=>f).join("-")}function ms({type:v,error:f}){return"unknown"===v&&"auth/no-auth-event"===f?.code}function Gr(v){return ys.apply(this,arguments)}function ys(){return(ys=(0,u.Z)(function*(v,f={}){return gt(v,"GET","/v1/projects",f)})).apply(this,arguments)}const Sy=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Hu=/^https?/;function Wa(){return(Wa=(0,u.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:f}=yield Gr(v);for(const m of f)try{if(oh(m))return}catch{}Me(v,"unauthorized-domain")})).apply(this,arguments)}function oh(v){const f=lt(),{protocol:m,hostname:b}=new URL(f);if(v.startsWith("chrome-extension://")){const te=new URL(v);return""===te.hostname&&""===b?"chrome-extension:"===m&&v.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===m&&te.hostname===b}if(!Hu.test(m))return!1;if(Sy.test(v))return b===v;const P=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+P+"|"+P+")$","i").test(b)}const fa=new Ie(3e4,6e4);function Za(){const v=mr().___jsl;if(v?.H)for(const f of Object.keys(v.H))if(v.H[f].r=v.H[f].r||[],v.H[f].L=v.H[f].L||[],v.H[f].r=[...v.H[f].L],v.CP)for(let m=0;m<v.CP.length;m++)v.CP[m]=null}let Po=null;const Ka=new Ie(5e3,15e3),Oo="__/auth/iframe",ah="emulator/auth/iframe",Qs={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Xc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lh(v){const f=v.config;ae(f.authDomain,v,"auth-domain-config-required");const m=f.emulator?xe(f,ah):`https://${v.config.authDomain}/${Oo}`,b={apiKey:f.apiKey,appName:v.name,v:R.SDK_VERSION},P=Xc.get(v.config.apiHost);P&&(b.eid=P);const L=v._getFrameworks();return L.length&&(b.fw=L.join(",")),`${m}?${(0,q.xO)(b).slice(1)}`}function uh(){return uh=(0,u.Z)(function*(v){const f=yield function pa(v){return Po=Po||function Vt(v){return new Promise((f,m)=>{var b,P,L;function te(){Za(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{Za(),m(be(v,"network-request-failed"))},timeout:fa.get()})}if(null!==(P=null===(b=mr().gapi)||void 0===b?void 0:b.iframes)&&void 0!==P&&P.Iframe)f(gapi.iframes.getContext());else{if(null===(L=mr().gapi)||void 0===L||!L.load){const pe=xr("iframefcb");return mr()[pe]=()=>{gapi.load?te():m(be(v,"network-request-failed"))},hn(`https://apis.google.com/js/api.js?onload=${pe}`).catch(We=>m(We))}te()}}).catch(f=>{throw Po=null,f})}(v),Po}(v),m=mr().gapi;return ae(m,v,"internal-error"),f.open({where:document.body,url:lh(v),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Qs,dontclear:!0},b=>new Promise(function(){var P=(0,u.Z)(function*(L,te){yield b.restyle({setHideOnLeave:!1});const pe=be(v,"network-request-failed"),We=mr().setTimeout(()=>{te(pe)},Ka.get());function tt(){mr().clearTimeout(We),L(b)}b.ping(tt).then(tt,()=>{te(pe)})});return function(L,te){return P.apply(this,arguments)}}()))}),uh.apply(this,arguments)}const w={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},I=500,M=600,$="_blank",Q="http://localhost";class ee{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Ye="__/auth/handler",vt="emulator/auth/handler",Ht=encodeURIComponent("fac");function jt(v,f,m,b,P,L){return ur.apply(this,arguments)}function ur(){return(ur=(0,u.Z)(function*(v,f,m,b,P,L){ae(v.config.authDomain,v,"auth-domain-config-required"),ae(v.config.apiKey,v,"invalid-api-key");const te={apiKey:v.config.apiKey,appName:v.name,authType:m,redirectUrl:b,v:R.SDK_VERSION,eventId:P};if(f instanceof Gs){f.setDefaultLanguage(v.languageCode),te.providerId=f.providerId||"",(0,q.xb)(f.getCustomParameters())||(te.customParameters=JSON.stringify(f.getCustomParameters()));for(const[Tt,an]of Object.entries(L||{}))te[Tt]=an}if(f instanceof yo){const Tt=f.getScopes().filter(an=>""!==an);Tt.length>0&&(te.scopes=Tt.join(","))}v.tenantId&&(te.tid=v.tenantId);const pe=te;for(const Tt of Object.keys(pe))void 0===pe[Tt]&&delete pe[Tt];const We=yield v._getAppCheckToken(),tt=We?`#${Ht}=${encodeURIComponent(We)}`:"";return`${function Ot({config:v}){return v.emulator?xe(v,vt):`https://${v.authDomain}/${Ye}`}(v)}?${(0,q.xO)(pe).slice(1)}${tt}`})).apply(this,arguments)}const _s="webStorageSupport",rs=class td{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ti,this._completeRedirectFn=da,this._overrideRedirectResult=Vl}_openPopup(f,m,b,P){var L=this;return(0,u.Z)(function*(){var te;Mt(null===(te=L.eventManagers[f._key()])||void 0===te?void 0:te.manager,"_initialize() not called before _openPopup()");const pe=yield jt(f,m,b,lt(),P);return function ge(v,f,m,b=I,P=M){const L=Math.max((window.screen.availHeight-P)/2,0).toString(),te=Math.max((window.screen.availWidth-b)/2,0).toString();let pe="";const We=Object.assign(Object.assign({},w),{width:b.toString(),height:P.toString(),top:L,left:te}),tt=(0,q.z$)().toLowerCase();m&&(pe=k(tt)?$:m),V(tt)&&(f=f||Q,We.scrollbars="yes");const Tt=Object.entries(We).reduce((Si,[ga,Qa])=>`${Si}${ga}=${Qa},`,"");if(function Nt(v=(0,q.z$)()){var f;return Pt(v)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(tt)&&"_self"!==pe)return function Je(v,f){const m=document.createElement("a");m.href=v,m.target=f;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(b)}(f||"",pe),new ee(null);const an=window.open(f||"",pe,Tt);ae(an,v,"popup-blocked");try{an.focus()}catch{}return new ee(an)}(f,pe,ks())})()}_openRedirect(f,m,b,P){var L=this;return(0,u.Z)(function*(){return yield L._originValidation(f),function Do(v){mr().location.href=v}(yield jt(f,m,b,lt(),P)),new Promise(()=>{})})()}_initialize(f){const m=f._key();if(this.eventManagers[m]){const{manager:P,promise:L}=this.eventManagers[m];return P?Promise.resolve(P):(Mt(L,"If manager is not set, promise should be"),L)}const b=this.initAndGetManager(f);return this.eventManagers[m]={promise:b},b.catch(()=>{delete this.eventManagers[m]}),b}initAndGetManager(f){var m=this;return(0,u.Z)(function*(){const b=yield function ed(v){return uh.apply(this,arguments)}(f),P=new ju(f);return b.register("authEvent",L=>(ae(L?.authEvent,f,"invalid-auth-event"),{status:P.onEvent(L.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[f._key()]={manager:P},m.iframes[f._key()]=b,P})()}_isIframeWebStorageSupported(f,m){this.iframes[f._key()].send(_s,{type:_s},P=>{var L;const te=null===(L=P?.[0])||void 0===L?void 0:L[_s];void 0!==te&&m(!!te),Me(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Jc(v){return Wa.apply(this,arguments)}(f)),this.originValidationPromises[m]}get _shouldInitProactively(){return Yt()||B()||Pt()}};class ji{constructor(f){this.factorId=f}_process(f,m,b){switch(m.type){case"enroll":return this._finalizeEnroll(f,m.credential,b);case"signin":return this._finalizeSignIn(f,m.credential);default:return Xe("unexpected MultiFactorSessionType")}}}class ai extends ji{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new ai(f)}_finalizeEnroll(f,m,b){return function Qn(v,f){return gt(v,"POST","/v2/accounts/mfaEnrollment:finalize",Ue(v,f))}(f,{idToken:m,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,m){return function aa(v,f){return gt(v,"POST","/v2/accounts/mfaSignIn:finalize",Ue(v,f))}(f,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let zu=(()=>{class v{constructor(){}static assertion(m){return ai._fromCredential(m)}}return v.FACTOR_ID="phone",v})();var zl="@firebase/auth";class Ya{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var m=this;return(0,u.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const m=this.auth.onIdTokenChanged(b=>{f(b?.stsTokenManager.accessToken||null)});this.internalListeners.set(f,m),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const m=this.internalListeners.get(f);m&&(this.internalListeners.delete(f),m(),this.updateProactiveRefresh())}assertAuthConfigured(){ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const zf=(0,q.Pz)("authIdTokenMaxAge")||300;let Rg=null;const xy=v=>function(){var f=(0,u.Z)(function*(m){const b=m&&(yield m.getIdTokenResult()),P=b&&((new Date).getTime()-Date.parse(b.issuedAtTime))/1e3;if(P&&P>zf)return;const L=b?.token;Rg!==L&&(Rg=L,yield fetch(v,{method:L?"POST":"DELETE",headers:L?{Authorization:`Bearer ${L}`}:{}}))});return function(m){return f.apply(this,arguments)}}();function dh(v=(0,R.getApp)()){const f=(0,R._getProvider)(v,"auth");if(f.isInitialized())return f.getImmediate();const m=function Er(v,f){const m=(0,R._getProvider)(v,"auth");if(m.isInitialized()){const P=m.getImmediate(),L=m.getOptions();if((0,q.vZ)(L,f??{}))return P;Me(P,"already-initialized")}return m.initialize({options:f})}(v,{popupRedirectResolver:rs,persistence:[Vc,Pu,Ti]}),b=(0,q.Pz)("authTokenSyncURL");if(b){const L=xy(b);(function Io(v,f,m){(0,q.m9)(v).beforeAuthStateChanged(f,m)})(m,L,()=>L(m.currentUser)),function Va(v,f,m,b){(0,q.m9)(v).onIdTokenChanged(f,m,b)}(m,te=>L(te))}const P=(0,q.q4)("auth");return P&&Rn(m,`http://${P}`),m}!function Hf(v){(0,R._registerComponent)(new j.wA("auth",(f,{options:m})=>{const b=f.getProvider("app").getImmediate(),P=f.getProvider("heartbeat"),L=f.getProvider("app-check-internal"),{apiKey:te,authDomain:pe}=b.options;ae(te&&!te.includes(":"),"invalid-api-key",{appName:b.name});const We={apiKey:te,authDomain:pe,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Wn(v)},tt=new Vn(b,P,L,We);return function Li(v,f){const m=f?.persistence||[],b=(Array.isArray(m)?m:[m]).map(nr);f?.errorMap&&v._updateErrorMap(f.errorMap),v._initializeWithPersistence(b,f?.popupRedirectResolver)}(tt,m),tt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,m,b)=>{f.getProvider("auth-internal").initialize()})),(0,R._registerComponent)(new j.wA("auth-internal",f=>{const m=En(f.getProvider("auth").getImmediate());return new Ya(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,R.registerVersion)(zl,"0.23.2",function Wu(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,R.registerVersion)(zl,"0.23.2","esm2017")}("Browser")},2090:(Dt,Re,U)=>{"use strict";U.d(Re,{$s:()=>nr,BH:()=>_e,G6:()=>xe,L:()=>Ee,LL:()=>Pn,P0:()=>Le,Pz:()=>be,Sg:()=>Ge,UG:()=>Xe,US:()=>j,ZB:()=>ne,ZR:()=>gt,aH:()=>Me,b$:()=>Zt,eu:()=>Ke,hl:()=>Fe,jU:()=>Mt,m9:()=>Sr,ne:()=>en,pd:()=>On,q4:()=>Be,r3:()=>Kr,ru:()=>lt,tV:()=>Y,uI:()=>ae,vZ:()=>dt,w1:()=>ni,xO:()=>Gn,xb:()=>$r,z$:()=>He,zI:()=>$e,zd:()=>fr});const se=function(K){const G=[];let V=0;for(let B=0;B<K.length;B++){let k=K.charCodeAt(B);k<128?G[V++]=k:k<2048?(G[V++]=k>>6|192,G[V++]=63&k|128):55296==(64512&k)&&B+1<K.length&&56320==(64512&K.charCodeAt(B+1))?(k=65536+((1023&k)<<10)+(1023&K.charCodeAt(++B)),G[V++]=k>>18|240,G[V++]=k>>12&63|128,G[V++]=k>>6&63|128,G[V++]=63&k|128):(G[V++]=k>>12|224,G[V++]=k>>6&63|128,G[V++]=63&k|128)}return G},j={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(K,G){if(!Array.isArray(K))throw Error("encodeByteArray takes an array as a parameter");this.init_();const V=G?this.byteToCharMapWebSafe_:this.byteToCharMap_,B=[];for(let k=0;k<K.length;k+=3){const J=K[k],Te=k+1<K.length,ot=Te?K[k+1]:0,kt=k+2<K.length,Pt=kt?K[k+2]:0;let In=(15&ot)<<2|Pt>>6,Yt=63&Pt;kt||(Yt=64,Te||(In=64)),B.push(V[J>>2],V[(3&J)<<4|ot>>4],V[In],V[Yt])}return B.join("")},encodeString(K,G){return this.HAS_NATIVE_SUPPORT&&!G?btoa(K):this.encodeByteArray(se(K),G)},decodeString(K,G){return this.HAS_NATIVE_SUPPORT&&!G?atob(K):function(K){const G=[];let V=0,B=0;for(;V<K.length;){const k=K[V++];if(k<128)G[B++]=String.fromCharCode(k);else if(k>191&&k<224){const J=K[V++];G[B++]=String.fromCharCode((31&k)<<6|63&J)}else if(k>239&&k<365){const kt=((7&k)<<18|(63&K[V++])<<12|(63&K[V++])<<6|63&K[V++])-65536;G[B++]=String.fromCharCode(55296+(kt>>10)),G[B++]=String.fromCharCode(56320+(1023&kt))}else{const J=K[V++],Te=K[V++];G[B++]=String.fromCharCode((15&k)<<12|(63&J)<<6|63&Te)}}return G.join("")}(this.decodeStringToByteArray(K,G))},decodeStringToByteArray(K,G){this.init_();const V=G?this.charToByteMapWebSafe_:this.charToByteMap_,B=[];for(let k=0;k<K.length;){const J=V[K.charAt(k++)],ot=k<K.length?V[K.charAt(k)]:0;++k;const Pt=k<K.length?V[K.charAt(k)]:64;++k;const Nt=k<K.length?V[K.charAt(k)]:64;if(++k,null==J||null==ot||null==Pt||null==Nt)throw new De;B.push(J<<2|ot>>4),64!==Pt&&(B.push(ot<<4&240|Pt>>2),64!==Nt&&B.push(Pt<<6&192|Nt))}return B},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let K=0;K<this.ENCODED_VALS.length;K++)this.byteToCharMap_[K]=this.ENCODED_VALS.charAt(K),this.charToByteMap_[this.byteToCharMap_[K]]=K,this.byteToCharMapWebSafe_[K]=this.ENCODED_VALS_WEBSAFE.charAt(K),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[K]]=K,K>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(K)]=K,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(K)]=K)}}};class De extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ee=function(K){return function(K){const G=se(K);return j.encodeByteArray(G,!0)}(K).replace(/\./g,"")},Y=function(K){try{return j.decodeString(K,!0)}catch(G){console.error("base64Decode failed: ",G)}return null};function ne(K,G){if(!(G instanceof Object))return G;switch(G.constructor){case Date:return new Date(G.getTime());case Object:void 0===K&&(K={});break;case Array:K=[];break;default:return G}for(const V in G)!G.hasOwnProperty(V)||!qe(V)||(K[V]=ne(K[V],G[V]));return K}function qe(K){return"__proto__"!==K}const Ne=()=>{try{return function ke(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const K=process.env.__FIREBASE_DEFAULTS__;return K?JSON.parse(K):void 0})()||(()=>{if(typeof document>"u")return;let K;try{K=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const G=K&&Y(K[1]);return G&&JSON.parse(G)})()}catch(K){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${K}`)}},Be=K=>{var G,V;return null===(V=null===(G=Ne())||void 0===G?void 0:G.emulatorHosts)||void 0===V?void 0:V[K]},Le=K=>{const G=Be(K);if(!G)return;const V=G.lastIndexOf(":");if(V<=0||V+1===G.length)throw new Error(`Invalid host ${G} with no separate hostname and port!`);const B=parseInt(G.substring(V+1),10);return"["===G[0]?[G.substring(1,V-1),B]:[G.substring(0,V),B]},Me=()=>{var K;return null===(K=Ne())||void 0===K?void 0:K.config},be=K=>{var G;return null===(G=Ne())||void 0===G?void 0:G[`_${K}`]};class _e{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((G,V)=>{this.resolve=G,this.reject=V})}wrapCallback(G){return(V,B)=>{V?this.reject(V):this.resolve(B),"function"==typeof G&&(this.promise.catch(()=>{}),1===G.length?G(V):G(V,B))}}}function Ge(K,G){if(K.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const B=G||"demo-project",k=K.iat||0,J=K.sub||K.user_id;if(!J)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Te=Object.assign({iss:`https://securetoken.google.com/${B}`,aud:B,iat:k,exp:k+3600,auth_time:k,sub:J,user_id:J,firebase:{sign_in_provider:"custom",identities:{}}},K);return[Ee(JSON.stringify({alg:"none",type:"JWT"})),Ee(JSON.stringify(Te)),""].join(".")}function He(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ae(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(He())}function Xe(){var K;const G=null===(K=Ne())||void 0===K?void 0:K.forceEnvironment;if("node"===G)return!0;if("browser"===G)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Mt(){return"object"==typeof self&&self.self===self}function lt(){const K="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof K&&void 0!==K.id}function Zt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ni(){const K=He();return K.indexOf("MSIE ")>=0||K.indexOf("Trident/")>=0}function xe(){return!Xe()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Fe(){try{return"object"==typeof indexedDB}catch{return!1}}function Ke(){return new Promise((K,G)=>{try{let V=!0;const B="validate-browser-context-for-indexeddb-analytics-module",k=self.indexedDB.open(B);k.onsuccess=()=>{k.result.close(),V||self.indexedDB.deleteDatabase(B),K(!0)},k.onupgradeneeded=()=>{V=!1},k.onerror=()=>{var J;G((null===(J=k.error)||void 0===J?void 0:J.message)||"")}}catch(V){G(V)}})}function $e(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class gt extends Error{constructor(G,V,B){super(V),this.code=G,this.customData=B,this.name="FirebaseError",Object.setPrototypeOf(this,gt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pn.prototype.create)}}class Pn{constructor(G,V,B){this.service=G,this.serviceName=V,this.errors=B}create(G,...V){const B=V[0]||{},k=`${this.service}/${G}`,J=this.errors[G],Te=J?function ct(K,G){return K.replace(yt,(V,B)=>{const k=G[B];return null!=k?String(k):`<${B}?>`})}(J,B):"Error";return new gt(k,`${this.serviceName}: ${Te} (${k}).`,B)}}const yt=/\{\$([^}]+)}/g;function Kr(K,G){return Object.prototype.hasOwnProperty.call(K,G)}function $r(K){for(const G in K)if(Object.prototype.hasOwnProperty.call(K,G))return!1;return!0}function dt(K,G){if(K===G)return!0;const V=Object.keys(K),B=Object.keys(G);for(const k of V){if(!B.includes(k))return!1;const J=K[k],Te=G[k];if(cn(J)&&cn(Te)){if(!dt(J,Te))return!1}else if(J!==Te)return!1}for(const k of B)if(!V.includes(k))return!1;return!0}function cn(K){return null!==K&&"object"==typeof K}function Gn(K){const G=[];for(const[V,B]of Object.entries(K))Array.isArray(B)?B.forEach(k=>{G.push(encodeURIComponent(V)+"="+encodeURIComponent(k))}):G.push(encodeURIComponent(V)+"="+encodeURIComponent(B));return G.length?"&"+G.join("&"):""}function fr(K){const G={};return K.replace(/^\?/,"").split("&").forEach(B=>{if(B){const[k,J]=B.split("=");G[decodeURIComponent(k)]=decodeURIComponent(J)}}),G}function On(K){const G=K.indexOf("?");if(!G)return"";const V=K.indexOf("#",G);return K.substring(G,V>0?V:void 0)}function en(K,G){const V=new ft(K,G);return V.subscribe.bind(V)}class ft{constructor(G,V){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=V,this.task.then(()=>{G(this)}).catch(B=>{this.error(B)})}next(G){this.forEachObserver(V=>{V.next(G)})}error(G){this.forEachObserver(V=>{V.error(G)}),this.close(G)}complete(){this.forEachObserver(G=>{G.complete()}),this.close()}subscribe(G,V,B){let k;if(void 0===G&&void 0===V&&void 0===B)throw new Error("Missing Observer.");k=function Xn(K,G){if("object"!=typeof K||null===K)return!1;for(const V of G)if(V in K&&"function"==typeof K[V])return!0;return!1}(G,["next","error","complete"])?G:{next:G,error:V,complete:B},void 0===k.next&&(k.next=vr),void 0===k.error&&(k.error=vr),void 0===k.complete&&(k.complete=vr);const J=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?k.error(this.finalError):k.complete()}catch{}}),this.observers.push(k),J}unsubscribeOne(G){void 0===this.observers||void 0===this.observers[G]||(delete this.observers[G],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(G){if(!this.finalized)for(let V=0;V<this.observers.length;V++)this.sendOne(V,G)}sendOne(G,V){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[G])try{V(this.observers[G])}catch(B){typeof console<"u"&&console.error&&console.error(B)}})}close(G){this.finalized||(this.finalized=!0,void 0!==G&&(this.finalError=G),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vr(){}const Gt=1e3,er=2,Hn=144e5,tr=.5;function nr(K,G=Gt,V=er){const B=G*Math.pow(V,K),k=Math.round(tr*B*(Math.random()-.5)*2);return Math.min(Hn,B+k)}function Sr(K){return K&&K._delegate?K._delegate:K}},7600:(Dt,Re,U)=>{"use strict";var u=U(4650);let q=null;function R(){return q}class ue{}const j=new u.OlP("DocumentToken");let De=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return function ve(){return(0,u.LFG)(Y)}()},providedIn:"platform"}),n})();const Ee=new u.OlP("Location Initialized");let Y=(()=>{class n extends De{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return R().getBaseHref(this._doc)}onPopState(t){const r=R().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=R().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){W()?this._history.pushState(t,r,i):this._location.hash=i}replaceState(t,r,i){W()?this._history.replaceState(t,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(j))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function ne(){return new Y((0,u.LFG)(j))}()},providedIn:"platform"}),n})();function W(){return!!window.history.pushState}function qe(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function ke(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Qe(n){return n&&"?"!==n[0]?"?"+n:n}let at=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(Ne)},providedIn:"root"}),n})();const we=new u.OlP("appBaseHref");let Ne=(()=>{class n extends at{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,u.f3M)(j).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return qe(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Qe(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,l){const c=this.prepareExternalUrl(i+Qe(l));this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,l){const c=this.prepareExternalUrl(i+Qe(l));this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(De),u.LFG(we,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Be=(()=>{class n extends at{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=qe(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,l){let c=this.prepareExternalUrl(i+Qe(l));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,l){let c=this.prepareExternalUrl(i+Qe(l));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(De),u.LFG(we,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Le=(()=>{class n{constructor(t){this._subject=new u.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function Ge(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(ke(_e(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Qe(r))}normalize(t){return n.stripTrailingSlash(function be(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,_e(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Qe(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Qe(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Qe,n.joinWithSlash=qe,n.stripTrailingSlash=ke,n.\u0275fac=function(t){return new(t||n)(u.LFG(at))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function Me(){return new Le((0,u.LFG)(at))}()},providedIn:"root"}),n})();function _e(n){return n.replace(/\/index.html$/,"")}var Mt=(()=>((Mt=Mt||{})[Mt.Format=0]="Format",Mt[Mt.Standalone=1]="Standalone",Mt))(),lt=(()=>((lt=lt||{})[lt.Narrow=0]="Narrow",lt[lt.Abbreviated=1]="Abbreviated",lt[lt.Wide=2]="Wide",lt[lt.Short=3]="Short",lt))(),Zt=(()=>((Zt=Zt||{})[Zt.Short=0]="Short",Zt[Zt.Medium=1]="Medium",Zt[Zt.Long=2]="Long",Zt[Zt.Full=3]="Full",Zt))(),et=(()=>((et=et||{})[et.Decimal=0]="Decimal",et[et.Group=1]="Group",et[et.List=2]="List",et[et.PercentSign=3]="PercentSign",et[et.PlusSign=4]="PlusSign",et[et.MinusSign=5]="MinusSign",et[et.Exponential=6]="Exponential",et[et.SuperscriptingExponent=7]="SuperscriptingExponent",et[et.PerMille=8]="PerMille",et[et.Infinity=9]="Infinity",et[et.NaN=10]="NaN",et[et.TimeSeparator=11]="TimeSeparator",et[et.CurrencyDecimal=12]="CurrencyDecimal",et[et.CurrencyGroup=13]="CurrencyGroup",et))();function gt(n,e){return Sn((0,u.cg1)(n)[u.wAp.DateFormat],e)}function Pn(n,e){return Sn((0,u.cg1)(n)[u.wAp.TimeFormat],e)}function ct(n,e){return Sn((0,u.cg1)(n)[u.wAp.DateTimeFormat],e)}function yt(n,e){const t=(0,u.cg1)(n),r=t[u.wAp.NumberSymbols][e];if(typeof r>"u"){if(e===et.CurrencyDecimal)return t[u.wAp.NumberSymbols][et.Decimal];if(e===et.CurrencyGroup)return t[u.wAp.NumberSymbols][et.Group]}return r}function Jn(n){if(!n[u.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[u.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Sn(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function dt(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const fr=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,On={},vn=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var en=(()=>((en=en||{})[en.Short=0]="Short",en[en.ShortGMT=1]="ShortGMT",en[en.Long=2]="Long",en[en.Extended=3]="Extended",en))(),ft=(()=>((ft=ft||{})[ft.FullYear=0]="FullYear",ft[ft.Month=1]="Month",ft[ft.Date=2]="Date",ft[ft.Hours=3]="Hours",ft[ft.Minutes=4]="Minutes",ft[ft.Seconds=5]="Seconds",ft[ft.FractionalSeconds=6]="FractionalSeconds",ft[ft.Day=7]="Day",ft))(),Ut=(()=>((Ut=Ut||{})[Ut.DayPeriods=0]="DayPeriods",Ut[Ut.Days=1]="Days",Ut[Ut.Months=2]="Months",Ut[Ut.Eras=3]="Eras",Ut))();function Xn(n,e,t,r){let i=function k(n){if(Te(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,l=1,c=1]=n.split("-").map(g=>+g);return vr(i,l-1,c)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(fr))return function J(n){const e=new Date(0);let t=0,r=0;const i=n[8]?e.setUTCFullYear:e.setFullYear,l=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const c=Number(n[4]||0)-t,g=Number(n[5]||0)-r,_=Number(n[6]||0),D=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return l.call(e,c,g,_,D),e}(r)}const e=new Date(n);if(!Te(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=qn(t,e)||e;let g,c=[];for(;e;){if(g=vn.exec(e),!g){c.push(e);break}{c=c.concat(g.slice(1));const S=c.pop();if(!S)break;e=S}}let _=i.getTimezoneOffset();r&&(_=G(r,_),i=function B(n,e,t){const r=t?-1:1,i=n.getTimezoneOffset();return function V(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,r*(G(e,i)-i))}(i,r,!0));let D="";return c.forEach(S=>{const F=function K(n){if(Sr[n])return Sr[n];let e;switch(n){case"G":case"GG":case"GGG":e=un(Ut.Eras,lt.Abbreviated);break;case"GGGG":e=un(Ut.Eras,lt.Wide);break;case"GGGGG":e=un(Ut.Eras,lt.Narrow);break;case"y":e=sn(ft.FullYear,1,0,!1,!0);break;case"yy":e=sn(ft.FullYear,2,0,!0,!0);break;case"yyy":e=sn(ft.FullYear,3,0,!1,!0);break;case"yyyy":e=sn(ft.FullYear,4,0,!1,!0);break;case"Y":e=jr(1);break;case"YY":e=jr(2,!0);break;case"YYY":e=jr(3);break;case"YYYY":e=jr(4);break;case"M":case"L":e=sn(ft.Month,1,1);break;case"MM":case"LL":e=sn(ft.Month,2,1);break;case"MMM":e=un(Ut.Months,lt.Abbreviated);break;case"MMMM":e=un(Ut.Months,lt.Wide);break;case"MMMMM":e=un(Ut.Months,lt.Narrow);break;case"LLL":e=un(Ut.Months,lt.Abbreviated,Mt.Standalone);break;case"LLLL":e=un(Ut.Months,lt.Wide,Mt.Standalone);break;case"LLLLL":e=un(Ut.Months,lt.Narrow,Mt.Standalone);break;case"w":e=Yr(1);break;case"ww":e=Yr(2);break;case"W":e=Yr(1,!0);break;case"d":e=sn(ft.Date,1);break;case"dd":e=sn(ft.Date,2);break;case"c":case"cc":e=sn(ft.Day,1);break;case"ccc":e=un(Ut.Days,lt.Abbreviated,Mt.Standalone);break;case"cccc":e=un(Ut.Days,lt.Wide,Mt.Standalone);break;case"ccccc":e=un(Ut.Days,lt.Narrow,Mt.Standalone);break;case"cccccc":e=un(Ut.Days,lt.Short,Mt.Standalone);break;case"E":case"EE":case"EEE":e=un(Ut.Days,lt.Abbreviated);break;case"EEEE":e=un(Ut.Days,lt.Wide);break;case"EEEEE":e=un(Ut.Days,lt.Narrow);break;case"EEEEEE":e=un(Ut.Days,lt.Short);break;case"a":case"aa":case"aaa":e=un(Ut.DayPeriods,lt.Abbreviated);break;case"aaaa":e=un(Ut.DayPeriods,lt.Wide);break;case"aaaaa":e=un(Ut.DayPeriods,lt.Narrow);break;case"b":case"bb":case"bbb":e=un(Ut.DayPeriods,lt.Abbreviated,Mt.Standalone,!0);break;case"bbbb":e=un(Ut.DayPeriods,lt.Wide,Mt.Standalone,!0);break;case"bbbbb":e=un(Ut.DayPeriods,lt.Narrow,Mt.Standalone,!0);break;case"B":case"BB":case"BBB":e=un(Ut.DayPeriods,lt.Abbreviated,Mt.Format,!0);break;case"BBBB":e=un(Ut.DayPeriods,lt.Wide,Mt.Format,!0);break;case"BBBBB":e=un(Ut.DayPeriods,lt.Narrow,Mt.Format,!0);break;case"h":e=sn(ft.Hours,1,-12);break;case"hh":e=sn(ft.Hours,2,-12);break;case"H":e=sn(ft.Hours,1);break;case"HH":e=sn(ft.Hours,2);break;case"m":e=sn(ft.Minutes,1);break;case"mm":e=sn(ft.Minutes,2);break;case"s":e=sn(ft.Seconds,1);break;case"ss":e=sn(ft.Seconds,2);break;case"S":e=sn(ft.FractionalSeconds,1);break;case"SS":e=sn(ft.FractionalSeconds,2);break;case"SSS":e=sn(ft.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Gt(en.Short);break;case"ZZZZZ":e=Gt(en.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Gt(en.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Gt(en.Long);break;default:return null}return Sr[n]=e,e}(S);D+=F?F(i,t,_):"''"===S?"'":S.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),D}function vr(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function qn(n,e){const t=function ce(n){return(0,u.cg1)(n)[u.wAp.LocaleId]}(n);if(On[t]=On[t]||{},On[t][e])return On[t][e];let r="";switch(e){case"shortDate":r=gt(n,Zt.Short);break;case"mediumDate":r=gt(n,Zt.Medium);break;case"longDate":r=gt(n,Zt.Long);break;case"fullDate":r=gt(n,Zt.Full);break;case"shortTime":r=Pn(n,Zt.Short);break;case"mediumTime":r=Pn(n,Zt.Medium);break;case"longTime":r=Pn(n,Zt.Long);break;case"fullTime":r=Pn(n,Zt.Full);break;case"short":const i=qn(n,"shortTime"),l=qn(n,"shortDate");r=ri(ct(n,Zt.Short),[i,l]);break;case"medium":const c=qn(n,"mediumTime"),g=qn(n,"mediumDate");r=ri(ct(n,Zt.Medium),[c,g]);break;case"long":const _=qn(n,"longTime"),D=qn(n,"longDate");r=ri(ct(n,Zt.Long),[_,D]);break;case"full":const S=qn(n,"fullTime"),F=qn(n,"fullDate");r=ri(ct(n,Zt.Full),[S,F])}return r&&(On[t][e]=r),r}function ri(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function xn(n,e,t="-",r,i){let l="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,l=t));let c=String(n);for(;c.length<e;)c="0"+c;return r&&(c=c.slice(c.length-e)),l+c}function sn(n,e,t=0,r=!1,i=!1){return function(l,c){let g=function yi(n,e){switch(n){case ft.FullYear:return e.getFullYear();case ft.Month:return e.getMonth();case ft.Date:return e.getDate();case ft.Hours:return e.getHours();case ft.Minutes:return e.getMinutes();case ft.Seconds:return e.getSeconds();case ft.FractionalSeconds:return e.getMilliseconds();case ft.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,l);if((t>0||g>-t)&&(g+=t),n===ft.Hours)0===g&&-12===t&&(g=12);else if(n===ft.FractionalSeconds)return function wr(n,e){return xn(n,3).substring(0,e)}(g,e);const _=yt(c,et.MinusSign);return xn(g,e,_,r,i)}}function un(n,e,t=Mt.Format,r=!1){return function(i,l){return function ii(n,e,t,r,i,l){switch(t){case Ut.Months:return function Fe(n,e,t){const r=(0,u.cg1)(n),l=Sn([r[u.wAp.MonthsFormat],r[u.wAp.MonthsStandalone]],e);return Sn(l,t)}(e,i,r)[n.getMonth()];case Ut.Days:return function xe(n,e,t){const r=(0,u.cg1)(n),l=Sn([r[u.wAp.DaysFormat],r[u.wAp.DaysStandalone]],e);return Sn(l,t)}(e,i,r)[n.getDay()];case Ut.DayPeriods:const c=n.getHours(),g=n.getMinutes();if(l){const D=function Kr(n){const e=(0,u.cg1)(n);return Jn(e),(e[u.wAp.ExtraData][2]||[]).map(r=>"string"==typeof r?dt(r):[dt(r[0]),dt(r[1])])}(e),S=function Kt(n,e,t){const r=(0,u.cg1)(n);Jn(r);const l=Sn([r[u.wAp.ExtraData][0],r[u.wAp.ExtraData][1]],e)||[];return Sn(l,t)||[]}(e,i,r),F=D.findIndex(Z=>{if(Array.isArray(Z)){const[re,de]=Z,Oe=c>=re.hours&&g>=re.minutes,Se=c<de.hours||c===de.hours&&g<de.minutes;if(re.hours<de.hours){if(Oe&&Se)return!0}else if(Oe||Se)return!0}else if(Z.hours===c&&Z.minutes===g)return!0;return!1});if(-1!==F)return S[F]}return function Ie(n,e,t){const r=(0,u.cg1)(n),l=Sn([r[u.wAp.DayPeriodsFormat],r[u.wAp.DayPeriodsStandalone]],e);return Sn(l,t)}(e,i,r)[c<12?0:1];case Ut.Eras:return function Ke(n,e){return Sn((0,u.cg1)(n)[u.wAp.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(i,l,n,e,t,r)}}function Gt(n){return function(e,t,r){const i=-1*r,l=yt(t,et.MinusSign),c=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case en.Short:return(i>=0?"+":"")+xn(c,2,l)+xn(Math.abs(i%60),2,l);case en.ShortGMT:return"GMT"+(i>=0?"+":"")+xn(c,1,l);case en.Long:return"GMT"+(i>=0?"+":"")+xn(c,2,l)+":"+xn(Math.abs(i%60),2,l);case en.Extended:return 0===r?"Z":(i>=0?"+":"")+xn(c,2,l)+":"+xn(Math.abs(i%60),2,l);default:throw new Error(`Unknown zone width "${n}"`)}}}const er=0,Hn=4;function nr(n){return vr(n.getFullYear(),n.getMonth(),n.getDate()+(Hn-n.getDay()))}function Yr(n,e=!1){return function(t,r){let i;if(e){const l=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,c=t.getDate();i=1+Math.floor((c+l)/7)}else{const l=nr(t),c=function tr(n){const e=vr(n,er,1).getDay();return vr(n,0,1+(e<=Hn?Hn:Hn+7)-e)}(l.getFullYear()),g=l.getTime()-c.getTime();i=1+Math.round(g/6048e5)}return xn(i,n,yt(r,et.MinusSign))}}function jr(n,e=!1){return function(t,r){return xn(nr(t).getFullYear(),n,yt(r,et.MinusSign),e)}}const Sr={};function G(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function Te(n){return n instanceof Date&&!isNaN(n.valueOf())}const Cr=/\s+/,nt=[];let qt=(()=>{class n{constructor(t,r,i,l){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=l,this.initialClasses=nt,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(Cr):nt}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(Cr):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,Boolean(t[r]));this._applyStateDiff()}_updateState(t,r){const i=this.stateMap.get(t);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(Cr).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.ZZ4),u.Y36(u.aQg),u.Y36(u.SBq),u.Y36(u.Qsj))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class Er{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Li=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,l,c)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Er(i.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)r.remove(null===l?void 0:l);else if(null!==l){const g=r.get(l);r.move(g,c),Rn(g,i)}});for(let i=0,l=r.length;i<l;i++){const g=r.get(i).context;g.index=i,g.count=l,g.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{Rn(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Rn(n,e){n.context.$implicit=e.item}let _i=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Qt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){qo("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){qo("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Qt{constructor(){this.$implicit=null,this.ngIf=null}}function qo(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,u.AaK)(e)}'.`)}const Sa=new u.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),bi=new u.OlP("DATE_PIPE_DEFAULT_OPTIONS");let Jr=(()=>{class n{constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,l){if(null==t||""===t||t!=t)return null;try{return Xn(t,r??this.defaultOptions?.dateFormat??"mediumDate",l||this.locale,i??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(c){throw function wi(n,e){return new u.vHH(2100,!1)}()}}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.soG,16),u.Y36(Sa,24),u.Y36(bi,24))},n.\u0275pipe=u.Yjl({name:"date",type:n,pure:!0,standalone:!0}),n})(),mo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const xs="server";function yo(n){return n===xs}let Ko=(()=>{class n{}return n.\u0275prov=(0,u.Yz7)({token:n,providedIn:"root",factory:()=>new mu((0,u.LFG)(j),window)}),n})();class mu{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function _o(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const l=i.shadowRoot;if(l){const c=l.getElementById(e)||l.querySelector(`[name="${e}"]`);if(c)return c}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(r-l[0],i-l[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Ki(this.window.history)||Ki(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Ki(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Mu extends ue{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Va extends Mu{static makeCurrent(){!function se(n){q||(q=n)}(new Va)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function na(){return Io=Io||document.querySelector("base"),Io?Io.getAttribute("href"):null}();return null==t?null:function E(n){Di=Di||document.createElement("a"),Di.setAttribute("href",n);const e=Di.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Io=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Bs(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,l]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(l)}return null}(document.cookie,e)}}let Di,Io=null;const T=new u.OlP("TRANSITION_ID"),z=[{provide:u.ip1,useFactory:function O(n,e,t){return()=>{t.get(u.CZH).donePromise.then(()=>{const r=R(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<i.length;l++)r.remove(i[l])})}},deps:[T,j,u.zs3],multi:!0}];let St=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const mn=new u.OlP("EventManagerPlugins");let Yn=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let l=0;l<i.length;l++){const c=i[l];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(mn),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class Qn{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=R().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let Ys=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,r){const i=this.usageCount;let l=i.get(t)??0;return l+=r,l>0?i.set(t,l):i.delete(t),l}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Xi=(()=>{class n extends Ys{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.forEach(l=>l.remove()),r.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,r){const i=this.doc.createElement("style");i.textContent=r,t.appendChild(i);const l=this.styleRef.get(r);l?l.push(i):this.styleRef.set(r,[i])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(j))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const ra={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ua=/%COMP%/g,Pl=new u.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Pu(n,e){return e.flat(100).map(t=>t.replace(Ua,n))}function kc(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Ti=(()=>{class n{constructor(t,r,i,l){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=l,this.rendererByCompId=new Map,this.defaultRenderer=new Zd(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;const i=this.getOrCreateRenderer(t,r);return i instanceof Ou?i.applyToHost(t):i instanceof Do&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let l=i.get(r.id);if(!l){const c=this.eventManager,g=this.sharedStylesHost,_=this.removeStylesOnCompDestory;switch(r.encapsulation){case u.ifc.Emulated:l=new Ou(c,g,r,this.appId,_);break;case u.ifc.ShadowDom:return new mr(c,g,t,r);default:l=new Do(c,g,r,_)}l.onDestroy=()=>i.delete(r.id),i.set(r.id,l)}return l}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Yn),u.LFG(Xi),u.LFG(u.AFp),u.LFG(Pl))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class Zd{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(ra[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Kd(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Kd(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const l=ra[i];l?e.setAttributeNS(l,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=ra[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(u.JOm.DashCase|u.JOm.Important)?e.style.setProperty(t,r,i&u.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&u.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,kc(r)):this.eventManager.addEventListener(e,t,kc(r))}}function Kd(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class mr extends Zd{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=Pu(i.id,i.styles);for(const c of l){const g=document.createElement("style");g.textContent=c,this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Do extends Zd{constructor(e,t,r,i,l=r.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=Pu(l,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class Ou extends Do{constructor(e,t,r,i,l){const c=i+"-"+r.id;super(e,t,r,l,c),this.contentAttr=function kf(n){return"_ngcontent-%COMP%".replace(Ua,n)}(c),this.hostAttr=function Rc(n){return"_nghost-%COMP%".replace(Ua,n)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let Yd=(()=>{class n extends Qn{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(j))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Ol=["alt","control","meta","shift"],Qd={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ru={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Rr=(()=>{class n extends Qn{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const l=n.parseEventName(r),c=n.eventCallback(l.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>R().onAndCancel(t,l.domEventName,c))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const l=n._normalizeKey(r.pop());let c="",g=r.indexOf("code");if(g>-1&&(r.splice(g,1),c="code."),Ol.forEach(D=>{const S=r.indexOf(D);S>-1&&(r.splice(S,1),c+=D+".")}),c+=l,0!=r.length||0===l.length)return null;const _={};return _.domEventName=i,_.fullKey=c,_}static matchEventFullKeyCode(t,r){let i=Qd[t.key]||t.key,l="";return r.indexOf("code.")>-1&&(i=t.code,l="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Ol.forEach(c=>{c!==i&&(0,Ru[c])(t)&&(l+=c+".")}),l+=i,l===r)}static eventCallback(t,r,i){return l=>{n.matchEventFullKeyCode(l,t)&&i.runGuarded(()=>r(l))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(j))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Ff=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:"browser"},{provide:u.g9A,useValue:function ja(){Va.makeCurrent()},multi:!0},{provide:j,useFactory:function Lc(){return(0,u.RDi)(document),document},deps:[]}]),sa=new u.OlP(""),Rl=[{provide:u.rWj,useClass:class he{addToWindow(e){u.dqk.getAngularTestability=(r,i=!0)=>{const l=e.findTestabilityInTree(r,i);if(null==l)throw new Error("Could not find testability for element.");return l},u.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(r=>{const i=u.dqk.getAllAngularTestabilities();let l=i.length,c=!1;const g=function(_){c=c||_,l--,0==l&&r(c)};i.forEach(function(_){_.whenStable(g)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?R().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:u.lri,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]}],oa=[{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function Fc(){return new u.qLn},deps:[]},{provide:mn,useClass:Yd,multi:!0,deps:[j,u.R0b,u.Lbi]},{provide:mn,useClass:Rr,multi:!0,deps:[j]},{provide:Ti,useClass:Ti,deps:[Yn,Xi,u.AFp,Pl]},{provide:u.FYo,useExisting:Ti},{provide:Ys,useExisting:Xi},{provide:Xi,useClass:Xi,deps:[j]},{provide:Yn,useClass:Yn,deps:[mn,u.R0b]},{provide:class yu{},useClass:St,deps:[]},[]];let Ha=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:u.AFp,useValue:t.appId},{provide:T,useExisting:u.AFp},z]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(sa,12))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[...oa,...Rl],imports:[mo,u.hGG]}),n})(),Lf=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(j))},n.\u0275prov=u.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function aa(){return new Lf((0,u.LFG)(j))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;var Tn=U(8996),ps=U(7669);function mt(...n){const e=(0,ps.yG)(n);return(0,Tn.D)(n,e)}var gs=U(7579);class Ir extends gs.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const Nl=(0,U(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Ai=U(9751);const{isArray:qc}=Array,{getPrototypeOf:rh,prototype:ts,keys:xo}=Object;function Wc(n){if(1===n.length){const e=n[0];if(qc(e))return{args:e,keys:null};if(function ua(n){return n&&"object"==typeof n&&rh(n)===ts}(e)){const t=xo(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Ga=U(4671),Rt=U(4004);const{isArray:Zc}=Array;function ns(n){return(0,Rt.U)(e=>function ih(n,e){return Zc(e)?n(...e):n(e)}(n,e))}function Uu(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var oi=U(5403),Fl=U(9672);function Bu(...n){const e=(0,ps.yG)(n),t=(0,ps.jO)(n),{args:r,keys:i}=Wc(n);if(0===r.length)return(0,Tn.D)([],e);const l=new Ai.y(function ca(n,e,t=Ga.y){return r=>{Ll(e,()=>{const{length:i}=n,l=new Array(i);let c=i,g=i;for(let _=0;_<i;_++)Ll(e,()=>{const D=(0,Tn.D)(n[_],e);let S=!1;D.subscribe((0,oi.x)(r,F=>{l[_]=F,S||(S=!0,g--),g||r.next(t(l.slice()))},()=>{--c||r.complete()}))},r)},r)}}(r,e,i?c=>Uu(i,c):Ga.y));return t?l.pipe(ns(t)):l}function Ll(n,e,t){n?(0,Fl.f)(t,n,e):e()}var Vl=U(8189);function $u(...n){return function Bf(){return(0,Vl.J)(1)}()((0,Tn.D)(n,(0,ps.yG)(n)))}var Ul=U(8421);function sh(n){return new Ai.y(e=>{(0,Ul.Xf)(n()).subscribe(e)})}var Kc=U(9635),Yc=U(576);function Bl(n,e){const t=(0,Yc.m)(n)?n:()=>n,r=i=>i.error(t());return new Ai.y(e?i=>e.schedule(r,0,i):r)}var Bi=U(515),Qc=U(727),hi=U(4482);function $l(){return(0,hi.e)((n,e)=>{let t=null;n._refCount++;const r=(0,oi.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,l=t;t=null,i&&(!l||i===l)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class $f extends Ai.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,hi.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Qc.w0;const t=this.getSubject();e.add(this.source.subscribe((0,oi.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Qc.w0.EMPTY)}return e}refCount(){return $l()(this)}}function lr(n,e){return(0,hi.e)((t,r)=>{let i=null,l=0,c=!1;const g=()=>c&&!i&&r.complete();t.subscribe((0,oi.x)(r,_=>{i?.unsubscribe();let D=0;const S=l++;(0,Ul.Xf)(n(_,S)).subscribe(i=(0,oi.x)(r,F=>r.next(e?e(_,F,S,D++):F),()=>{i=null,g()}))},()=>{c=!0,g()}))})}function da(n){return n<=0?()=>Bi.E:(0,hi.e)((e,t)=>{let r=0;e.subscribe((0,oi.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function ha(...n){const e=(0,ps.yG)(n);return(0,hi.e)((t,r)=>{(e?$u(n,t,e):$u(n,t)).subscribe(r)})}function $i(n,e){return(0,hi.e)((t,r)=>{let i=0;t.subscribe((0,oi.x)(r,l=>n.call(e,l,i++)&&r.next(l)))})}var Nr=U(5577);function jl(n){return(0,hi.e)((e,t)=>{let r=!1;e.subscribe((0,oi.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function ju(n=qa){return(0,hi.e)((e,t)=>{let r=!1;e.subscribe((0,oi.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function qa(){return new Nl}function ms(n,e){const t=arguments.length>=2;return r=>r.pipe(n?$i((i,l)=>n(i,l,r)):Ga.y,da(1),t?jl(e):ju(()=>new Nl))}function Mo(n,e){return(0,Yc.m)(e)?(0,Nr.z)(n,e,1):(0,Nr.z)(n,1)}var Gr=U(8505);function ys(n){return(0,hi.e)((e,t)=>{let l,r=null,i=!1;r=e.subscribe((0,oi.x)(t,void 0,void 0,c=>{l=(0,Ul.Xf)(n(c,ys(n)(e))),r?(r.unsubscribe(),r=null,l.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,l.subscribe(t))})}function Hu(n,e){return(0,hi.e)(function Sy(n,e,t,r,i){return(l,c)=>{let g=t,_=e,D=0;l.subscribe((0,oi.x)(c,S=>{const F=D++;_=g?n(_,S,F):(g=!0,S),r&&c.next(_)},i&&(()=>{g&&c.next(_),c.complete()})))}}(n,e,arguments.length>=2,!0))}function Jc(n){return n<=0?()=>Bi.E:(0,hi.e)((e,t)=>{let r=[];e.subscribe((0,oi.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Wa(n,e){const t=arguments.length>=2;return r=>r.pipe(n?$i((i,l)=>n(i,l,r)):Ga.y,Jc(1),t?jl(e):ju(()=>new Nl))}function Za(n){return(0,hi.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Vt="primary",Po=Symbol("RouteTitle");class pa{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Ka(n){return new pa(n)}function Oo(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let l=0;l<r.length;l++){const c=r[l],g=n[l];if(c.startsWith(":"))i[c.substring(1)]=g;else if(c!==g.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Qs(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let l=0;l<t.length;l++)if(i=t[l],!Xc(n[i],e[i]))return!1;return!0}function Xc(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,l)=>r[l]===i)}return n===e}function lh(n){return Array.prototype.concat.apply([],n)}function ed(n){return n.length>0?n[n.length-1]:null}function w(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function I(n){return(0,u.CqO)(n)?n:(0,u.QGY)(n)?(0,Tn.D)(Promise.resolve(n)):mt(n)}const M=!1,$={exact:function Je(n,e,t){if(!rs(n.segments,e.segments)||!jt(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!Je(n.children[r],e.children[r],t))return!1;return!0},subset:vt},Q={exact:function ge(n,e){return Qs(n,e)},subset:function Ye(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Xc(n[t],e[t]))},ignored:()=>!0};function ee(n,e,t){return $[t.paths](n.root,e.root,t.matrixParams)&&Q[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function vt(n,e,t){return Ht(n,e,e.segments,t)}function Ht(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!rs(i,t)||e.hasChildren()||!jt(i,t,r))}if(n.segments.length===t.length){if(!rs(n.segments,t)||!jt(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!vt(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),l=t.slice(n.segments.length);return!!(rs(n.segments,i)&&jt(n.segments,i,r)&&n.children[Vt])&&Ht(n.children[Vt],e,l,r)}}function jt(n,e,t){return e.every((r,i)=>Q[t](n[i].parameters,r.parameters))}class ur{constructor(e=new Ot([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ka(this.queryParams)),this._queryParamMap}toString(){return ch.serialize(this)}}class Ot{constructor(e,t){this.segments=e,this.children=t,this.parent=null,w(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Gu(this)}}class _s{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Ka(this.parameters)),this._parameterMap}toString(){return Og(this)}}function rs(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let ai=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return new zu},providedIn:"root"}),n})();class zu{parse(e){const t=new P(e);return new ur(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${qu(e.root,!0)}`,r=function Rg(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${zl(t)}=${zl(i)}`).join("&"):`${zl(t)}=${zl(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function jf(n){return encodeURI(n)}(e.fragment)}`:""}`}}const ch=new zu;function Gu(n){return n.segments.map(e=>Og(e)).join("/")}function qu(n,e){if(!n.hasChildren())return Gu(n);if(e){const t=n.children[Vt]?qu(n.children[Vt],!1):"",r=[];return w(n.children,(i,l)=>{l!==Vt&&r.push(`${l}:${qu(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function ji(n,e){let t=[];return w(n.children,(r,i)=>{i===Vt&&(t=t.concat(e(r,i)))}),w(n.children,(r,i)=>{i!==Vt&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Vt?[qu(n.children[Vt],!1)]:[`${i}:${qu(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Vt]?`${Gu(n)}/${t[0]}`:`${Gu(n)}/(${t.join("//")})`}}function Hl(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function zl(n){return Hl(n).replace(/%3B/gi,";")}function Ya(n){return Hl(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Wu(n){return decodeURIComponent(n)}function Hf(n){return Wu(n.replace(/\+/g,"%20"))}function Og(n){return`${Ya(n.path)}${function zf(n){return Object.keys(n).map(e=>`;${Ya(e)}=${Ya(n[e])}`).join("")}(n.parameters)}`}const xy=/^[^\/()?;=#]+/;function dh(n){const e=n.match(xy);return e?e[0]:""}const v=/^[^=?&#]+/,m=/^[^&#]+/;class P{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ot([],{}):new Ot([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Vt]=new Ot(e,t)),r}parseSegment(){const e=dh(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new u.vHH(4009,M);return this.capture(e),new _s(Wu(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=dh(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=dh(this.remaining);i&&(r=i,this.capture(r))}e[Wu(t)]=Wu(r)}parseQueryParam(e){const t=function f(n){const e=n.match(v);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const c=function b(n){const e=n.match(m);return e?e[0]:""}(this.remaining);c&&(r=c,this.capture(r))}const i=Hf(t),l=Hf(r);if(e.hasOwnProperty(i)){let c=e[i];Array.isArray(c)||(c=[c],e[i]=c),c.push(l)}else e[i]=l}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=dh(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new u.vHH(4010,M);let l;r.indexOf(":")>-1?(l=r.slice(0,r.indexOf(":")),this.capture(l),this.capture(":")):e&&(l=Vt);const c=this.parseChildren();t[l]=1===Object.keys(c).length?c[Vt]:new Ot([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new u.vHH(4011,M)}}function L(n){return n.segments.length>0?new Ot([],{[Vt]:n}):n}function te(n){const e={};for(const r of Object.keys(n.children)){const l=te(n.children[r]);(l.segments.length>0||l.hasChildren())&&(e[r]=l)}return function pe(n){if(1===n.numberOfChildren&&n.children[Vt]){const e=n.children[Vt];return new Ot(n.segments.concat(e.segments),e.children)}return n}(new Ot(n.segments,e))}function We(n){return n instanceof ur}const tt=!1;function ga(n,e,t,r,i){if(0===t.length)return Js(e.root,e.root,e.root,r,i);const l=function rd(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new hh(!0,0,n);let e=0,t=!1;const r=n.reduce((i,l,c)=>{if("object"==typeof l&&null!=l){if(l.outlets){const g={};return w(l.outlets,(_,D)=>{g[D]="string"==typeof _?_.split("/"):_}),[...i,{outlets:g}]}if(l.segmentPath)return[...i,l.segmentPath]}return"string"!=typeof l?[...i,l]:0===c?(l.split("/").forEach((g,_)=>{0==_&&"."===g||(0==_&&""===g?t=!0:".."===g?e++:""!=g&&i.push(g))}),i):[...i,l]},[]);return new hh(t,e,r)}(t);return l.toRoot()?Js(e.root,e.root,new Ot([],{}),r,i):function c(_){const D=function ph(n,e,t,r){if(n.isAbsolute)return new Ja(e.root,!0,0);if(-1===r)return new Ja(t,t===e.root,0);return function Zu(n,e,t){let r=n,i=e,l=t;for(;l>i;){if(l-=i,r=r.parent,!r)throw new u.vHH(4005,tt&&"Invalid number of '../'");i=r.segments.length}return new Ja(r,!1,i-l)}(t,r+(Qa(n.commands[0])?0:1),n.numberOfDoubleDots)}(l,e,n.snapshot?._urlSegment,_),S=D.processChildren?Xa(D.segmentGroup,D.index,l.commands):Ku(D.segmentGroup,D.index,l.commands);return Js(e.root,D.segmentGroup,S,r,i)}(n.snapshot?._lastPathIndex)}function Qa(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function nd(n){return"object"==typeof n&&null!=n&&n.outlets}function Js(n,e,t,r,i){let c,l={};r&&w(r,(_,D)=>{l[D]=Array.isArray(_)?_.map(S=>`${S}`):`${_}`}),c=n===e?t:Gf(n,e,t);const g=L(te(c));return new ur(g,l,i)}function Gf(n,e,t){const r={};return w(n.children,(i,l)=>{r[l]=i===e?t:Gf(i,e,t)}),new Ot(n.segments,r)}class hh{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Qa(r[0]))throw new u.vHH(4003,tt&&"Root segment cannot have matrix parameters");const i=r.find(nd);if(i&&i!==ed(r))throw new u.vHH(4004,tt&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ja{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Ku(n,e,t){if(n||(n=new Ot([],{})),0===n.segments.length&&n.hasChildren())return Xa(n,e,t);const r=function My(n,e,t){let r=0,i=e;const l={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return l;const c=n.segments[i],g=t[r];if(nd(g))break;const _=`${g}`,D=r<t.length-1?t[r+1]:null;if(i>0&&void 0===_)break;if(_&&D&&"object"==typeof D&&void 0===D.outlets){if(!Py(_,D,c))return l;r+=2}else{if(!Py(_,{},c))return l;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const l=new Ot(n.segments.slice(0,r.pathIndex),{});return l.children[Vt]=new Ot(n.segments.slice(r.pathIndex),n.children),Xa(l,0,i)}return r.match&&0===i.length?new Ot(n.segments,{}):r.match&&!n.hasChildren()?qf(n,e,t):r.match?Xa(n,0,i):qf(n,e,t)}function Xa(n,e,t){if(0===t.length)return new Ot(n.segments,{});{const r=function gh(n){return nd(n[0])?n[0].outlets:{[Vt]:n}}(t),i={};if(!r[Vt]&&n.children[Vt]&&1===n.numberOfChildren&&0===n.children[Vt].segments.length){const l=Xa(n.children[Vt],e,t);return new Ot(n.segments,l.children)}return w(r,(l,c)=>{"string"==typeof l&&(l=[l]),null!==l&&(i[c]=Ku(n.children[c],e,l))}),w(n.children,(l,c)=>{void 0===r[c]&&(i[c]=l)}),new Ot(n.segments,i)}}function qf(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const l=t[i];if(nd(l)){const _=Wf(l.outlets);return new Ot(r,_)}if(0===i&&Qa(t[0])){r.push(new _s(n.segments[e].path,z0(t[0]))),i++;continue}const c=nd(l)?l.outlets[Vt]:`${l}`,g=i<t.length-1?t[i+1]:null;c&&g&&Qa(g)?(r.push(new _s(c,z0(g))),i+=2):(r.push(new _s(c,{})),i++)}return new Ot(r,{})}function Wf(n){const e={};return w(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=qf(new Ot([],{}),0,t))}),e}function z0(n){const e={};return w(n,(t,r)=>e[r]=`${t}`),e}function Py(n,e,t){return n==t.path&&Qs(e,t.parameters)}const Zf="imperative";class el{constructor(e,t){this.id=e,this.url=t}}class Oy extends el{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Yu extends el{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Kf extends el{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class id extends el{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class Yf extends el{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class mh extends el{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qE extends el{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class WE extends el{constructor(e,t,r,i,l){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=l,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class yS extends el{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ZE extends el{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ry{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class KE{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class G0{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class kg{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ky{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class q0{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ny{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let YE=(()=>{class n{createUrlTree(t,r,i,l,c,g){return ga(t||r.root,i,l,c,g)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),JE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(e){return YE.\u0275fac(e)},providedIn:"root"}),n})();class K0{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Fy(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Fy(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=tl(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return tl(e,this._root).map(t=>t.value)}}function Fy(n,e){if(n===e.value)return e;for(const t of e.children){const r=Fy(n,t);if(r)return r}return null}function tl(n,e){if(n===e.value)return[e];for(const t of e.children){const r=tl(n,t);if(r.length)return r.unshift(e),r}return[]}class Xs{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function yh(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class XE extends K0{constructor(e,t){super(e),this.snapshot=t,Ly(this,e)}toString(){return this.snapshot.toString()}}function eI(n,e){const t=function _S(n,e){const c=new Ng([],{},{},"",{},Vt,e,null,n.root,-1,{});return new Q0("",new Xs(c,[]))}(n,e),r=new Ir([new _s("",{})]),i=new Ir({}),l=new Ir({}),c=new Ir({}),g=new Ir(""),_=new Qf(r,i,c,g,l,Vt,e,t.root);return _.snapshot=t.root,new XE(new Xs(_,[]),t)}class Qf{constructor(e,t,r,i,l,c,g,_){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=l,this.outlet=c,this.component=g,this.title=this.data?.pipe((0,Rt.U)(D=>D[Po]))??mt(void 0),this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Rt.U)(e=>Ka(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Rt.U)(e=>Ka(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function tI(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],l=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(l.component)break;r--}}return function Y0(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Ng{get title(){return this.data?.[Po]}constructor(e,t,r,i,l,c,g,_,D,S,F){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=l,this.outlet=c,this.component=g,this.routeConfig=_,this._urlSegment=D,this._lastPathIndex=S,this._resolve=F}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ka(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ka(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Q0 extends K0{constructor(e,t){super(t),this.url=e,Ly(this,t)}toString(){return J0(this._root)}}function Ly(n,e){e.value._routerState=n,e.children.forEach(t=>Ly(n,t))}function J0(n){const e=n.children.length>0?` { ${n.children.map(J0).join(", ")} } `:"";return`${n.value}${e}`}function Jf(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Qs(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Qs(e.params,t.params)||n.params.next(t.params),function ah(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Qs(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Qs(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function ma(n,e){const t=Qs(n.params,e.params)&&function td(n,e){return rs(n,e)&&n.every((t,r)=>Qs(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||ma(n.parent,e.parent))}function _h(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function X0(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return _h(n,r,i);return _h(n,r)})}(n,e,t);return new Xs(r,i)}{if(n.shouldAttach(e.value)){const l=n.retrieve(e.value);if(null!==l){const c=l.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(g=>_h(n,g)),c}}const r=function ew(n){return new Qf(new Ir(n.url),new Ir(n.params),new Ir(n.queryParams),new Ir(n.fragment),new Ir(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(l=>_h(n,l));return new Xs(r,i)}}const tw="ngNavigationCancelingError";function nI(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=We(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=rI(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function rI(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[tw]=!0,r.cancellationCode=e,t&&(r.url=t),r}function Fg(n){return Lg(n)&&We(n.url)}function Lg(n){return n&&n[tw]}class vS{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Vg,this.attachRef=null}}let Vg=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new vS,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ep=!1;let Vy=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Vt,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.attachEvents=new u.vpe,this.detachEvents=new u.vpe,this.parentContexts=(0,u.f3M)(Vg),this.location=(0,u.f3M)(u.s_b),this.changeDetector=(0,u.f3M)(u.sBO),this.environmentInjector=(0,u.f3M)(u.lqb)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new u.vHH(4012,ep);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new u.vHH(4012,ep);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new u.vHH(4012,ep);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new u.vHH(4013,ep);this._activatedRoute=t;const i=this.location,c=t.snapshot.component,g=this.parentContexts.getOrCreateContext(this.name).children,_=new iI(t,g,i.injector);if(r&&function sI(n){return!!n.resolveComponentFactory}(r)){const D=r.resolveComponentFactory(c);this.activated=i.createComponent(D,i.length,_)}else this.activated=i.createComponent(c,{index:i.length,injector:_,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[u.TTD]}),n})();class iI{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Qf?this.route:e===Vg?this.childContexts:this.parent.get(e,t)}}let Uy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[u.jDz],decls:1,vars:0,template:function(t,r){1&t&&u._UZ(0,"router-outlet")},dependencies:[Vy],encapsulation:2}),n})();function By(n,e){return n.providers&&!n._injector&&(n._injector=(0,u.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Ug(n){const e=n.children&&n.children.map(Ug),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Vt&&(t.component=Uy),t}function Ro(n){return n.outlet||Vt}function rw(n,e){const t=n.filter(r=>Ro(r)===e);return t.push(...n.filter(r=>Ro(r)!==e)),t}function tp(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class iw{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Jf(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=yh(t);e.children.forEach(l=>{const c=l.value.outlet;this.deactivateRoutes(l,i[c],r),delete i[c]}),w(i,(l,c)=>{this.deactivateRouteAndItsChildren(l,r)})}deactivateRoutes(e,t,r){const i=e.value,l=t?t.value:null;if(i===l)if(i.component){const c=r.getContext(i.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,r);else l&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,l=yh(e);for(const c of Object.keys(l))this.deactivateRouteAndItsChildren(l[c],i);if(r&&r.outlet){const c=r.outlet.detach(),g=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:g})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,l=yh(e);for(const c of Object.keys(l))this.deactivateRouteAndItsChildren(l[c],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=yh(t);e.children.forEach(l=>{this.activateRoutes(l,i[l.value.outlet],r),this.forwardEvent(new q0(l.value.snapshot))}),e.children.length&&this.forwardEvent(new kg(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,l=t?t.value:null;if(Jf(i),i===l)if(i.component){const c=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const c=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const g=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),c.children.onOutletReAttached(g.contexts),c.attachRef=g.componentRef,c.route=g.route.value,c.outlet&&c.outlet.attach(g.componentRef,g.route.value),Jf(g.route.value),this.activateChildRoutes(e,null,c.children)}else{const g=tp(i.snapshot),_=g?.get(u._Vd)??null;c.attachRef=null,c.route=i,c.resolver=_,c.injector=g,c.outlet&&c.outlet.activateWith(i,c.injector),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,r)}}class uI{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Hy{constructor(e,t){this.component=e,this.route=t}}function np(n,e,t){const r=n._root;return vh(r,e?e._root:null,t,[r.value])}function sd(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,u.Z0I)(n)?e.get(n):n:r}function vh(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const l=yh(e);return n.children.forEach(c=>{(function sw(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const l=n.value,c=e?e.value:null,g=t?t.getContext(n.value.outlet):null;if(c&&l.routeConfig===c.routeConfig){const _=function CS(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!rs(n.url,e.url);case"pathParamsOrQueryParamsChange":return!rs(n.url,e.url)||!Qs(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ma(n,e)||!Qs(n.queryParams,e.queryParams);default:return!ma(n,e)}}(c,l,l.routeConfig.runGuardsAndResolvers);_?i.canActivateChecks.push(new uI(r)):(l.data=c.data,l._resolvedData=c._resolvedData),vh(n,e,l.component?g?g.children:null:t,r,i),_&&g&&g.outlet&&g.outlet.isActivated&&i.canDeactivateChecks.push(new Hy(g.outlet.component,c))}else c&&rp(e,g,i),i.canActivateChecks.push(new uI(r)),vh(n,null,l.component?g?g.children:null:t,r,i)})(c,l[c.value.outlet],t,r.concat([c.value]),i),delete l[c.value.outlet]}),w(l,(c,g)=>rp(c,t.getContext(g),i)),i}function rp(n,e,t){const r=yh(n),i=n.value;w(r,(l,c)=>{rp(l,i.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new Hy(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function wh(n){return"function"==typeof n}function Gl(n){return n instanceof Nl||"EmptyError"===n?.name}const Bg=Symbol("INITIAL_VALUE");function Qu(){return lr(n=>Bu(n.map(e=>e.pipe(da(1),ha(Bg)))).pipe((0,Rt.U)(e=>{for(const t of e)if(!0!==t){if(t===Bg)return Bg;if(!1===t||t instanceof ur)return t}return!0}),$i(e=>e!==Bg),da(1)))}function Yy(n){return(0,Kc.z)((0,Gr.b)(e=>{if(We(e))throw nI(0,e)}),(0,Rt.U)(e=>!0===e))}const Qy={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function uw(n,e,t,r,i){const l=Jy(n,e,t);return l.matched?function bh(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?mt(i.map(c=>{const g=sd(c,n);return I(function Wy(n){return n&&wh(n.canMatch)}(g)?g.canMatch(e,t):n.runInContext(()=>g(e,t)))})).pipe(Qu(),Yy()):mt(!0)}(r=By(e,r),e,t).pipe((0,Rt.U)(c=>!0===c?l:{...Qy})):mt(l)}function Jy(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Qy}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Oo)(t,n,e);if(!i)return{...Qy};const l={};w(i.posParams,(g,_)=>{l[_]=g.path});const c=i.consumed.length>0?{...l,...i.consumed[i.consumed.length-1].parameters}:l;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:c,positionalParamSegments:i.posParams??{}}}function Ch(n,e,t,r){if(t.length>0&&function mI(n,e,t){return t.some(r=>Xy(n,e,r)&&Ro(r)!==Vt)}(n,t,r)){const l=new Ot(e,function cw(n,e,t,r){const i={};i[Vt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const l of t)if(""===l.path&&Ro(l)!==Vt){const c=new Ot([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,i[Ro(l)]=c}return i}(n,e,r,new Ot(t,n.children)));return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:[]}}if(0===t.length&&function dw(n,e,t){return t.some(r=>Xy(n,e,r))}(n,t,r)){const l=new Ot(n.segments,function gI(n,e,t,r,i){const l={};for(const c of r)if(Xy(n,t,c)&&!i[Ro(c)]){const g=new Ot([],{});g._sourceSegment=n,g._segmentIndexShift=e.length,l[Ro(c)]=g}return{...i,...l}}(n,e,t,r,n.children));return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:t}}const i=new Ot(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}function Xy(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function hw(n,e,t,r){return!!(Ro(n)===r||r!==Vt&&Xy(e,t,n))&&("**"===n.path||Jy(e,n,t).matched)}function Eh(n,e,t){return 0===e.length&&!n.children[t]}const Hg=!1;class ql{constructor(e){this.segmentGroup=e||null}}class Ih{constructor(e){this.urlTree=e}}function ip(n){return Bl(new ql(n))}function e_(n){return Bl(new Ih(n))}class fw{constructor(e,t,r,i,l){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=l,this.allowRedirects=!0}apply(){const e=Ch(this.urlTree.root,[],[],this.config).segmentGroup,t=new Ot(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Vt).pipe((0,Rt.U)(l=>this.createUrlTree(te(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ys(l=>{if(l instanceof Ih)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof ql?this.noMatchError(l):l}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Vt).pipe((0,Rt.U)(i=>this.createUrlTree(te(i),e.queryParams,e.fragment))).pipe(ys(i=>{throw i instanceof ql?this.noMatchError(i):i}))}noMatchError(e){return new u.vHH(4002,Hg)}createUrlTree(e,t,r){const i=L(e);return new ur(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,Rt.U)(l=>new Ot([],l))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const l of Object.keys(r.children))"primary"===l?i.unshift(l):i.push(l);return(0,Tn.D)(i).pipe(Mo(l=>{const c=r.children[l],g=rw(t,l);return this.expandSegmentGroup(e,g,c,l).pipe((0,Rt.U)(_=>({segment:_,outlet:l})))}),Hu((l,c)=>(l[c.outlet]=c.segment,l),{}),Wa())}expandSegment(e,t,r,i,l,c){return(0,Tn.D)(r).pipe(Mo(g=>this.expandSegmentAgainstRoute(e,t,r,g,i,l,c).pipe(ys(D=>{if(D instanceof ql)return mt(null);throw D}))),ms(g=>!!g),ys((g,_)=>{if(Gl(g))return Eh(t,i,l)?mt(new Ot([],{})):ip(t);throw g}))}expandSegmentAgainstRoute(e,t,r,i,l,c,g){return hw(i,t,l,c)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,l,c):g&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,l,c):ip(t):ip(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,l,c){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,l,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const l=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?e_(l):this.lineralizeSegments(r,l).pipe((0,Nr.z)(c=>{const g=new Ot(c,{});return this.expandSegment(e,g,t,c,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,l,c){const{matched:g,consumedSegments:_,remainingSegments:D,positionalParamSegments:S}=Jy(t,i,l);if(!g)return ip(t);const F=this.applyRedirectCommands(_,i.redirectTo,S);return i.redirectTo.startsWith("/")?e_(F):this.lineralizeSegments(i,F).pipe((0,Nr.z)(Z=>this.expandSegment(e,t,r,Z.concat(D),c,!1)))}matchSegmentAgainstRoute(e,t,r,i,l){return"**"===r.path?(e=By(r,e),r.loadChildren?(r._loadedRoutes?mt({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,Rt.U)(g=>(r._loadedRoutes=g.routes,r._loadedInjector=g.injector,new Ot(i,{})))):mt(new Ot(i,{}))):uw(t,r,i,e).pipe(lr(({matched:c,consumedSegments:g,remainingSegments:_})=>c?this.getChildConfig(e=r._injector??e,r,i).pipe((0,Nr.z)(S=>{const F=S.injector??e,Z=S.routes,{segmentGroup:re,slicedSegments:de}=Ch(t,g,_,Z),Oe=new Ot(re.segments,re.children);if(0===de.length&&Oe.hasChildren())return this.expandChildren(F,Z,Oe).pipe((0,Rt.U)(ht=>new Ot(g,ht)));if(0===Z.length&&0===de.length)return mt(new Ot(g,{}));const Se=Ro(r)===l;return this.expandSegment(F,Oe,Z,de,Se?Vt:l,!0).pipe((0,Rt.U)(It=>new Ot(g.concat(It.segments),It.children)))})):ip(t)))}getChildConfig(e,t,r){return t.children?mt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?mt({routes:t._loadedRoutes,injector:t._loadedInjector}):function pI(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?mt(!0):mt(i.map(c=>{const g=sd(c,n);return I(function Gy(n){return n&&wh(n.canLoad)}(g)?g.canLoad(e,t):n.runInContext(()=>g(e,t)))})).pipe(Qu(),Yy())}(e,t,r).pipe((0,Nr.z)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,Gr.b)(l=>{t._loadedRoutes=l.routes,t._loadedInjector=l.injector})):function _I(n){return Bl(rI(Hg,3))}())):mt({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return mt(r);if(i.numberOfChildren>1||!i.children[Vt])return e.redirectTo,Bl(new u.vHH(4e3,Hg));i=i.children[Vt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const l=this.createSegmentGroup(e,t.root,r,i);return new ur(l,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return w(e,(i,l)=>{if("string"==typeof i&&i.startsWith(":")){const g=i.substring(1);r[l]=t[g]}else r[l]=i}),r}createSegmentGroup(e,t,r,i){const l=this.createSegments(e,t.segments,r,i);let c={};return w(t.children,(g,_)=>{c[_]=this.createSegmentGroup(e,g,r,i)}),new Ot(l,c)}createSegments(e,t,r,i){return t.map(l=>l.path.startsWith(":")?this.findPosParam(e,l,i):this.findOrReturn(l,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new u.vHH(4001,Hg);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class t_{}class sp{constructor(e,t,r,i,l,c,g){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=l,this.paramsInheritanceStrategy=c,this.urlSerializer=g}recognize(){const e=Ch(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Vt).pipe((0,Rt.U)(t=>{if(null===t)return null;const r=new Ng([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Vt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Xs(r,t),l=new Q0(this.url,i);return this.inheritParamsAndData(l._root),l}))}inheritParamsAndData(e){const t=e.value,r=tI(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,Tn.D)(Object.keys(r.children)).pipe(Mo(i=>{const l=r.children[i],c=rw(t,i);return this.processSegmentGroup(e,c,l,i)}),Hu((i,l)=>i&&l?(i.push(...l),i):null),function oh(n,e=!1){return(0,hi.e)((t,r)=>{let i=0;t.subscribe((0,oi.x)(r,l=>{const c=n(l,i++);(c||e)&&r.next(l),!c&&r.complete()}))})}(i=>null!==i),jl(null),Wa(),(0,Rt.U)(i=>{if(null===i)return null;const l=gw(i);return function bI(n){n.sort((e,t)=>e.value.outlet===Vt?-1:t.value.outlet===Vt?1:e.value.outlet.localeCompare(t.value.outlet))}(l),l}))}processSegment(e,t,r,i,l){return(0,Tn.D)(t).pipe(Mo(c=>this.processSegmentAgainstRoute(c._injector??e,c,r,i,l)),ms(c=>!!c),ys(c=>{if(Gl(c))return Eh(r,i,l)?mt([]):mt(null);throw c}))}processSegmentAgainstRoute(e,t,r,i,l){if(t.redirectTo||!hw(t,r,i,l))return mt(null);let c;if("**"===t.path){const g=i.length>0?ed(i).parameters:{},_=yw(r)+i.length;c=mt({snapshot:new Ng(i,g,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,nl(t),Ro(t),t.component??t._loadedComponent??null,t,mw(r),_,_w(t)),consumedSegments:[],remainingSegments:[]})}else c=uw(r,t,i,e).pipe((0,Rt.U)(({matched:g,consumedSegments:_,remainingSegments:D,parameters:S})=>{if(!g)return null;const F=yw(r)+_.length;return{snapshot:new Ng(_,S,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,nl(t),Ro(t),t.component??t._loadedComponent??null,t,mw(r),F,_w(t)),consumedSegments:_,remainingSegments:D}}));return c.pipe(lr(g=>{if(null===g)return mt(null);const{snapshot:_,consumedSegments:D,remainingSegments:S}=g;e=t._injector??e;const F=t._loadedInjector??e,Z=function CI(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:re,slicedSegments:de}=Ch(r,D,S,Z.filter(Se=>void 0===Se.redirectTo));if(0===de.length&&re.hasChildren())return this.processChildren(F,Z,re).pipe((0,Rt.U)(Se=>null===Se?null:[new Xs(_,Se)]));if(0===Z.length&&0===de.length)return mt([new Xs(_,[])]);const Oe=Ro(t)===l;return this.processSegment(F,Z,re,de,Oe?Vt:l).pipe((0,Rt.U)(Se=>null===Se?null:[new Xs(_,Se)]))}))}}function EI(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function gw(n){const e=[],t=new Set;for(const r of n){if(!EI(r)){e.push(r);continue}const i=e.find(l=>r.value.routeConfig===l.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=gw(r.children);e.push(new Xs(r.value,i))}return e.filter(r=>!t.has(r))}function mw(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function yw(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function nl(n){return n.data||{}}function _w(n){return n.resolve||{}}function r_(n){return"string"==typeof n.title||null===n.title}function i_(n){return lr(e=>{const t=n(e);return t?(0,Tn.D)(t).pipe((0,Rt.U)(()=>e)):mt(e)})}const Dh=new u.OlP("ROUTES");let o_=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,u.f3M)(u.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return mt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=I(t.loadComponent()).pipe((0,Rt.U)(bw),(0,Gr.b)(l=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=l}),Za(()=>{this.componentLoaders.delete(t)})),i=new $f(r,()=>new gs.x).pipe($l());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return mt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const l=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,Rt.U)(g=>{this.onLoadEndListener&&this.onLoadEndListener(r);let _,D,S=!1;Array.isArray(g)?D=g:(_=g.create(t).injector,D=lh(_.get(Dh,[],u.XFs.Self|u.XFs.Optional)));return{routes:D.map(Ug),injector:_}}),Za(()=>{this.childrenLoaders.delete(r)})),c=new $f(l,()=>new gs.x).pipe($l());return this.childrenLoaders.set(r,c),c}loadModuleFactoryOrRoutes(t){return I(t()).pipe((0,Rt.U)(bw),(0,Nr.z)(r=>r instanceof u.YKP||Array.isArray(r)?mt(r):(0,Tn.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function bw(n){return function ya(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Gg=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new gs.x,this.configLoader=(0,u.f3M)(o_),this.environmentInjector=(0,u.f3M)(u.lqb),this.urlSerializer=(0,u.f3M)(ai),this.rootContexts=(0,u.f3M)(Vg),this.navigationId=0,this.afterPreactivation=()=>mt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new KE(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new Ry(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new Ir({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Zf,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe($i(r=>0!==r.id),(0,Rt.U)(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),lr(r=>{let i=!1,l=!1;return mt(r).pipe((0,Gr.b)(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),lr(c=>{const g=t.browserUrlTree.toString(),_=!t.navigated||c.extractedUrl.toString()!==g||g!==t.currentUrlTree.toString();if(!_&&"reload"!==(c.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const S="";return this.events.next(new id(c.id,t.serializeUrl(r.rawUrl),S,0)),t.rawUrlTree=c.rawUrl,c.resolve(null),Bi.E}if(t.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return Cw(c.source)&&(t.browserUrlTree=c.extractedUrl),mt(c).pipe(lr(S=>{const F=this.transitions?.getValue();return this.events.next(new Oy(S.id,this.urlSerializer.serialize(S.extractedUrl),S.source,S.restoredState)),F!==this.transitions?.getValue()?Bi.E:Promise.resolve(S)}),function pw(n,e,t,r){return lr(i=>function vI(n,e,t,r,i){return new fw(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,Rt.U)(l=>({...i,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),(0,Gr.b)(S=>{this.currentNavigation={...this.currentNavigation,finalUrl:S.urlAfterRedirects},r.urlAfterRedirects=S.urlAfterRedirects}),function DI(n,e,t,r,i){return(0,Nr.z)(l=>function n_(n,e,t,r,i,l,c="emptyOnly"){return new sp(n,e,t,r,i,c,l).recognize().pipe(lr(g=>null===g?function wI(n){return new Ai.y(e=>e.error(n))}(new t_):mt(g)))}(n,e,t,l.urlAfterRedirects,r.serialize(l.urlAfterRedirects),r,i).pipe((0,Rt.U)(c=>({...l,targetSnapshot:c}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,Gr.b)(S=>{if(r.targetSnapshot=S.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!S.extras.skipLocationChange){const Z=t.urlHandlingStrategy.merge(S.urlAfterRedirects,S.rawUrl);t.setBrowserUrl(Z,S)}t.browserUrlTree=S.urlAfterRedirects}const F=new mh(S.id,this.urlSerializer.serialize(S.extractedUrl),this.urlSerializer.serialize(S.urlAfterRedirects),S.targetSnapshot);this.events.next(F)}));if(_&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:S,extractedUrl:F,source:Z,restoredState:re,extras:de}=c,Oe=new Oy(S,this.urlSerializer.serialize(F),Z,re);this.events.next(Oe);const Se=eI(F,this.rootComponentType).snapshot;return mt(r={...c,targetSnapshot:Se,urlAfterRedirects:F,extras:{...de,skipLocationChange:!1,replaceUrl:!1}})}{const S="";return this.events.next(new id(c.id,t.serializeUrl(r.extractedUrl),S,1)),t.rawUrlTree=c.rawUrl,c.resolve(null),Bi.E}}),(0,Gr.b)(c=>{const g=new qE(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(g)}),(0,Rt.U)(c=>r={...c,guards:np(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),function $g(n,e){return(0,Nr.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:l,canDeactivateChecks:c}}=t;return 0===c.length&&0===l.length?mt({...t,guardsResult:!0}):function hI(n,e,t,r){return(0,Tn.D)(n).pipe((0,Nr.z)(i=>function fI(n,e,t,r,i){const l=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return l&&0!==l.length?mt(l.map(g=>{const _=tp(e)??i,D=sd(g,_);return I(function cI(n){return n&&wh(n.canDeactivate)}(D)?D.canDeactivate(n,e,t,r):_.runInContext(()=>D(n,e,t,r))).pipe(ms())})).pipe(Qu()):mt(!0)}(i.component,i.route,t,e,r)),ms(i=>!0!==i,!0))}(c,r,i,n).pipe((0,Nr.z)(g=>g&&function ow(n){return"boolean"==typeof n}(g)?function Zy(n,e,t,r){return(0,Tn.D)(e).pipe(Mo(i=>$u(function od(n,e){return null!==n&&e&&e(new G0(n)),mt(!0)}(i.route.parent,r),function jg(n,e){return null!==n&&e&&e(new ky(n)),mt(!0)}(i.route,r),function Ky(n,e,t){const r=e[e.length-1],l=e.slice(0,e.length-1).reverse().map(c=>function zy(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>sh(()=>mt(c.guards.map(_=>{const D=tp(c.node)??t,S=sd(_,D);return I(function qy(n){return n&&wh(n.canActivateChild)}(S)?S.canActivateChild(r,n):D.runInContext(()=>S(r,n))).pipe(ms())})).pipe(Qu())));return mt(l).pipe(Qu())}(n,i.path,t),function lw(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return mt(!0);const i=r.map(l=>sh(()=>{const c=tp(e)??t,g=sd(l,c);return I(function ES(n){return n&&wh(n.canActivate)}(g)?g.canActivate(e,n):c.runInContext(()=>g(e,n))).pipe(ms())}));return mt(i).pipe(Qu())}(n,i.route,t))),ms(i=>!0!==i,!0))}(r,l,n,e):mt(g)),(0,Rt.U)(g=>({...t,guardsResult:g})))})}(this.environmentInjector,c=>this.events.next(c)),(0,Gr.b)(c=>{if(r.guardsResult=c.guardsResult,We(c.guardsResult))throw nI(0,c.guardsResult);const g=new WE(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(g)}),$i(c=>!!c.guardsResult||(t.restoreHistory(c),this.cancelNavigationTransition(c,"",3),!1)),i_(c=>{if(c.guards.canActivateChecks.length)return mt(c).pipe((0,Gr.b)(g=>{const _=new yS(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(_)}),lr(g=>{let _=!1;return mt(g).pipe(function IS(n,e){return(0,Nr.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return mt(t);let l=0;return(0,Tn.D)(i).pipe(Mo(c=>function DS(n,e,t,r){const i=n.routeConfig,l=n._resolve;return void 0!==i?.title&&!r_(i)&&(l[Po]=i.title),function vw(n,e,t,r){const i=function TS(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return mt({});const l={};return(0,Tn.D)(i).pipe((0,Nr.z)(c=>function ww(n,e,t,r){const i=tp(e)??r,l=sd(n,i);return I(l.resolve?l.resolve(e,t):i.runInContext(()=>l(e,t)))}(n[c],e,t,r).pipe(ms(),(0,Gr.b)(g=>{l[c]=g}))),Jc(1),function fa(n){return(0,Rt.U)(()=>n)}(l),ys(c=>Gl(c)?Bi.E:Bl(c)))}(l,n,e,r).pipe((0,Rt.U)(c=>(n._resolvedData=c,n.data=tI(n,t).resolve,i&&r_(i)&&(n.data[Po]=i.title),null)))}(c.route,r,n,e)),(0,Gr.b)(()=>l++),Jc(1),(0,Nr.z)(c=>l===i.length?mt(t):Bi.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,Gr.b)({next:()=>_=!0,complete:()=>{_||(t.restoreHistory(g),this.cancelNavigationTransition(g,"",2))}}))}),(0,Gr.b)(g=>{const _=new ZE(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(_)}))}),i_(c=>{const g=_=>{const D=[];_.routeConfig?.loadComponent&&!_.routeConfig._loadedComponent&&D.push(this.configLoader.loadComponent(_.routeConfig).pipe((0,Gr.b)(S=>{_.component=S}),(0,Rt.U)(()=>{})));for(const S of _.children)D.push(...g(S));return D};return Bu(g(c.targetSnapshot.root)).pipe(jl(),da(1))}),i_(()=>this.afterPreactivation()),(0,Rt.U)(c=>{const g=function Xf(n,e,t){const r=_h(n,e._root,t?t._root:void 0);return new XE(r,e)}(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return r={...c,targetRouterState:g}}),(0,Gr.b)(c=>{t.currentUrlTree=c.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(c.urlAfterRedirects,c.rawUrl),t.routerState=c.targetRouterState,"deferred"===t.urlUpdateStrategy&&(c.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,c),t.browserUrlTree=c.urlAfterRedirects)}),((n,e,t)=>(0,Rt.U)(r=>(new iw(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c)),da(1),(0,Gr.b)({next:c=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new Yu(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{i=!0}}),Za(()=>{i||l||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),ys(c=>{if(l=!0,Lg(c)){Fg(c)||(t.navigated=!0,t.restoreHistory(r,!0));const g=new Kf(r.id,this.urlSerializer.serialize(r.extractedUrl),c.message,c.cancellationCode);if(this.events.next(g),Fg(c)){const _=t.urlHandlingStrategy.merge(c.url,t.rawUrlTree),D={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||Cw(r.source)};t.scheduleNavigation(_,Zf,null,D,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const g=new Yf(r.id,this.urlSerializer.serialize(r.extractedUrl),c,r.targetSnapshot??void 0);this.events.next(g);try{r.resolve(t.errorHandler(c))}catch(_){r.reject(_)}}return Bi.E}))}))}cancelNavigationTransition(t,r,i){const l=new Kf(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(l),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Cw(n){return n!==Zf}let Ew=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(l=>l.outlet===Vt);return r}getResolvedTitleForRoute(t){return t.data[Po]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(TI)},providedIn:"root"}),n})(),TI=(()=>{class n extends Ew{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Lf))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Iw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(SI)},providedIn:"root"}),n})();class AI{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let SI=(()=>{class n extends AI{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const rn=new u.OlP("",{providedIn:"root",factory:()=>({})});let Dw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(Tw)},providedIn:"root"}),n})(),Tw=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function MI(n){throw n}function PI(n,e,t){return e.parse("/")}const Aw={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},OI={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let xi=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,u.f3M)(u.c2e),this.isNgZoneEnabled=!1,this.options=(0,u.f3M)(rn,{optional:!0})||{},this.errorHandler=this.options.errorHandler||MI,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||PI,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,u.f3M)(Dw),this.routeReuseStrategy=(0,u.f3M)(Iw),this.urlCreationStrategy=(0,u.f3M)(JE),this.titleStrategy=(0,u.f3M)(Ew),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=lh((0,u.f3M)(Dh,{optional:!0})??[]),this.navigationTransitions=(0,u.f3M)(Gg),this.urlSerializer=(0,u.f3M)(ai),this.location=(0,u.f3M)(Le),this.isNgZoneEnabled=(0,u.f3M)(u.R0b)instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new ur,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=eI(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Zf,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const l={replaceUrl:!0},c=i?.navigationId?i:null;if(i){const _={...i};delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(l.state=_)}const g=this.parseUrl(t);this.scheduleNavigation(g,r,c,l)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(Ug),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:l,fragment:c,queryParamsHandling:g,preserveFragment:_}=r,D=_?this.currentUrlTree.fragment:c;let S=null;switch(g){case"merge":S={...this.currentUrlTree.queryParams,...l};break;case"preserve":S=this.currentUrlTree.queryParams;break;default:S=l||null}return null!==S&&(S=this.removeEmptyProps(S)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,t,S,D??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=We(t)?t:this.parseUrl(t),l=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(l,Zf,null,r)}navigate(t,r={skipLocationChange:!1}){return function RI(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new u.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...Aw}:!1===r?{...OI}:r,We(t))return ee(this.currentUrlTree,t,i);const l=this.parseUrl(t);return ee(this.currentUrlTree,l,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const l=t[i];return null!=l&&(r[i]=l),r},{})}scheduleNavigation(t,r,i,l,c){if(this.disposed)return Promise.resolve(!1);let g,_,D,S;return c?(g=c.resolve,_=c.reject,D=c.promise):D=new Promise((F,Z)=>{g=F,_=Z}),S="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:S,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:l,resolve:g,reject:_,promise:D,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),D.catch(F=>Promise.reject(F))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const c={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",c)}else{const l={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.go(i,"",l)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const l=this.currentPageId-(this.browserPageId??this.currentPageId);0!==l?this.location.historyGo(l):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===l&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Wg=(()=>{class n{constructor(t,r,i,l,c,g){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=l,this.el=c,this.locationStrategy=g,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new gs.x;const _=c.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===_||"area"===_,this.isAnchorElement?this.subscription=t.events.subscribe(D=>{D instanceof Yu&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,u.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,u.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,u.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,l,c){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||l||c||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,u.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,l=this.el.nativeElement;null!==r?i.setAttribute(l,t,r):i.removeAttribute(l,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(xi),u.Y36(Qf),u.$8M("tabindex"),u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(at))},n.\u0275dir=u.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&u.NdJ("click",function(l){return r.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),2&t&&u.uIk("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[u.TTD]}),n})();class a_{}let l_=(()=>{class n{constructor(t,r,i,l,c){this.router=t,this.injector=i,this.preloadingStrategy=l,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe($i(t=>t instanceof Yu),Mo(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const l of r){l.providers&&!l._injector&&(l._injector=(0,u.MMx)(l.providers,t,`Route: ${l.path}`));const c=l._injector??t,g=l._loadedInjector??c;(l.loadChildren&&!l._loadedRoutes&&void 0===l.canLoad||l.loadComponent&&!l._loadedComponent)&&i.push(this.preloadConfig(c,l)),(l.children||l._loadedRoutes)&&i.push(this.processRoutes(g,l.children??l._loadedRoutes))}return(0,Tn.D)(i).pipe((0,Vl.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):mt(null);const l=i.pipe((0,Nr.z)(c=>null===c?mt(void 0):(r._loadedRoutes=c.routes,r._loadedInjector=c.injector,this.processRoutes(c.injector??t,c.routes))));if(r.loadComponent&&!r._loadedComponent){const c=this.loader.loadComponent(r);return(0,Tn.D)([l,c]).pipe((0,Vl.J)())}return l})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(xi),u.LFG(u.Sil),u.LFG(u.lqb),u.LFG(a_),u.LFG(o_))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const lp=new u.OlP("");let xw=(()=>{class n{constructor(t,r,i,l,c={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=l,this.options=c,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},c.scrollPositionRestoration=c.scrollPositionRestoration||"disabled",c.anchorScrolling=c.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Oy?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Yu&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Ny&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Ny(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();var ko=(()=>((ko=ko||{})[ko.COMPLETE=0]="COMPLETE",ko[ko.FAILED=1]="FAILED",ko[ko.REDIRECTING=2]="REDIRECTING",ko))();const up=!1;function ad(n,e){return{\u0275kind:n,\u0275providers:e}}const c_=new u.OlP("",{providedIn:"root",factory:()=>!1});function cp(){const n=(0,u.f3M)(u.zs3);return e=>{const t=n.get(u.z2F);if(e!==t.components[0])return;const r=n.get(xi),i=n.get(Mw);1===n.get(Zg)&&r.initialNavigation(),n.get(Pw,null,u.XFs.Optional)?.setUpPreloading(),n.get(lp,null,u.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const Mw=new u.OlP(up?"bootstrap done indicator":"",{factory:()=>new gs.x}),Zg=new u.OlP(up?"initial navigation":"",{providedIn:"root",factory:()=>1});function LI(){let n=[];return n=up?[{provide:u.Xts,multi:!0,useFactory:()=>{const e=(0,u.f3M)(xi);return()=>e.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function W0(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],ad(1,n)}const Pw=new u.OlP(up?"router preloader":"");function VI(n){return ad(0,[{provide:Pw,useExisting:l_},{provide:a_,useExisting:n}])}const Sh=!1,$I=new u.OlP(Sh?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),d_=[Le,{provide:ai,useClass:zu},xi,Vg,{provide:Qf,useFactory:function u_(n){return n.routerState.root},deps:[xi]},o_,Sh?{provide:c_,useValue:!0}:[]];function jI(){return new u.PXZ("Router",xi)}let HI=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[d_,Sh&&r?.enableTracing?LI().\u0275providers:[],{provide:Dh,multi:!0,useValue:t},{provide:$I,useFactory:kw,deps:[[xi,new u.FiY,new u.tp0]]},{provide:rn,useValue:r||{}},r?.useHash?{provide:at,useClass:Be}:{provide:at,useClass:Ne},{provide:lp,useFactory:()=>{const n=(0,u.f3M)(Ko),e=(0,u.f3M)(u.R0b),t=(0,u.f3M)(rn),r=(0,u.f3M)(Gg),i=(0,u.f3M)(ai);return t.scrollOffset&&n.setOffset(t.scrollOffset),new xw(i,r,n,e,t)}},r?.preloadingStrategy?VI(r.preloadingStrategy).\u0275providers:[],{provide:u.PXZ,multi:!0,useFactory:jI},r?.initialNavigation?GI(r):[],[{provide:Nw,useFactory:cp},{provide:u.tb,multi:!0,useExisting:Nw}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Dh,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG($I,8))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Uy]}),n})();function kw(n){if(Sh&&n)throw new u.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function GI(n){return["disabled"===n.initialNavigation?ad(3,[{provide:u.ip1,multi:!0,useFactory:()=>{const e=(0,u.f3M)(xi);return()=>{e.setUpLocationChangeListener()}}},{provide:Zg,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?ad(2,[{provide:Zg,useValue:0},{provide:u.ip1,multi:!0,deps:[u.zs3],useFactory:e=>{const t=e.get(Ee,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(xi),l=e.get(Mw);(function xS(n,e){n.events.pipe($i(t=>t instanceof Yu||t instanceof Kf||t instanceof Yf||t instanceof id),(0,Rt.U)(t=>t instanceof Yu||t instanceof id?ko.COMPLETE:t instanceof Kf&&(0===t.code||1===t.code)?ko.REDIRECTING:ko.FAILED),$i(t=>t!==ko.REDIRECTING),da(1)).subscribe(()=>{e()})})(i,()=>{r(!0)}),e.get(Gg).afterPreactivation=()=>(r(!0),l.closed?mt(void 0):l),i.initialNavigation()}))}}]).\u0275providers:[]]}const Nw=new u.OlP(Sh?"Router Initializer":"");let h_=(()=>{class n{constructor(t){this.router=t}irIngresar(){this.router.navigate(["/ingresar"])}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(xi))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-home"]],decls:45,vars:0,consts:[[1,"main"],[1,"ingreso"],[1,"entry-title"],[1,"boton",3,"click"],[2,"background-color","rgba(50, 171, 131, 0.277)","box-shadow","0px 0px 30px rgba(0, 0, 0, 0.317)"]],template:function(t,r){1&t&&(u.TgZ(0,"body")(1,"div",0)(2,"div",1)(3,"h1",2)(4,"span"),u._uU(5,"B"),u.qZA(),u.TgZ(6,"span"),u._uU(7,"I"),u.qZA(),u.TgZ(8,"span"),u._uU(9,"E"),u.qZA(),u.TgZ(10,"span"),u._uU(11,"N"),u.qZA(),u.TgZ(12,"span"),u._uU(13,"V"),u.qZA(),u.TgZ(14,"span"),u._uU(15,"E"),u.qZA(),u.TgZ(16,"span"),u._uU(17,"N"),u.qZA(),u.TgZ(18,"span"),u._uU(19,"I"),u.qZA(),u.TgZ(20,"span"),u._uU(21,"D"),u.qZA(),u.TgZ(22,"span"),u._uU(23,"O"),u.qZA(),u.TgZ(24,"span"),u._uU(25,"S"),u.qZA(),u.TgZ(26,"span"),u._uU(27,"!"),u.qZA()(),u.TgZ(28,"p"),u._uU(29," Somos "),u.TgZ(30,"strong"),u._uU(31,"especialistas"),u.qZA(),u._uU(32," en salud! "),u._UZ(33,"br"),u._uU(34," Contamos actualmente con 6 consultorios y 2 laboratorios f\xedsicos en la cl\xednica. "),u.qZA()(),u.TgZ(35,"div")(36,"button",3),u.NdJ("click",function(){return r.irIngresar()}),u._uU(37,"INGRESAR"),u.qZA()(),u.TgZ(38,"p",4)(39,"strong"),u._uU(40,"Abierto de "),u._UZ(41,"br"),u._uU(42," lunes a viernes de 8:00 am a 19:00 pm "),u._UZ(43,"br"),u._uU(44," y los s\xe1bados de 8:00 am a 14:00 pm"),u.qZA()()()())},styles:['@import"https://fonts.googleapis.com/css?family=Signika:700,300,600";body[_ngcontent-%COMP%]{margin:0;padding:0;display:flex;justify-content:center;align-items:center;min-height:100vh;font-family:Jost,sans-serif;background-size:cover;background-image:url("data:image/svg+xml;utf8,%3Csvg width=%221336%22 height=%22700%22 xmlns=%22http:%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cpath fill=%22%23edf8ee%22 d=%22M0 0h1336v700H0z%22%2F%3E%3Cpath d=%22M0 175h0c17.104-3.887 34.207-7.775 52-4 17.793 3.775 36.274 15.212 53 22s31.697 8.926 49 6 36.938-10.915 54-20c17.062-9.085 31.551-19.265 48-13 16.449 6.265 34.857 28.975 51 37 16.143 8.025 30.02 1.367 48-12s40.06-33.442 57-39c16.94-5.558 28.74 3.4 46 17s39.977 31.843 58 24c18.023-7.843 31.35-41.772 48-46 16.65-4.228 36.62 21.247 55 32 18.38 10.753 35.168 6.786 52 3 16.832-3.786 33.708-7.39 49-6 15.292 1.39 29.001 7.774 46 9s37.286-2.705 56-12 35.853-23.953 52-27c16.147-3.047 31.302 5.518 48 13s34.938 13.88 53 20c18.062 6.12 35.944 11.959 53 15 17.056 3.041 33.285 3.285 51-5 17.715-8.285 36.915-25.098 53-34 16.085-8.902 29.054-9.891 45-9 15.946.891 34.87 3.663 53 12 18.13 8.337 35.466 22.24 53 26 17.534 3.76 35.267-2.62 93-9%22 fill=%22none%22 stroke=%22%23b8e6be%22 stroke-width=%228%22 stroke-linecap=%22round%22%2F%3E%3Cpath d=%22M0 350h0c19.274 5.514 38.549 11.028 55 10 16.451-1.028 30.08-8.599 46-8 15.92.599 34.134 9.368 52 11 17.866 1.632 35.384-3.872 51-6s29.33-.881 48 3c18.67 3.881 42.299 10.396 60 14 17.701 3.604 29.475 4.296 44 0 14.525-4.296 31.802-13.579 51-27s40.316-30.98 58-27c17.684 3.98 31.933 29.502 49 37 17.067 7.498 36.953-3.028 55-8 18.047-4.972 34.255-4.39 49-8 14.745-3.61 28.026-11.414 46-14 17.974-2.586 40.64.044 59 9s32.416 24.236 47 19c14.584-5.236 29.696-30.989 48-26 18.304 4.989 39.798 40.719 59 40 19.202-.719 36.11-37.886 51-40 14.89-2.114 27.759 30.823 44 36s35.854-17.408 54-14c18.146 3.408 34.824 32.81 51 29 16.176-3.81 31.851-40.833 49-51 17.149-10.167 35.772 6.522 53 18s33.061 17.744 50 10 34.982-29.498 53-33c18.018-3.502 36.009 11.25 94 26%22 fill=%22none%22 stroke=%22%236ccc79%22 stroke-width=%228%22 stroke-linecap=%22round%22%2F%3E%3Cpath d=%22M0 525h0c16.007 4.998 32.015 9.997 48 2s31.948-28.99 51-32c19.052-3.01 41.193 11.96 59 20 17.807 8.04 31.279 9.151 46 7s30.692-7.564 48-5 35.952 13.105 53 17c17.048 3.895 32.5 1.146 50 2 17.5.854 37.047 5.313 55 8 17.953 2.687 34.312 3.603 51 2 16.688-1.603 33.703-5.725 52-9 18.297-3.275 37.875-5.702 56-4s34.798 7.534 50 5c15.202-2.534 28.933-13.434 46-23s37.472-17.796 55-7 32.18 40.62 50 39c17.82-1.62 38.807-34.684 55-35 16.193-.316 27.593 32.116 44 41s37.82-5.78 57-11 36.125-.998 53 2 33.678 4.77 50 0c16.322-4.77 32.16-16.084 50-16 17.84.084 37.678 11.567 54 14 16.322 2.433 29.128-4.183 46-15s37.812-25.835 56-29c18.188-3.165 33.625 5.524 50 12s33.687 10.738 91 15%22 fill=%22none%22 stroke=%22%237bd187%22 stroke-width=%228%22 stroke-linecap=%22round%22%2F%3E%3C%2Fsvg%3E")}.main[_ngcontent-%COMP%]{width:700px;height:700px;background-color:#ffffff21;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);overflow:hidden;border-radius:10px;box-shadow:5px 20px 50px #000}.ingreso[_ngcontent-%COMP%]{width:400px;padding:30px;background:#0a6b576f;margin:auto;transition:.3s ease;box-shadow:0 1px 2px #0000004d}.entry-title[_ngcontent-%COMP%]{font-size:50px;display:flex;align-items:center;justify-content:center;color:#fff;font-family:Yanone Kaffeesatz;font-weight:900}.boton[_ngcontent-%COMP%]{position:relative;color:#fff;text-decoration:none;background-color:#0d4e4190;font-family:Yanone Kaffeesatz;font-weight:700;font-size:20px;display:block;padding:4px;border-radius:8px;box-shadow:0 9px #0a6b576f,0 9px 25px #000000b3;margin:50px auto;width:200px;height:90px;text-align:center;transition:all .1s ease}.boton[_ngcontent-%COMP%]:active{box-shadow:0 3px #3596059c,0 3px 6px #000000e6;position:relative;top:6px}.boton[_ngcontent-%COMP%]:hover{top:2px}h1[_ngcontent-%COMP%]{font-size:7em;font:700 8vw/1.6 Signika,sans-serif;-webkit-user-select:none;user-select:none}h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;animation:_ngcontent-%COMP%_float .2s ease-in-out infinite}@keyframes _ngcontent-%COMP%_float{0%,to{transform:none}33%{transform:translateY(-1px) rotate(-2deg)}66%{transform:translateY(1px) rotate(2deg)}}.main[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_bounce .6s}@keyframes _ngcontent-%COMP%_bounce{0%,to{transform:translate(0)}25%{transform:rotateX(20deg) translateY(2px) rotate(-3deg)}50%{transform:translateY(-20px) rotate(3deg) scale(1.1)}}span[_ngcontent-%COMP%]:nth-child(4n){color:#e2c636;text-shadow:1px 1px hsl(50,75%,45%),2px 2px hsl(50,45%,45%),3px 3px hsl(50,45%,45%),4px 4px hsl(50,75%,45%)}span[_ngcontent-%COMP%]:nth-child(4n-1){color:#64b478;text-shadow:1px 1px hsl(135,35%,45%),2px 2px hsl(135,35%,45%),3px 3px hsl(135,35%,45%),4px 4px hsl(135,35%,45%)}span[_ngcontent-%COMP%]:nth-child(4n-2){color:#75bd9f;text-shadow:1px 1px hsl(155,25%,50%),2px 2px hsl(155,25%,50%),3px 3px hsl(155,25%,50%),4px 4px hsl(140,25%,50%)}span[_ngcontent-%COMP%]:nth-child(4n-3){color:#db9957;text-shadow:1px 1px hsl(30,45%,50%),2px 2px hsl(30,45%,50%),3px 3px hsl(30,45%,50%),4px 4px hsl(30,45%,50%)}h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){animation-delay:.05s}h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(3){animation-delay:.1s}h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(4){animation-delay:.15s}h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(5){animation-delay:.2s}h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(6){animation-delay:.25s}h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(7){animation-delay:.3s}h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(8){animation-delay:.35s}h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(9){animation-delay:.4s}h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(10){animation-delay:.45s}h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(11){animation-delay:.5s}h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(12){animation-delay:.55s}h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(13){animation-delay:.6s}h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(14){animation-delay:.65s}p[_ngcontent-%COMP%]{text-align:center;font-size:20px;color:#333;line-height:1.5;margin:20px auto;max-width:500px}']}),n})();var hp=U(4986),yn=U(4976);function Mh(){return(0,hi.e)((n,e)=>{let t,r=!1;n.subscribe((0,oi.x)(e,i=>{const l=t;t=i,r&&e.next([l,i]),r=!0}))})}function f_(n,e){return n===e}var ut,eo=U(2011),Vw=(U(9568),U(3942)),Ce=U(5861),vs=U(6881),fp=U(4859),Wl=U(1877),pn=U(2090),Uw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},No={},p_=p_||{},Ft=Uw||self;function Yg(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function pp(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var gp="closure_uid_"+(1e9*Math.random()>>>0),Bw=0;function qI(n,e,t){return n.call.apply(n.bind,arguments)}function WI(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function is(n,e,t){return(is=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?qI:WI).apply(null,arguments)}function mp(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Mi(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,l){for(var c=Array(arguments.length-2),g=2;g<arguments.length;g++)c[g-2]=arguments[g];return e.prototype[i].apply(r,c)}}function Ju(){this.s=this.s,this.o=this.o}Ju.prototype.s=!1,Ju.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function RS(n){Object.prototype.hasOwnProperty.call(n,gp)&&n[gp]||(n[gp]=++Bw)}(this)},Ju.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const $w=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function m_(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function jw(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(Yg(r)){const i=n.length||0,l=r.length||0;n.length=i+l;for(let c=0;c<l;c++)n[i+c]=r[c]}else n.push(r)}}function ss(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}ss.prototype.h=function(){this.defaultPrevented=!0};var ZI=function(){if(!Ft.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Ft.addEventListener("test",()=>{},e),Ft.removeEventListener("test",()=>{},e)}catch{}return n}();function Ns(n){return/^[\s\xa0]*$/.test(n)}function Ph(){var n=Ft.navigator;return n&&(n=n.userAgent)?n:""}function rl(n){return-1!=Ph().indexOf(n)}function y_(n){return y_[" "](n),n}y_[" "]=function(){};var Rh,n,KI=rl("Opera"),Oh=rl("Trident")||rl("MSIE"),zw=rl("Edge"),yp=zw||Oh,Gw=rl("Gecko")&&!(-1!=Ph().toLowerCase().indexOf("webkit")&&!rl("Edge"))&&!(rl("Trident")||rl("MSIE"))&&!rl("Edge"),YI=-1!=Ph().toLowerCase().indexOf("webkit")&&!rl("Edge");function _p(){var n=Ft.document;return n?n.documentMode:void 0}e:{var kh="",qw=(n=Ph(),Gw?/rv:([^\);]+)(\)|;)/.exec(n):zw?/Edge\/([\d\.]+)/.exec(n):Oh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):YI?/WebKit\/(\S+)/.exec(n):KI?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(qw&&(kh=qw?qw[1]:""),Oh){var vp=_p();if(null!=vp&&vp>parseFloat(kh)){Rh=String(vp);break e}}Rh=kh}var Zw=Ft.document&&Oh&&(_p()||parseInt(Rh,10))||void 0;function Nh(n,e){if(ss.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Gw){e:{try{y_(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Kw[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Nh.$.h.call(this)}}Mi(Nh,ss);var Kw={2:"touch",3:"pen",4:"mouse"};Nh.prototype.h=function(){Nh.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var ld="closure_listenable_"+(1e6*Math.random()|0),Zl=0;function Qg(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++Zl,this.fa=this.ia=!1}function ud(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function cd(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function v_(n){const e={};for(const t in n)e[t]=n[t];return e}const w_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Yw(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let l=0;l<w_.length;l++)t=w_[l],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Jg(n){this.src=n,this.g={},this.h=0}function dd(n,e){var t=e.type;if(t in n.g){var l,r=n.g[t],i=$w(r,e);(l=0<=i)&&Array.prototype.splice.call(r,i,1),l&&(ud(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function b_(n,e,t,r){for(var i=0;i<n.length;++i){var l=n[i];if(!l.fa&&l.listener==e&&l.capture==!!t&&l.la==r)return i}return-1}Jg.prototype.add=function(n,e,t,r,i){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var c=b_(n,e,r,i);return-1<c?(e=n[c],t||(e.ia=!1)):((e=new Qg(e,this.src,l,!!r,i)).ia=t,n.push(e)),e};var Qw="closure_lm_"+(1e6*Math.random()|0),C_={};function Jw(n,e,t,r,i){if(r&&r.once)return eb(n,e,t,r,i);if(Array.isArray(e)){for(var l=0;l<e.length;l++)Jw(n,e[l],t,r,i);return null}return t=A_(t),n&&n[ld]?n.O(e,t,pp(r)?!!r.capture:!!r,i):Xw(n,e,t,!1,r,i)}function Xw(n,e,t,r,i,l){if(!e)throw Error("Invalid event type");var c=pp(i)?!!i.capture:!!i,g=T_(n);if(g||(n[Qw]=g=new Jg(n)),(t=g.add(e,t,r,c,l)).proxy)return t;if(r=function JI(){const e=D_;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)ZI||(i=c),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(I_(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function eb(n,e,t,r,i){if(Array.isArray(e)){for(var l=0;l<e.length;l++)eb(n,e[l],t,r,i);return null}return t=A_(t),n&&n[ld]?n.P(e,t,pp(r)?!!r.capture:!!r,i):Xw(n,e,t,!0,r,i)}function tb(n,e,t,r,i){if(Array.isArray(e))for(var l=0;l<e.length;l++)tb(n,e[l],t,r,i);else r=pp(r)?!!r.capture:!!r,t=A_(t),n&&n[ld]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=b_(l=n.g[e],t,r,i))&&(ud(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete n.g[e],n.h--))):n&&(n=T_(n))&&(e=n.g[e.toString()],n=-1,e&&(n=b_(e,t,r,i)),(t=-1<n?e[n]:null)&&E_(t))}function E_(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[ld])dd(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(I_(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=T_(e))?(dd(t,n),0==t.h&&(t.src=null,e[Qw]=null)):ud(n)}}}function I_(n){return n in C_?C_[n]:C_[n]="on"+n}function D_(n,e){if(n.fa)n=!0;else{e=new Nh(e,this);var t=n.listener,r=n.la||n.src;n.ia&&E_(n),n=t.call(r,e)}return n}function T_(n){return(n=n[Qw])instanceof Jg?n:null}var wp="__closure_events_fn_"+(1e9*Math.random()>>>0);function A_(n){return"function"==typeof n?n:(n[wp]||(n[wp]=function(e){return n.handleEvent(e)}),n[wp])}function Pi(){Ju.call(this),this.i=new Jg(this),this.S=this,this.J=null}function Hi(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new ss(e,n);else if(e instanceof ss)e.target=e.target||n;else{var i=e;Yw(e=new ss(r,n),i)}if(i=!0,t)for(var l=t.length-1;0<=l;l--){var c=e.g=t[l];i=Xg(c,r,!0,e)&&i}if(i=Xg(c=e.g=n,r,!0,e)&&i,i=Xg(c,r,!1,e)&&i,t)for(l=0;l<t.length;l++)i=Xg(c=e.g=t[l],r,!1,e)&&i}function Xg(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,l=0;l<e.length;++l){var c=e[l];if(c&&!c.fa&&c.capture==t){var g=c.listener,_=c.la||c.src;c.ia&&dd(n.i,c),i=!1!==g.call(_,r)&&i}}return i&&!r.defaultPrevented}Mi(Pi,Ju),Pi.prototype[ld]=!0,Pi.prototype.removeEventListener=function(n,e,t,r){tb(this,n,e,t,r)},Pi.prototype.N=function(){if(Pi.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)ud(t[r]);delete n.g[e],n.h--}}this.J=null},Pi.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Pi.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var S_=Ft.JSON.stringify;function e1(){var n=M_;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var x_=new class XI{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new t1,n=>n.reset());class t1{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function kS(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function rb(n){Ft.setTimeout(()=>{throw n},0)}let em,Xu=!1,M_=new class nb{constructor(){this.h=this.g=null}add(e,t){const r=x_.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},ib=()=>{const n=Ft.Promise.resolve(void 0);em=()=>{n.then(P_)}};var P_=()=>{for(var n;n=e1();){try{n.h.call(n.g)}catch(t){rb(t)}var e=x_;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Xu=!1};function tm(n,e){Pi.call(this),this.h=n||1,this.g=e||Ft,this.j=is(this.qb,this),this.l=Date.now()}function Fo(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function hd(n,e,t){if("function"==typeof n)t&&(n=is(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=is(n.handleEvent,n)}return 2147483647<Number(e)?-1:Ft.setTimeout(n,e||0)}function zi(n){n.g=hd(()=>{n.g=null,n.i&&(n.i=!1,zi(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Mi(tm,Pi),(ut=tm.prototype).ga=!1,ut.T=null,ut.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Hi(this,"tick"),this.ga&&(Fo(this),this.start()))}},ut.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ut.N=function(){tm.$.N.call(this),Fo(this),delete this.g};class fd extends Ju{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:zi(this)}N(){super.N(),this.g&&(Ft.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ec(n){Ju.call(this),this.h=n,this.g={}}Mi(ec,Ju);var to=[];function nm(n,e,t,r){Array.isArray(t)||(t&&(to[0]=t.toString()),t=to);for(var i=0;i<t.length;i++){var l=Jw(e,t[i],r||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function pd(n){cd(n.g,function(e,t){this.g.hasOwnProperty(t)&&E_(e)},n),n.g={}}function Kl(){this.g=!0}function _a(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Uh(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var l=i[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var c=1;c<i.length;c++)i[c]=""}}}return S_(t)}catch{return e}}(n,t)+(r?" "+r:"")})}ec.prototype.N=function(){ec.$.N.call(this),pd(this)},ec.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Kl.prototype.Ea=function(){this.g=!1},Kl.prototype.info=function(){};var Lo={},gd=null;function bp(){return gd=gd||new Pi}function O_(n){ss.call(this,Lo.Ta,n)}function Bh(n){const e=bp();Hi(e,new O_(e))}function R_(n,e){ss.call(this,Lo.STAT_EVENT,n),this.stat=e}function os(n){const e=bp();Hi(e,new R_(e,n))}function k_(n,e){ss.call(this,Lo.Ua,n),this.size=e}function $h(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Ft.setTimeout(function(){n()},e)}Lo.Ta="serverreachability",Mi(O_,ss),Lo.STAT_EVENT="statevent",Mi(R_,ss),Lo.Ua="timingevent",Mi(k_,ss);var Cp={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},N_={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function F_(){}function L_(){}F_.prototype.h=null;var Dp,Ep={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function V_(){ss.call(this,"d")}function Ip(){ss.call(this,"c")}function rm(){}function tc(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new ec(this),this.P=U_,this.V=new tm(n=yp?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Tp}function Tp(){this.i=null,this.g="",this.h=!1}Mi(V_,ss),Mi(Ip,ss),Mi(rm,F_),rm.prototype.g=function(){return new XMLHttpRequest},rm.prototype.i=function(){return{}},Dp=new rm;var U_=45e3,B_={},jh={};function Ap(n,e,t){n.L=1,n.v=Op(va(e)),n.s=t,n.S=!0,$_(n,null)}function $_(n,e){n.G=Date.now(),Hh(n),n.A=va(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),s1(t.i,"t",r),n.C=0,t=n.l.J,n.h=new Tp,n.g=Eb(n.l,t?e:null,!n.s),0<n.O&&(n.M=new fd(is(n.Pa,n,n.g),n.O)),nm(n.U,n.g,"readystatechange",n.nb),e=n.I?v_(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),Bh(),function Fh(n,e,t,r,i,l){n.info(function(){if(n.g)if(l)for(var c="",g=l.split("&"),_=0;_<g.length;_++){var D=g[_].split("=");if(1<D.length){var S=D[0];D=D[1];var F=S.split("_");c=2<=F.length&&"type"==F[1]?c+(S+"=")+D+"&":c+(S+"=redacted&")}}else c=null;else c=l;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.W,n.s)}function j_(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function im(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=ob(n,t),i==jh){4==e&&(n.o=4,os(14),r=!1),_a(n.j,n.m,null,"[Incomplete Response]");break}if(i==B_){n.o=4,os(15),_a(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}_a(n.j,n.m,i,null),om(n,i)}j_(n)&&i!=jh&&i!=B_&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,os(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),ym(e),e.M=!0,os(11))):(_a(n.j,n.m,t,"[Invalid Chunked Response]"),nc(n),xp(n))}function ob(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?jh:(t=Number(e.substring(t,r)),isNaN(t)?B_:(r+=1)+t>e.length?jh:(e=e.slice(r,r+t),n.C=r+t,e))}function Hh(n){n.Y=Date.now()+n.P,sm(n,n.P)}function sm(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=$h(is(n.lb,n),e)}function Sp(n){n.B&&(Ft.clearTimeout(n.B),n.B=null)}function xp(n){0==n.l.H||n.J||nv(n.l,n)}function nc(n){Sp(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,Fo(n.V),pd(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function om(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||W_(t.i,n)))if(!n.K&&W_(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;Bp(t),Lp(t)}mm(t),os(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=$h(is(t.ib,t),6e3));if(1>=q_(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else ic(t,11)}else if((n.K||t.g==n)&&Bp(t),!Ns(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let D=i[e];if(t.V=D[0],D=D[1],2==t.H)if("c"==D[0]){t.K=D[1],t.pa=D[2];const S=D[3];null!=S&&(t.ra=S,t.l.info("VER="+t.ra));const F=D[4];null!=F&&(t.Ga=F,t.l.info("SVER="+t.Ga));const Z=D[5];null!=Z&&"number"==typeof Z&&0<Z&&(t.L=r=1.5*Z,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const re=n.g;if(re){const de=re.g?re.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(de){var l=r.i;l.g||-1==de.indexOf("spdy")&&-1==de.indexOf("quic")&&-1==de.indexOf("h2")||(l.j=l.l,l.g=new Set,l.h&&(Z_(l,l.h),l.h=null))}if(r.F){const Oe=re.g?re.g.getResponseHeader("X-HTTP-Session-Id"):null;Oe&&(r.Da=Oe,cr(r.I,r.F,Oe))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var c=n;if((r=t).wa=Cb(r,r.J?r.pa:null,r.Y),c.K){K_(r.i,c);var g=c,_=r.L;_&&g.setTimeout(_),g.B&&(Sp(g),Hh(g)),r.g=c}else ev(r);0<t.j.length&&gm(t)}else"stop"!=D[0]&&"close"!=D[0]||ic(t,7);else 3==t.H&&("stop"==D[0]||"close"==D[0]?"stop"==D[0]?ic(t,7):pm(t):"noop"!=D[0]&&t.h&&t.h.Aa(D),t.A=0)}Bh()}catch{}}function ub(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Yg(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function lb(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Yg(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function ab(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Yg(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,l=0;l<i;l++)e.call(void 0,r[l],t&&t[l],n)}(ut=tc.prototype).setTimeout=function(n){this.P=n},ut.nb=function(n){n=n.target;const e=this.M;e&&3==al(n)?e.l():this.Pa(n)},ut.Pa=function(n){try{if(n==this.g)e:{const S=al(this.g);var e=this.g.Ia();if(this.g.da(),!(3>S)&&(3!=S||yp||this.g&&(this.h.h||this.g.ja()||hm(this.g)))){this.J||4!=S||7==e||Bh(),Sp(this);var t=this.g.da();this.ca=t;t:if(j_(this)){var r=hm(this.g);n="";var i=r.length,l=4==al(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){nc(this),xp(this);var c="";break t}this.h.i=new Ft.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:l&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ja();if(this.i=200==t,function Lh(n,e,t,r,i,l,c){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+l+" "+c})}(this.j,this.u,this.A,this.m,this.W,S,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var g,_=this.g;if((g=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ns(g)){var D=g;break t}}D=null}if(!(t=D)){this.i=!1,this.o=3,os(12),nc(this),xp(this);break e}_a(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,om(this,t)}this.S?(im(this,S,c),yp&&this.i&&3==S&&(nm(this.U,this.V,"tick",this.mb),this.V.start())):(_a(this.j,this.m,c,null),om(this,c)),4==S&&nc(this),this.i&&!this.J&&(4==S?nv(this.l,this):(this.i=!1,Hh(this)))}else(function Np(n){const e={};n=(n.g&&2<=al(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(Ns(n[r]))continue;var t=kS(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const l=e[i]||[];e[i]=l,l.push(t)}!function QI(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<c.indexOf("Unknown SID")?(this.o=3,os(12)):(this.o=0,os(13)),nc(this),xp(this)}}}catch{}},ut.mb=function(){if(this.g){var n=al(this.g),e=this.g.ja();this.C<e.length&&(Sp(this),im(this,n,e),this.i&&4!=n&&Hh(this))}},ut.cancel=function(){this.J=!0,nc(this)},ut.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function Vh(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Bh(),os(17)),nc(this),this.o=2,xp(this)):sm(this,this.Y-n)};var cb=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Yl(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Yl){this.h=n.h,Mp(this,n.j),this.s=n.s,this.g=n.g,Pp(this,n.m),this.l=n.l;var e=n.i,t=new wa;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),H_(this,t),this.o=n.o}else n&&(e=String(n).match(cb))?(this.h=!1,Mp(this,e[1]||"",!0),this.s=zh(e[2]||""),this.g=zh(e[3]||"",!0),Pp(this,e[4]),this.l=zh(e[5]||"",!0),H_(this,e[6]||"",!0),this.o=zh(e[7]||"")):(this.h=!1,this.i=new wa(null,this.h))}function va(n){return new Yl(n)}function Mp(n,e,t){n.j=t?zh(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Pp(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function H_(n,e,t){e instanceof wa?(n.i=e,function o1(n,e){e&&!n.j&&(il(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(hb(this,r),s1(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Gh(e,i1)),n.i=new wa(e,n.h))}function cr(n,e,t){n.i.set(e,t)}function Op(n){return cr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function zh(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Gh(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,db),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function db(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Yl.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Gh(e,Rp,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Gh(e,Rp,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Gh(t,"/"==t.charAt(0)?r1:rc,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Gh(t,z_)),n.join("")};var Rp=/[#\/\?@]/g,rc=/[#\?:]/g,r1=/[#\?]/g,i1=/[#\?@]/g,z_=/#/g;function wa(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function il(n){n.g||(n.g=new Map,n.h=0,n.i&&function n1(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var l=n[t].substring(0,r);i=n[t].substring(r+1)}else l=n[t];e(l,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function hb(n,e){il(n),e=kp(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function am(n,e){return il(n),e=kp(n,e),n.g.has(e)}function s1(n,e,t){hb(n,e),0<t.length&&(n.i=null,n.g.set(kp(n,e),m_(t)),n.h+=t.length)}function kp(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function G_(n){this.l=n||l1,n=Ft.PerformanceNavigationTiming?0<(n=Ft.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Ft.g&&Ft.g.Ka&&Ft.g.Ka()&&Ft.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ut=wa.prototype).add=function(n,e){il(this),this.i=null,n=kp(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},ut.forEach=function(n,e){il(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},ut.ta=function(){il(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let l=0;l<i.length;l++)t.push(e[r])}return t},ut.Z=function(n){il(this);let e=[];if("string"==typeof n)am(this,n)&&(e=e.concat(this.g.get(kp(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},ut.set=function(n,e){return il(this),this.i=null,am(this,n=kp(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},ut.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},ut.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const l=encodeURIComponent(String(r)),c=this.Z(r);for(r=0;r<c.length;r++){var i=l;""!==c[r]&&(i+="="+encodeURIComponent(String(c[r]))),n.push(i)}}return this.i=n.join("&")};var l1=10;function li(n){return!!n.h||!!n.g&&n.g.size>=n.j}function q_(n){return n.h?1:n.g?n.g.size:0}function W_(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Z_(n,e){n.g?n.g.add(e):n.h=e}function K_(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function fb(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return m_(n.i)}G_.prototype.cancel=function(){if(this.i=fb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var pb=class{stringify(n){return Ft.JSON.stringify(n,void 0)}parse(n){return Ft.JSON.parse(n,void 0)}};function gb(){this.g=new pb}function qh(n,e,t){const r=t||"";try{ub(n,function(i,l){let c=i;pp(i)&&(c=S_(i)),e.push(r+l+"="+encodeURIComponent(c))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function lm(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Wh(n){this.l=n.fc||null,this.j=n.ob||!1}function um(n,e){Pi.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=cm,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Mi(Wh,F_),Wh.prototype.g=function(){return new um(this.l,this.j)},Wh.prototype.i=function(n){return function(){return n}}({}),Mi(um,Pi);var cm=0;function c1(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Zh(n){n.readyState=4,n.l=null,n.j=null,n.A=null,md(n)}function md(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ut=um.prototype).open=function(n,e){if(this.readyState!=cm)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,md(this)},ut.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Ft).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},ut.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Zh(this)),this.readyState=cm},ut.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,md(this)),this.g&&(this.readyState=3,md(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Ft.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;c1(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},ut.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Zh(this):md(this),3==this.readyState&&c1(this)}},ut.Za=function(n){this.g&&(this.response=this.responseText=n,Zh(this))},ut.Ya=function(n){this.g&&(this.response=n,Zh(this))},ut.ka=function(){this.g&&Zh(this)},ut.setRequestHeader=function(n,e){this.v.append(n,e)},ut.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ut.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(um.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var sl=Ft.JSON.parse;function Wr(n){Pi.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Y_,this.L=this.M=!1}Mi(Wr,Pi);var Y_="",ol=/^https?$/i,ba=["POST","PUT"];function Q_(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,J_(n),dm(n)}function J_(n){n.F||(n.F=!0,Hi(n,"complete"),Hi(n,"error"))}function mb(n){if(n.h&&typeof p_<"u"&&(!n.C[1]||4!=al(n)||2!=n.da()))if(n.v&&4==al(n))hd(n.La,0,n);else if(Hi(n,"readystatechange"),4==al(n)){n.h=!1;try{const c=n.da();e:switch(c){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===c){var i=String(n.I).match(cb)[1]||null;!i&&Ft.self&&Ft.self.location&&(i=Ft.self.location.protocol.slice(0,-1)),r=!ol.test(i?i.toLowerCase():"")}t=r}if(t)Hi(n,"complete"),Hi(n,"success");else{n.m=6;try{var l=2<al(n)?n.g.statusText:""}catch{l=""}n.j=l+" ["+n.da()+"]",J_(n)}}finally{dm(n)}}}function dm(n,e){if(n.g){yb(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Hi(n,"ready");try{t.onreadystatechange=r}catch{}}}function yb(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Ft.clearTimeout(n.A),n.A=null)}function al(n){return n.g?n.g.readyState:0}function hm(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case Y_:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function _b(n){let e="";return cd(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function fm(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=_b(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):cr(n,e,t))}function Fp(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function vb(n){this.Ga=0,this.j=[],this.l=new Kl,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Fp("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Fp("baseRetryDelayMs",5e3,n),this.hb=Fp("retryDelaySeedMs",1e4,n),this.eb=Fp("forwardChannelMaxRetries",2,n),this.xa=Fp("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new G_(n&&n.concurrentRequestLimit),this.Ja=new gb,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function pm(n){if(Vp(n),3==n.H){var e=n.W++,t=va(n.I);if(cr(t,"SID",n.K),cr(t,"RID",e),cr(t,"TYPE","terminate"),yd(n,t),(e=new tc(n,n.l,e)).L=2,e.v=Op(va(t)),t=!1,Ft.navigator&&Ft.navigator.sendBeacon)try{t=Ft.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&Ft.Image&&((new Image).src=e.v,t=!0),t||(e.g=Eb(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Hh(e)}bb(n)}function Lp(n){n.g&&(ym(n),n.g.cancel(),n.g=null)}function Vp(n){Lp(n),n.u&&(Ft.clearTimeout(n.u),n.u=null),Bp(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Ft.clearTimeout(n.m),n.m=null)}function gm(n){if(!li(n.i)&&!n.m){n.m=!0;var e=n.Na;em||ib(),Xu||(em(),Xu=!0),M_.add(e,n),n.C=0}}function X_(n,e){var t;t=e?e.m:n.W++;const r=va(n.I);cr(r,"SID",n.K),cr(r,"RID",t),cr(r,"AID",n.V),yd(n,r),n.o&&n.s&&fm(r,n.o,n.s),t=new tc(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=Up(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),Z_(n.i,t),Ap(t,r,e)}function yd(n,e){n.na&&cd(n.na,function(t,r){cr(e,r,t)}),n.h&&ub({},function(t,r){cr(e,r,t)})}function Up(n,e,t){t=Math.min(n.j.length,t);var r=n.h?is(n.h.Va,n.h,n):null;e:{var i=n.j;let l=-1;for(;;){const c=["count="+t];-1==l?0<t?(l=i[0].g,c.push("ofs="+l)):l=0:c.push("ofs="+l);let g=!0;for(let _=0;_<t;_++){let D=i[_].g;const S=i[_].map;if(D-=l,0>D)l=Math.max(0,i[_].g-100),g=!1;else try{qh(S,c,"req"+D+"_")}catch{r&&r(S)}}if(g){r=c.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function ev(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;em||ib(),Xu||(em(),Xu=!0),M_.add(e,n),n.A=0}}function mm(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=$h(is(n.Ma,n),rv(n,n.A)),n.A++,0))}function ym(n){null!=n.B&&(Ft.clearTimeout(n.B),n.B=null)}function tv(n){n.g=new tc(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=va(n.wa);cr(e,"RID","rpc"),cr(e,"SID",n.K),cr(e,"AID",n.V),cr(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&cr(e,"TO",n.qa),cr(e,"TYPE","xmlhttp"),yd(n,e),n.o&&n.s&&fm(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=Op(va(e)),t.s=null,t.S=!0,$_(t,n)}function Bp(n){null!=n.v&&(Ft.clearTimeout(n.v),n.v=null)}function nv(n,e){var t=null;if(n.g==e){Bp(n),ym(n),n.g=null;var r=2}else{if(!W_(n.i,e))return;t=e.F,K_(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;Hi(r=bp(),new k_(r,t)),gm(n)}else ev(n);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function wb(n,e){return!(q_(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=$h(is(n.Na,n,e),rv(n,n.C)),n.C++,0)))}(n,e)||2==r&&mm(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:ic(n,5);break;case 4:ic(n,10);break;case 3:ic(n,6);break;default:ic(n,2)}}function rv(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function ic(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=is(n.pb,n);t||(t=new Yl("//www.google.com/images/cleardot.gif"),Ft.location&&"http"==Ft.location.protocol||Mp(t,"https"),Op(t)),function u1(n,e){const t=new Kl;if(Ft.Image){const r=new Image;r.onload=mp(lm,t,r,"TestLoadImage: loaded",!0,e),r.onerror=mp(lm,t,r,"TestLoadImage: error",!1,e),r.onabort=mp(lm,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=mp(lm,t,r,"TestLoadImage: timeout",!1,e),Ft.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else os(2);n.H=0,n.h&&n.h.za(e),bb(n),Vp(n)}function bb(n){if(n.H=0,n.ma=[],n.h){const e=fb(n.i);(0!=e.length||0!=n.j.length)&&(jw(n.ma,e),jw(n.ma,n.j),n.i.i.length=0,m_(n.j),n.j.length=0),n.h.ya()}}function Cb(n,e,t){var r=t instanceof Yl?va(t):new Yl(t);if(""!=r.g)e&&(r.g=e+"."+r.g),Pp(r,r.m);else{var i=Ft.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var l=new Yl(null);r&&Mp(l,r),e&&(l.g=e),i&&Pp(l,i),t&&(l.l=t),r=l}return e=n.Da,(t=n.F)&&e&&cr(r,t,e),cr(r,"VER",n.ra),yd(n,r),r}function Eb(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Wr(t&&n.Ha&&!n.va?new Wh({ob:!0}):n.va)).Oa(n.J),e}function Ib(){}function _m(){if(Oh&&!(10<=Number(Zw)))throw Error("Environmental error: no available transport.")}function no(n,e){Pi.call(this),this.g=new vb(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Ns(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ns(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Kh(this)}function Db(n){V_.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Tb(){Ip.call(this),this.status=1}function Kh(n){this.g=n}function Ea(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function iv(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var l=n.g[3],c=(e=n.g[0])+(l^(t=n.g[1])&((i=n.g[2])^l))+r[0]+3614090360&4294967295;c=(t=(i=(l=(e=(t=(i=(l=(e=(t=(i=(l=(e=(t=(i=(l=(e=(t=(i=(l=(e=(t=(i=(l=(e=(t=(i=(l=(e=(t=(i=(l=(e=(t=(i=(l=(e=(t=(i=(l=(e=(t=(i=(l=(e=(t=(i=(l=(e=(t=(i=(l=(e=(t=(i=(l=(e=(t=(i=(l=(e=t+(c<<7&4294967295|c>>>25))+((c=l+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^l&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(l^e))+r[3]+3250441966&4294967295)<<22&4294967295|c>>>10))+((c=e+(l^t&(i^l))+r[4]+4118548399&4294967295)<<7&4294967295|c>>>25))+((c=l+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^l&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(l^e))+r[7]+4249261313&4294967295)<<22&4294967295|c>>>10))+((c=e+(l^t&(i^l))+r[8]+1770035416&4294967295)<<7&4294967295|c>>>25))+((c=l+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^l&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(l^e))+r[11]+2304563134&4294967295)<<22&4294967295|c>>>10))+((c=e+(l^t&(i^l))+r[12]+1804603682&4294967295)<<7&4294967295|c>>>25))+((c=l+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^l&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(l^e))+r[15]+1236535329&4294967295)<<22&4294967295|c>>>10))+((c=e+(i^l&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|c>>>27))+((c=l+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(l^e))+r[11]+643717713&4294967295)<<14&4294967295|c>>>18))+((c=t+(l^e&(i^l))+r[0]+3921069994&4294967295)<<20&4294967295|c>>>12))+((c=e+(i^l&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|c>>>27))+((c=l+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(l^e))+r[15]+3634488961&4294967295)<<14&4294967295|c>>>18))+((c=t+(l^e&(i^l))+r[4]+3889429448&4294967295)<<20&4294967295|c>>>12))+((c=e+(i^l&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|c>>>27))+((c=l+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(l^e))+r[3]+4107603335&4294967295)<<14&4294967295|c>>>18))+((c=t+(l^e&(i^l))+r[8]+1163531501&4294967295)<<20&4294967295|c>>>12))+((c=e+(i^l&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|c>>>27))+((c=l+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(l^e))+r[7]+1735328473&4294967295)<<14&4294967295|c>>>18))+((c=t+(l^e&(i^l))+r[12]+2368359562&4294967295)<<20&4294967295|c>>>12))+((c=e+(t^i^l)+r[5]+4294588738&4294967295)<<4&4294967295|c>>>28))+((c=l+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|c>>>21))+((c=i+(l^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^l^e)+r[14]+4259657740&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^i^l)+r[1]+2763975236&4294967295)<<4&4294967295|c>>>28))+((c=l+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|c>>>21))+((c=i+(l^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^l^e)+r[10]+3200236656&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^i^l)+r[13]+681279174&4294967295)<<4&4294967295|c>>>28))+((c=l+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|c>>>21))+((c=i+(l^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^l^e)+r[6]+76029189&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^i^l)+r[9]+3654602809&4294967295)<<4&4294967295|c>>>28))+((c=l+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|c>>>21))+((c=i+(l^e^t)+r[15]+530742520&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^l^e)+r[2]+3299628645&4294967295)<<23&4294967295|c>>>9))+((c=e+(i^(t|~l))+r[0]+4096336452&4294967295)<<6&4294967295|c>>>26))+((c=l+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|c>>>22))+((c=i+(e^(l|~t))+r[14]+2878612391&4294967295)<<15&4294967295|c>>>17))+((c=t+(l^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|c>>>11))+((c=e+(i^(t|~l))+r[12]+1700485571&4294967295)<<6&4294967295|c>>>26))+((c=l+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|c>>>22))+((c=i+(e^(l|~t))+r[10]+4293915773&4294967295)<<15&4294967295|c>>>17))+((c=t+(l^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|c>>>11))+((c=e+(i^(t|~l))+r[8]+1873313359&4294967295)<<6&4294967295|c>>>26))+((c=l+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|c>>>22))+((c=i+(e^(l|~t))+r[6]+2734768916&4294967295)<<15&4294967295|c>>>17))+((c=t+(l^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|c>>>11))+((l=(e=t+((c=e+(i^(t|~l))+r[4]+4149444226&4294967295)<<6&4294967295|c>>>26))+((c=l+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|c>>>22))^((i=l+((c=i+(e^(l|~t))+r[2]+718787259&4294967295)<<15&4294967295|c>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(c<<21&4294967295|c>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+l&4294967295}function zn(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var l=0|n[i];r&&l==e||(t[i]=l,r=!1)}this.g=t}(ut=Wr.prototype).Oa=function(n){this.M=n},ut.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Dp.g(),this.C=function sb(n){return n.h||(n.h=n.i())}(this.u?this.u:Dp),this.g.onreadystatechange=is(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(l){return void Q_(this,l)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const l of r.keys())t.set(l,r.get(l))}r=Array.from(t.keys()).find(l=>"content-type"==l.toLowerCase()),i=Ft.FormData&&n instanceof Ft.FormData,!(0<=$w(ba,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[l,c]of t)this.g.setRequestHeader(l,c);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{yb(this),0<this.B&&((this.L=function Ca(n){return Oh&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=is(this.ua,this)):this.A=hd(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){Q_(this,l)}},ut.ua=function(){typeof p_<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Hi(this,"timeout"),this.abort(8))},ut.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Hi(this,"complete"),Hi(this,"abort"),dm(this))},ut.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),dm(this,!0)),Wr.$.N.call(this)},ut.La=function(){this.s||(this.G||this.v||this.l?mb(this):this.kb())},ut.kb=function(){mb(this)},ut.isActive=function(){return!!this.g},ut.da=function(){try{return 2<al(this)?this.g.status:-1}catch{return-1}},ut.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},ut.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),sl(e)}},ut.Ia=function(){return this.m},ut.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ut=vb.prototype).ra=8,ut.H=1,ut.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new tc(this,this.l,n);let l=this.s;if(this.U&&(l?(l=v_(l),Yw(l,this.U)):l=this.U),null!==this.o||this.O||(i.I=l,l=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Up(this,i,e),cr(t=va(this.I),"RID",n),cr(t,"CVER",22),this.F&&cr(t,"X-HTTP-Session-Id",this.F),yd(this,t),l&&(this.O?e="headers="+encodeURIComponent(String(_b(l)))+"&"+e:this.o&&fm(t,this.o,l)),Z_(this.i,i),this.bb&&cr(t,"TYPE","init"),this.P?(cr(t,"$req",e),cr(t,"SID","null"),i.aa=!0,Ap(i,t,null)):Ap(i,t,e),this.H=2}}else 3==this.H&&(n?X_(this,n):0==this.j.length||li(this.i)||X_(this))},ut.Ma=function(){if(this.u=null,tv(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=$h(is(this.jb,this),n)}},ut.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,os(10),Lp(this),tv(this))},ut.ib=function(){null!=this.v&&(this.v=null,Lp(this),mm(this),os(19))},ut.pb=function(n){n?(this.l.info("Successfully pinged google.com"),os(2)):(this.l.info("Failed to ping google.com"),os(1))},ut.isActive=function(){return!!this.h&&this.h.isActive(this)},(ut=Ib.prototype).Ba=function(){},ut.Aa=function(){},ut.za=function(){},ut.ya=function(){},ut.isActive=function(){return!0},ut.Va=function(){},_m.prototype.g=function(n,e){return new no(n,e)},Mi(no,Pi),no.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;os(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=Cb(n,null,n.Y),gm(n)},no.prototype.close=function(){pm(this.g)},no.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=S_(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&gm(e)},no.prototype.N=function(){this.g.h=null,delete this.j,pm(this.g),delete this.g,no.$.N.call(this)},Mi(Db,V_),Mi(Tb,Ip),Mi(Kh,Ib),Kh.prototype.Ba=function(){Hi(this.g,"a")},Kh.prototype.Aa=function(n){Hi(this.g,new Db(n))},Kh.prototype.za=function(n){Hi(this.g,new Tb)},Kh.prototype.ya=function(){Hi(this.g,"b")},Mi(Ea,function d1(){this.blockSize=-1}),Ea.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Ea.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,l=0;l<e;){if(0==i)for(;l<=t;)iv(this,n,l),l+=this.blockSize;if("string"==typeof n){for(;l<e;)if(r[i++]=n.charCodeAt(l++),i==this.blockSize){iv(this,r),i=0;break}}else for(;l<e;)if(r[i++]=n[l++],i==this.blockSize){iv(this,r),i=0;break}}this.h=i,this.i+=e},Ea.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var h1={};function sv(n){return-128<=n&&128>n?function Hw(n,e){var t=h1;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new zn([0|e],0>e?-1:0)}):new zn([0|n],0>n?-1:0)}function ll(n){if(isNaN(n)||!isFinite(n))return _d;if(0>n)return Oi(ll(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=ov;return new zn(e,0)}var ov=4294967296,_d=sv(0),vm=sv(1),av=sv(16777216);function ul(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function ro(n){return-1==n.h}function Oi(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new zn(t,~n.h).add(vm)}function $p(n,e){return n.add(Oi(e))}function jp(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Yh(n,e){this.g=n,this.h=e}function Hp(n,e){if(ul(e))throw Error("division by zero");if(ul(n))return new Yh(_d,_d);if(ro(n))return e=Hp(Oi(n),e),new Yh(Oi(e.g),Oi(e.h));if(ro(e))return e=Hp(n,Oi(e)),new Yh(Oi(e.g),e.h);if(30<n.g.length){if(ro(n)||ro(e))throw Error("slowDivide_ only works with positive integers.");for(var t=vm,r=e;0>=r.X(n);)t=lv(t),r=lv(r);var i=Vo(t,1),l=Vo(r,1);for(r=Vo(r,2),t=Vo(t,2);!ul(r);){var c=l.add(r);0>=c.X(n)&&(i=i.add(t),l=c),r=Vo(r,1),t=Vo(t,1)}return e=$p(n,i.R(e)),new Yh(i,e)}for(i=_d;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),c=(l=ll(t)).R(e);ro(c)||0<c.X(n);)c=(l=ll(t-=r)).R(e);ul(l)&&(l=vm),i=i.add(l),n=$p(n,c)}return new Yh(i,n)}function lv(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new zn(t,n.h)}function Vo(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],l=0;l<r;l++)i[l]=0<e?n.D(l+t)>>>e|n.D(l+t+1)<<32-e:n.D(l+t);return new zn(i,n.h)}(ut=zn.prototype).ea=function(){if(ro(this))return-Oi(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:ov+r)*e,e*=ov}return n},ut.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(ul(this))return"0";if(ro(this))return"-"+Oi(this).toString(n);for(var e=ll(Math.pow(n,6)),t=this,r="";;){var i=Hp(t,e).g,l=((0<(t=$p(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(ul(t=i))return l+r;for(;6>l.length;)l="0"+l;r=l+r}},ut.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},ut.X=function(n){return ro(n=$p(this,n))?-1:ul(n)?0:1},ut.abs=function(){return ro(this)?Oi(this):this},ut.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var l=r+(65535&this.D(i))+(65535&n.D(i)),c=(l>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=c>>>16,t[i]=(c&=65535)<<16|(l&=65535)}return new zn(t,-2147483648&t[t.length-1]?-1:0)},ut.R=function(n){if(ul(this)||ul(n))return _d;if(ro(this))return ro(n)?Oi(this).R(Oi(n)):Oi(Oi(this).R(n));if(ro(n))return Oi(this.R(Oi(n)));if(0>this.X(av)&&0>n.X(av))return ll(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var l=this.D(r)>>>16,c=65535&this.D(r),g=n.D(i)>>>16,_=65535&n.D(i);t[2*r+2*i]+=c*_,jp(t,2*r+2*i),t[2*r+2*i+1]+=l*_,jp(t,2*r+2*i+1),t[2*r+2*i+1]+=c*g,jp(t,2*r+2*i+1),t[2*r+2*i+2]+=l*g,jp(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new zn(t,0)},ut.gb=function(n){return Hp(this,n).h},ut.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new zn(t,this.h&n.h)},ut.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new zn(t,this.h|n.h)},ut.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new zn(t,this.h^n.h)},_m.prototype.createWebChannel=_m.prototype.g,no.prototype.send=no.prototype.u,no.prototype.open=no.prototype.m,no.prototype.close=no.prototype.close,Cp.NO_ERROR=0,Cp.TIMEOUT=8,Cp.HTTP_ERROR=6,N_.COMPLETE="complete",L_.EventType=Ep,Ep.OPEN="a",Ep.CLOSE="b",Ep.ERROR="c",Ep.MESSAGE="d",Pi.prototype.listen=Pi.prototype.O,Wr.prototype.listenOnce=Wr.prototype.P,Wr.prototype.getLastError=Wr.prototype.Sa,Wr.prototype.getLastErrorCode=Wr.prototype.Ia,Wr.prototype.getStatus=Wr.prototype.da,Wr.prototype.getResponseJson=Wr.prototype.Wa,Wr.prototype.getResponseText=Wr.prototype.ja,Wr.prototype.send=Wr.prototype.ha,Wr.prototype.setWithCredentials=Wr.prototype.Oa,Ea.prototype.digest=Ea.prototype.l,Ea.prototype.reset=Ea.prototype.reset,Ea.prototype.update=Ea.prototype.j,zn.prototype.add=zn.prototype.add,zn.prototype.multiply=zn.prototype.R,zn.prototype.modulo=zn.prototype.gb,zn.prototype.compare=zn.prototype.X,zn.prototype.toNumber=zn.prototype.ea,zn.prototype.toString=zn.prototype.toString,zn.prototype.getBits=zn.prototype.D,zn.fromNumber=ll,zn.fromString=function Ab(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Oi(Ab(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=ll(Math.pow(e,8)),r=_d,i=0;i<n.length;i+=8){var l=Math.min(8,n.length-i),c=parseInt(n.substring(i,i+l),e);8>l?(l=ll(Math.pow(e,l)),r=r.R(l).add(ll(c))):r=(r=r.R(t)).add(ll(c))}return r};var f1=No.createWebChannelTransport=function(){return new _m},p1=No.getStatEventTarget=function(){return bp()},sc=No.ErrorCode=Cp,NS=No.EventType=N_,uv=No.Event=Lo,g1=No.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Sb=No.FetchXmlHttpFactory=Wh,zp=No.WebChannel=L_,FS=No.XhrIo=Wr,zt=No.Md5=Ea,Qh=No.Integer=zn;const xb="@firebase/firestore";class Ri{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ri.UNAUTHENTICATED=new Ri(null),Ri.GOOGLE_CREDENTIALS=new Ri("google-credentials-uid"),Ri.FIRST_PARTY=new Ri("first-party-uid"),Ri.MOCK_USER=new Ri("mock-user");let Ia="9.22.1";const oc=new Wl.Yd("@firebase/firestore");function Jh(){return oc.logLevel}function Pe(n,...e){if(oc.logLevel<=Wl.in.DEBUG){const t=e.map(bm);oc.debug(`Firestore (${Ia}): ${n}`,...t)}}function ui(n,...e){if(oc.logLevel<=Wl.in.ERROR){const t=e.map(bm);oc.error(`Firestore (${Ia}): ${n}`,...t)}}function io(n,...e){if(oc.logLevel<=Wl.in.WARN){const t=e.map(bm);oc.warn(`Firestore (${Ia}): ${n}`,...t)}}function bm(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function pt(n="Unexpected state"){const e=`FIRESTORE (${Ia}) INTERNAL ASSERTION FAILED: `+n;throw ui(e),new Error(e)}function At(n,e){n||pt()}function st(n,e){return n}const fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ve extends pn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class fi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Pb{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Gp{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ri.UNAUTHENTICATED))}shutdown(){}}class m1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class y1{constructor(e){this.t=e,this.currentUser=Ri.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const l=D=>this.i!==i?(i=this.i,t(D)):Promise.resolve();let c=new fi;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new fi,e.enqueueRetryable(()=>l(this.currentUser))};const g=()=>{const D=c;e.enqueueRetryable((0,Ce.Z)(function*(){yield D.promise,yield l(r.currentUser)}))},_=D=>{Pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=D,this.auth.addAuthTokenListener(this.o),g()};this.t.onInit(D=>_(D)),setTimeout(()=>{if(!this.auth){const D=this.t.getImmediate({optional:!0});D?_(D):(Pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new fi)}},0),g()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(At("string"==typeof r.accessToken),new Pb(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return At(null===e||"string"==typeof e),new Ri(e)}}class _1{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=Ri.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Cm{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new _1(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Ri.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class cv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ob{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=l=>{null!=l.error&&Pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.T;return this.T=l.token,Pe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>r(l))};const i=l=>{Pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.I.onInit(l=>i(l)),setTimeout(()=>{if(!this.appCheck){const l=this.I.getImmediate({optional:!0});l?i(l):Pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(At("string"==typeof t.token),this.T=t.token,new cv(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function w1(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class Xh{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=w1(40);for(let l=0;l<i.length;++l)r.length<20&&i[l]<t&&(r+=e.charAt(i[l]%e.length))}return r}}function Jt(n,e){return n<e?-1:n>e?1:0}function ef(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function Rb(n){return n+"\0"}class Dr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ve(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ve(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ve(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ve(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Dr.fromMillis(Date.now())}static fromDate(e){return Dr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Dr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Jt(this.nanoseconds,e.nanoseconds):Jt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class xt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new xt(e)}static min(){return new xt(new Dr(0,0))}static max(){return new xt(new Dr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class tf{constructor(e,t,r){void 0===t?t=0:t>e.length&&pt(),void 0===r?r=e.length-t:r>e.length-t&&pt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===tf.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof tf?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const l=e.get(i),c=t.get(i);if(l<c)return-1;if(l>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class An extends tf{construct(e,t,r){return new An(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ve(fe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new An(t)}static emptyPath(){return new An([])}}const b1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fr extends tf{construct(e,t,r){return new Fr(e,t,r)}static isValidIdentifier(e){return b1.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Fr(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const l=()=>{if(0===r.length)throw new Ve(fe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;i<e.length;){const g=e[i];if("\\"===g){if(i+1===e.length)throw new Ve(fe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[i+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new Ve(fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,i+=2}else"`"===g?(c=!c,i++):"."!==g||c?(r+=g,i++):(l(),i++)}if(l(),c)throw new Ve(fe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Fr(t)}static emptyPath(){return new Fr([])}}class rt{constructor(e){this.path=e}static fromPath(e){return new rt(An.fromString(e))}static fromName(e){return new rt(An.fromString(e).popFirst(5))}static empty(){return new rt(An.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===An.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return An.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new rt(new An(e.slice()))}}class Em{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function kb(n){return n.fields.find(e=>2===e.kind)}function nf(n){return n.fields.filter(e=>2!==e.kind)}Em.UNKNOWN_ID=-1;class dv{constructor(e,t){this.fieldPath=e,this.kind=t}}class ac{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new ac(0,Fs.min())}}function Fb(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=xt.fromTimestamp(1e9===r?new Dr(t+1,0):new Dr(t,r));return new Fs(i,rt.empty(),e)}function Lb(n){return new Fs(n.readTime,n.key,-1)}class Fs{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Fs(xt.min(),rt.empty(),-1)}static max(){return new Fs(xt.max(),rt.empty(),-1)}}function vd(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=rt.comparator(n.documentKey,e.documentKey),0!==t?t:Jt(n.largestBatchId,e.largestBatchId))}const Vb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ub{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function lc(n){return hv.apply(this,arguments)}function hv(){return hv=(0,Ce.Z)(function*(n){if(n.code!==fe.FAILED_PRECONDITION||n.message!==Vb)throw n;Pe("LocalStore","Unexpectedly lost primary lease")}),hv.apply(this,arguments)}class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&pt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new le((r,i)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,i)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof le?t:le.resolve(t)}catch(t){return le.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):le.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):le.reject(t)}static resolve(e){return new le((t,r)=>{t(e)})}static reject(e){return new le((t,r)=>{r(e)})}static waitFor(e){return new le((t,r)=>{let i=0,l=0,c=!1;e.forEach(g=>{++i,g.next(()=>{++l,c&&l===i&&t()},_=>r(_))}),c=!0,l===i&&t()})}static or(e){let t=le.resolve(!1);for(const r of e)t=t.next(i=>i?le.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,l)=>{r.push(t.call(this,i,l))}),this.waitFor(r)}static mapArray(e,t){return new le((r,i)=>{const l=e.length,c=new Array(l);let g=0;for(let _=0;_<l;_++){const D=_;t(e[D]).next(S=>{c[D]=S,++g,g===l&&r(c)},S=>i(S))}})}static doWhile(e,t){return new le((r,i)=>{const l=()=>{!0===e()?t().next(()=>{l()},i):r()};l()})}}class Im{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new fi,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new qp(e,t.error)):this.v.resolve()},this.transaction.onerror=r=>{const i=Dm(r.target.error);this.v.reject(new qp(e,i))}}static open(e,t,r,i){try{return new Im(t,e.transaction(i,r))}catch(l){throw new qp(t,l)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(Pe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new E1(t)}}class Uo{constructor(e,t,r){this.name=e,this.version=t,this.V=r,12.2===Uo.S((0,pn.z$)())&&ui("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Pe("SimpleDb","Removing database:",e),uc(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,pn.hl)())return!1;if(Uo.C())return!0;const e=(0,pn.z$)(),t=Uo.S(e),r=0<t&&t<10,i=Uo.N(e),l=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||l)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static N(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}$(e){var t=this;return(0,Ce.Z)(function*(){return t.db||(Pe("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const l=indexedDB.open(t.name,t.version);l.onsuccess=c=>{r(c.target.result)},l.onblocked=()=>{i(new qp(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=c=>{const g=c.target.error;i("VersionError"===g.name?new Ve(fe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===g.name?new Ve(fe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+g):new qp(e,g))},l.onupgradeneeded=c=>{Pe("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',c.oldVersion),t.V.O(c.target.result,l.transaction,c.oldVersion,t.version).next(()=>{Pe("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=r=>t.F(r)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var l=this;return(0,Ce.Z)(function*(){const c="readonly"===t;let g=0;for(;;){++g;try{l.db=yield l.$(e);const _=Im.open(l.db,e,c?"readonly":"readwrite",r),D=i(_).next(S=>(_.P(),S)).catch(S=>(_.abort(S),le.reject(S))).toPromise();return D.catch(()=>{}),yield _.R,D}catch(_){const D=_,S="FirebaseError"!==D.name&&g<3;if(Pe("SimpleDb","Transaction failed with error:",D.message,"Retrying:",S),l.close(),!S)return Promise.reject(D)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class C1{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return uc(this.L.delete())}}class qp extends Ve{constructor(e,t){super(fe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Bo(n){return"IndexedDbTransactionError"===n.name}class E1{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Pe("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Pe("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),uc(r)}add(e){return Pe("SimpleDb","ADD",this.store.name,e,e),uc(this.store.add(e))}get(e){return uc(this.store.get(e)).next(t=>(void 0===t&&(t=null),Pe("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Pe("SimpleDb","DELETE",this.store.name,e),uc(this.store.delete(e))}count(){return Pe("SimpleDb","COUNT",this.store.name),uc(this.store.count())}j(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),l=[];return this.W(i,(c,g)=>{l.push(g)}).next(()=>l)}{const i=this.store.getAll(r.range);return new le((l,c)=>{i.onerror=g=>{c(g.target.error)},i.onsuccess=g=>{l(g.target.result)}})}}H(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new le((i,l)=>{r.onerror=c=>{l(c.target.error)},r.onsuccess=c=>{i(c.target.result)}})}J(e,t){Pe("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.Y=!1;const i=this.cursor(r);return this.W(i,(l,c,g)=>g.delete())}X(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.W(i,t)}Z(e){const t=this.cursor({});return new le((r,i)=>{t.onerror=l=>{const c=Dm(l.target.error);i(c)},t.onsuccess=l=>{const c=l.target.result;c?e(c.primaryKey,c.value).next(g=>{g?c.continue():r()}):r()}})}W(e,t){const r=[];return new le((i,l)=>{e.onerror=c=>{l(c.target.error)},e.onsuccess=c=>{const g=c.target.result;if(!g)return void i();const _=new C1(g),D=t(g.primaryKey,g.value,_);if(D instanceof le){const S=D.catch(F=>(_.done(),le.reject(F)));r.push(S)}_.isDone?i():null===_.K?g.continue():g.continue(_.K)}}).next(()=>le.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function uc(n){return new le((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=Dm(r.target.error);t(i)}})}let Bb=!1;function Dm(n){const e=Uo.S((0,pn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Ve("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Bb||(Bb=!0,setTimeout(()=>{throw r},0)),r}}return n}class I1{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;Pe("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Ce.Z)(function*(){t.task=null;try{Pe("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(r){Bo(r)?Pe("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield lc(r)}yield t.et(6e4)}))}}class $b{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,Ce.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.st(r,e))})()}st(e,t){const r=new Set;let i=t,l=!0;return le.doWhile(()=>!0===l&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(c=>{if(null!==c&&!r.has(c))return Pe("IndexBackiller",`Processing collection: ${c}`),this.it(e,c,i).next(g=>{i-=g,r.add(c)});l=!1})).next(()=>t-i)}it(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(l=>{const c=l.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next(()=>this.rt(i,l)).next(g=>(Pe("IndexBackiller",`Updating offset: ${g}`),this.localStore.indexManager.updateCollectionGroup(e,t,g))).next(()=>c.size)}))}rt(e,t){let r=e;return t.changes.forEach((i,l)=>{const c=Lb(l);vd(c,r)>0&&(r=c)}),new Fs(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let so=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function wd(n){return null==n}function Wp(n){return 0===n&&1/n==-1/0}function fv(n){return"number"==typeof n&&Number.isInteger(n)&&!Wp(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function Gi(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=jb(e)),e=D1(n.get(t),e);return jb(e)}function D1(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const l=n.charAt(i);switch(l){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=l}}return t}function jb(n){return n+"\x01\x01"}function cl(n){const e=n.length;if(At(e>=2),2===e)return At("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),An.emptyPath();const t=e-2,r=[];let i="";for(let l=0;l<e;){const c=n.indexOf("\x01",l);switch((c<0||c>t)&&pt(),n.charAt(c+1)){case"\x01":const g=n.substring(l,c);let _;0===i.length?_=g:(i+=g,_=i,i=""),r.push(_);break;case"\x10":i+=n.substring(l,c),i+="\0";break;case"\x11":i+=n.substring(l,c+1);break;default:pt()}l=c+2}return new An(r)}const Tm=["userId","batchId"];function Am(n,e){return[n,Gi(e)]}function pv(n,e,t){return[n,Gi(e),t]}const T1={},A1=["prefixPath","collectionGroup","readTime","documentId"],S1=["prefixPath","collectionGroup","documentId"],x1=["collectionGroup","readTime","prefixPath","documentId"],M1=["canonicalId","targetId"],P1=["targetId","path"],O1=["path","targetId"],R1=["collectionId","parent"],Hb=["indexId","uid"],zb=["uid","sequenceNumber"],k1=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],N1=["indexId","uid","orderedDocumentKey"],Gb=["userId","collectionPath","documentId"],F1=["userId","collectionPath","largestBatchId"],L1=["userId","collectionGroup","largestBatchId"],qb=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],gv=[...qb,"documentOverlays"],Sm=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],mv=Sm,yv=[...mv,"indexConfiguration","indexState","indexEntries"];class _v extends Ub{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function ki(n,e){const t=st(n);return Uo.M(t.ht,e)}function xm(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function cc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function vv(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Un{constructor(e,t){this.comparator=e,this.root=t||qi.EMPTY}insert(e,t){return new Un(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,qi.BLACK,null,null))}remove(e){return new Un(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zp(this.root,e,this.comparator,!0)}}class Zp{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&i&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qi{constructor(e,t,r,i,l){this.key=e,this.value=t,this.color=r??qi.RED,this.left=i??qi.EMPTY,this.right=l??qi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,l){return new qi(e??this.key,t??this.value,r??this.color,i??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const l=r(e,i.key);return i=l<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===l?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return qi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return qi.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw pt();const e=this.left.check();if(e!==this.right.check())throw pt();return e+(this.isRed()?0:1)}}qi.EMPTY=null,qi.RED=!0,qi.BLACK=!1,qi.EMPTY=new class{constructor(){this.size=0}get key(){throw pt()}get value(){throw pt()}get color(){throw pt()}get left(){throw pt()}get right(){throw pt()}copy(n,e,t,r,i){return this}insert(n,e,t){return new qi(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Tr{constructor(e){this.comparator=e,this.data=new Un(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new wv(this.data.getIterator())}getIteratorFrom(e){return new wv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Tr)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,l=r.getNext().key;if(0!==this.comparator(i,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Tr(this.comparator);return t.data=e,t}}class wv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function dc(n){return n.hasNext()?n.getNext():void 0}class Ls{constructor(e){this.fields=e,e.sort(Fr.comparator)}static empty(){return new Ls([])}unionWith(e){let t=new Tr(Fr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Ls(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ef(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Mm extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ci{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new Mm("Invalid base64 string: "+i):i}}(e);return new ci(t)}static fromUint8Array(e){const t=function(r){let i="";for(let l=0;l<r.length;++l)i+=String.fromCharCode(r[l]);return i}(e);return new ci(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Jt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ci.EMPTY_BYTE_STRING=new ci("");const bv=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ql(n){if(At(!!n),"string"==typeof n){let e=0;const t=bv.exec(n);if(At(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Lr(n.seconds),nanos:Lr(n.nanos)}}function Lr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function dl(n){return"string"==typeof n?ci.fromBase64String(n):ci.fromUint8Array(n)}function Kp(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Pm(n){const e=n.mapValue.fields.__previous_value__;return Kp(e)?Pm(e):e}function Yp(n){const e=Ql(n.mapValue.fields.__local_write_time__.timestampValue);return new Dr(e.seconds,e.nanos)}class U1{constructor(e,t,r,i,l,c,g,_,D){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=D}}class hc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new hc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof hc&&e.projectId===this.projectId&&e.database===this.database}}const Jl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Cv={nullValue:"NULL_VALUE"};function Xl(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Kp(n)?4:Yb(n)?9007199254740991:10:pt()}function hl(n,e){if(n===e)return!0;const t=Xl(n);if(t!==Xl(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Yp(n).isEqual(Yp(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const l=Ql(r.timestampValue),c=Ql(i.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,dl(n.bytesValue).isEqual(dl(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Lr(r.geoPointValue.latitude)===Lr(i.geoPointValue.latitude)&&Lr(r.geoPointValue.longitude)===Lr(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Lr(r.integerValue)===Lr(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const l=Lr(r.doubleValue),c=Lr(i.doubleValue);return l===c?Wp(l)===Wp(c):isNaN(l)&&isNaN(c)}return!1}(n,e);case 9:return ef(n.arrayValue.values||[],e.arrayValue.values||[],hl);case 10:return function(r,i){const l=r.mapValue.fields||{},c=i.mapValue.fields||{};if(xm(l)!==xm(c))return!1;for(const g in l)if(l.hasOwnProperty(g)&&(void 0===c[g]||!hl(l[g],c[g])))return!1;return!0}(n,e);default:return pt()}var i}function Qp(n,e){return void 0!==(n.values||[]).find(t=>hl(t,e))}function bd(n,e){if(n===e)return 0;const t=Xl(n),r=Xl(e);if(t!==r)return Jt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Jt(n.booleanValue,e.booleanValue);case 2:return function(i,l){const c=Lr(i.integerValue||i.doubleValue),g=Lr(l.integerValue||l.doubleValue);return c<g?-1:c>g?1:c===g?0:isNaN(c)?isNaN(g)?0:-1:1}(n,e);case 3:return Wb(n.timestampValue,e.timestampValue);case 4:return Wb(Yp(n),Yp(e));case 5:return Jt(n.stringValue,e.stringValue);case 6:return function(i,l){const c=dl(i),g=dl(l);return c.compareTo(g)}(n.bytesValue,e.bytesValue);case 7:return function(i,l){const c=i.split("/"),g=l.split("/");for(let _=0;_<c.length&&_<g.length;_++){const D=Jt(c[_],g[_]);if(0!==D)return D}return Jt(c.length,g.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,l){const c=Jt(Lr(i.latitude),Lr(l.latitude));return 0!==c?c:Jt(Lr(i.longitude),Lr(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,l){const c=i.values||[],g=l.values||[];for(let _=0;_<c.length&&_<g.length;++_){const D=bd(c[_],g[_]);if(D)return D}return Jt(c.length,g.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,l){if(i===Jl.mapValue&&l===Jl.mapValue)return 0;if(i===Jl.mapValue)return 1;if(l===Jl.mapValue)return-1;const c=i.fields||{},g=Object.keys(c),_=l.fields||{},D=Object.keys(_);g.sort(),D.sort();for(let S=0;S<g.length&&S<D.length;++S){const F=Jt(g[S],D[S]);if(0!==F)return F;const Z=bd(c[g[S]],_[D[S]]);if(0!==Z)return Z}return Jt(g.length,D.length)}(n.mapValue,e.mapValue);default:throw pt()}}function Wb(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Jt(n,e);const t=Ql(n),r=Ql(e),i=Jt(t.seconds,r.seconds);return 0!==i?i:Jt(t.nanos,r.nanos)}function rf(n){return Ev(n)}function Ev(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Ql(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?dl(n.bytesValue).toBase64():"referenceValue"in n?rt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",l=!0;for(const c of r.values||[])l?l=!1:i+=",",i+=Ev(c);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let l="{",c=!0;for(const g of i)c?c=!1:l+=",",l+=`${g}:${Ev(r.fields[g])}`;return l+"}"}(n.mapValue):pt();var e}function fc(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Iv(n){return!!n&&"integerValue"in n}function Xp(n){return!!n&&"arrayValue"in n}function Zb(n){return!!n&&"nullValue"in n}function Kb(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Om(n){return!!n&&"mapValue"in n}function eg(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return cc(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=eg(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=eg(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Yb(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function tg(n){return"nullValue"in n?Cv:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?fc(hc.empty(),rt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:pt()}function Qb(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?fc(hc.empty(),rt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Jl:pt()}function Dv(n,e){const t=bd(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function Tv(n,e){const t=bd(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Ni{constructor(e){this.value=e}static empty(){return new Ni({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Om(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=eg(t)}setAll(e){let t=Fr.emptyPath(),r={},i=[];e.forEach((c,g)=>{if(!t.isImmediateParentOf(g)){const _=this.getFieldsMap(t);this.applyChanges(_,r,i),r={},i=[],t=g.popLast()}c?r[g.lastSegment()]=eg(c):i.push(g.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,r,i)}delete(e){const t=this.field(e.popLast());Om(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return hl(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Om(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){cc(t,(i,l)=>e[i]=l);for(const i of r)delete e[i]}clone(){return new Ni(eg(this.value))}}function Av(n){const e=[];return cc(n.fields,(t,r)=>{const i=new Fr([t]);if(Om(r)){const l=Av(r.mapValue).fields;if(0===l.length)e.push(i);else for(const c of l)e.push(i.child(c))}else e.push(i)}),new Ls(e)}class dr{constructor(e,t,r,i,l,c,g){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=l,this.data=c,this.documentState=g}static newInvalidDocument(e){return new dr(e,0,xt.min(),xt.min(),xt.min(),Ni.empty(),0)}static newFoundDocument(e,t,r,i){return new dr(e,1,t,xt.min(),r,i,0)}static newNoDocument(e,t){return new dr(e,2,t,xt.min(),xt.min(),Ni.empty(),0)}static newUnknownDocument(e,t){return new dr(e,3,t,xt.min(),xt.min(),Ni.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(xt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ni.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ni.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof dr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class pc{constructor(e,t){this.position=e,this.inclusive=t}}function B1(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const l=e[i],c=n.position[i];if(r=l.field.isKeyField()?rt.comparator(rt.fromName(c.referenceValue),t.key):bd(c,t.data.field(l.field)),"desc"===l.dir&&(r*=-1),0!==r)break}return r}function Jb(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!hl(n.position[t],e.position[t]))return!1;return!0}class Cd{constructor(e,t="asc"){this.field=e,this.dir=t}}function $1(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class Xb{}class Dn extends Xb{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new j1(e,t,r):"array-contains"===t?new H1(e,r):"in"===t?new Sv(e,r):"not-in"===t?new iC(e,r):"array-contains-any"===t?new xv(e,r):new Dn(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new Rm(e,r):new km(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(bd(t,this.value)):null!==t&&Xl(this.value)===Xl(t)&&this.matchesComparison(bd(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return pt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Nn extends Xb{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Nn(e,t)}matches(e){return sf(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function sf(n){return"and"===n.op}function ng(n){return"or"===n.op}function $o(n){return eC(n)&&sf(n)}function eC(n){for(const e of n.filters)if(e instanceof Nn)return!1;return!0}function rg(n){if(n instanceof Dn)return n.field.canonicalString()+n.op.toString()+rf(n.value);if($o(n))return n.filters.map(e=>rg(e)).join(",");{const e=n.filters.map(t=>rg(t)).join(",");return`${n.op}(${e})`}}function af(n,e){return n instanceof Dn?(t=n,(r=e)instanceof Dn&&t.op===r.op&&t.field.isEqual(r.field)&&hl(t.value,r.value)):n instanceof Nn?function(t,r){return r instanceof Nn&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,l,c)=>i&&af(l,r.filters[c]),!0)}(n,e):void pt();var t,r}function tC(n,e){const t=n.filters.concat(e);return Nn.create(t,n.op)}function nC(n){return n instanceof Dn?`${(e=n).field.canonicalString()} ${e.op} ${rf(e.value)}`:n instanceof Nn?function(e){return e.op.toString()+" {"+e.getFilters().map(nC).join(" ,")+"}"}(n):"Filter";var e}class j1 extends Dn{constructor(e,t,r){super(e,t,r),this.key=rt.fromName(r.referenceValue)}matches(e){const t=rt.comparator(e.key,this.key);return this.matchesComparison(t)}}class Rm extends Dn{constructor(e,t){super(e,"in",t),this.keys=rC(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class km extends Dn{constructor(e,t){super(e,"not-in",t),this.keys=rC(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function rC(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>rt.fromName(r.referenceValue))}class H1 extends Dn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Xp(t)&&Qp(t.arrayValue,this.value)}}class Sv extends Dn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Qp(this.value.arrayValue,t)}}class iC extends Dn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Qp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Qp(this.value.arrayValue,t)}}class xv extends Dn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Xp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Qp(this.value.arrayValue,r))}}class sC{constructor(e,t=null,r=[],i=[],l=null,c=null,g=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=l,this.startAt=c,this.endAt=g,this.dt=null}}function ig(n,e=null,t=[],r=[],i=null,l=null,c=null){return new sC(n,e,t,r,i,l,c)}function eu(n){const e=st(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>rg(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),wd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>rf(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>rf(r)).join(",")),e.dt=t}return e.dt}function lf(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!$1(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!af(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Jb(n.startAt,e.startAt)&&Jb(n.endAt,e.endAt)}function uf(n){return rt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function cf(n,e){return n.filters.filter(t=>t instanceof Dn&&t.field.isEqual(e))}function oC(n,e,t){let r=Cv,i=!0;for(const l of cf(n,e)){let c=Cv,g=!0;switch(l.op){case"<":case"<=":c=tg(l.value);break;case"==":case"in":case">=":c=l.value;break;case">":c=l.value,g=!1;break;case"!=":case"not-in":c=Cv}Dv({value:r,inclusive:i},{value:c,inclusive:g})<0&&(r=c,i=g)}if(null!==t)for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const c=t.position[l];Dv({value:r,inclusive:i},{value:c,inclusive:t.inclusive})<0&&(r=c,i=t.inclusive);break}return{value:r,inclusive:i}}function aC(n,e,t){let r=Jl,i=!0;for(const l of cf(n,e)){let c=Jl,g=!0;switch(l.op){case">=":case">":c=Qb(l.value),g=!1;break;case"==":case"in":case"<=":c=l.value;break;case"<":c=l.value,g=!1;break;case"!=":case"not-in":c=Jl}Tv({value:r,inclusive:i},{value:c,inclusive:g})>0&&(r=c,i=g)}if(null!==t)for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const c=t.position[l];Tv({value:r,inclusive:i},{value:c,inclusive:t.inclusive})>0&&(r=c,i=t.inclusive);break}return{value:r,inclusive:i}}class tu{constructor(e,t=null,r=[],i=[],l=null,c="F",g=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=l,this.limitType=c,this.startAt=g,this.endAt=_,this.wt=null,this._t=null}}function lC(n,e,t,r,i,l,c,g){return new tu(n,e,t,r,i,l,c,g)}function Ed(n){return new tu(n)}function Nm(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Fm(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Lm(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function Vm(n){return null!==n.collectionGroup}function gc(n){const e=st(n);if(null===e.wt){e.wt=[];const t=Lm(e),r=Fm(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new Cd(t)),e.wt.push(new Cd(Fr.keyField(),"asc"));else{let i=!1;for(const l of e.explicitOrderBy)e.wt.push(l),l.field.isKeyField()&&(i=!0);if(!i){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Cd(Fr.keyField(),l))}}}return e.wt}function ws(n){const e=st(n);if(!e._t)if("F"===e.limitType)e._t=ig(e.path,e.collectionGroup,gc(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of gc(e))t.push(new Cd(l.field,"desc"===l.dir?"asc":"desc"));const r=e.endAt?new pc(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new pc(e.startAt.position,e.startAt.inclusive):null;e._t=ig(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function Um(n,e){e.getFirstInequalityField(),Lm(n);const t=n.filters.concat([e]);return new tu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function sg(n,e,t){return new tu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function og(n,e){return lf(ws(n),ws(e))&&n.limitType===e.limitType}function Mv(n){return`${eu(ws(n))}|lt:${n.limitType}`}function Pv(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>nC(r)).join(", ")}]`),wd(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>rf(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>rf(r)).join(",")),`Target(${t})`}(ws(n))}; limitType=${n.limitType})`}function pi(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):rt.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of gc(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,l,c){const g=B1(i,l,c);return i.inclusive?g<=0:g<0}(t.startAt,gc(t),r)||t.endAt&&!function(i,l,c){const g=B1(i,l,c);return i.inclusive?g>=0:g>0}(t.endAt,gc(t),r)));var t,r}function Id(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function uC(n){return(e,t)=>{let r=!1;for(const i of gc(n)){const l=z1(i,e,t);if(0!==l)return l;r=r||i.field.isKeyField()}return 0}}function z1(n,e,t){const r=n.field.isKeyField()?rt.comparator(e.key,t.key):function(i,l,c){const g=l.data.field(i),_=c.data.field(i);return null!==g&&null!==_?bd(g,_):pt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return pt()}}class mc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,l]of r)if(this.equalsFn(i,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<i.length;l++)if(this.equalsFn(i[l][0],e))return void(i[l]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){cc(this.inner,(t,r)=>{for(const[i,l]of r)e(i,l)})}isEmpty(){return vv(this.inner)}size(){return this.innerSize}}const VS=new Un(rt.comparator);function bs(){return VS}const Bm=new Un(rt.comparator);function nu(...n){let e=Bm;for(const t of n)e=e.insert(t.key,t);return e}function cC(n){let e=Bm;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function jo(){return df()}function dC(){return df()}function df(){return new mc(n=>n.toString(),(n,e)=>n.isEqual(e))}const G1=new Un(rt.comparator),q1=new Tr(rt.comparator);function fn(...n){let e=q1;for(const t of n)e=e.add(t);return e}const Ov=new Tr(Jt);function $m(){return Ov}function Rv(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wp(e)?"-0":e}}function ag(n){return{integerValue:""+n}}function jm(n,e){return fv(e)?ag(e):Rv(n,e)}class kv{constructor(){this._=void 0}}function hC(n,e,t){return n instanceof Da?function(r,i){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&Kp(i)&&(i=Pm(i)),i&&(l.fields.__previous_value__=i),{mapValue:l}}(t,e):n instanceof Dd?Fv(n,e):n instanceof ru?Z1(n,e):function(r,i){const l=Nv(r,i),c=K1(l)+K1(r.gt);return Iv(l)&&Iv(r.gt)?ag(c):Rv(r.serializer,c)}(n,e)}function W1(n,e,t){return n instanceof Dd?Fv(n,e):n instanceof ru?Z1(n,e):t}function Nv(n,e){return n instanceof hf?Iv(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Da extends kv{}class Dd extends kv{constructor(e){super(),this.elements=e}}function Fv(n,e){const t=fC(e);for(const r of n.elements)t.some(i=>hl(i,r))||t.push(r);return{arrayValue:{values:t}}}class ru extends kv{constructor(e){super(),this.elements=e}}function Z1(n,e){let t=fC(e);for(const r of n.elements)t=t.filter(i=>!hl(i,r));return{arrayValue:{values:t}}}class hf extends kv{constructor(e,t){super(),this.serializer=e,this.gt=t}}function K1(n){return Lr(n.integerValue||n.doubleValue)}function fC(n){return Xp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class lg{constructor(e,t){this.field=e,this.transform=t}}class pC{constructor(e,t){this.version=e,this.transformResults=t}}class yr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new yr}static exists(e){return new yr(void 0,e)}static updateTime(e){return new yr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hm(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class ug{}function Lv(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new ff(n.key,yr.none()):new Td(n.key,n.data,yr.none());{const t=n.data,r=Ni.empty();let i=new Tr(Fr.comparator);for(let l of e.fields)if(!i.has(l)){let c=t.field(l);null===c&&l.length>1&&(l=l.popLast(),c=t.field(l)),null===c?r.delete(l):r.set(l,c),i=i.add(l)}return new fl(n.key,r,new Ls(i.toArray()),yr.none())}}function Q1(n,e,t){n instanceof Td?function(r,i,l){const c=r.value.clone(),g=Uv(r.fieldTransforms,i,l.transformResults);c.setAll(g),i.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(n,e,t):n instanceof fl?function(r,i,l){if(!Hm(r.precondition,i))return void i.convertToUnknownDocument(l.version);const c=Uv(r.fieldTransforms,i,l.transformResults),g=i.data;g.setAll(Vv(r)),g.setAll(c),i.convertToFoundDocument(l.version,g).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function cg(n,e,t,r){return n instanceof Td?function(i,l,c,g){if(!Hm(i.precondition,l))return c;const _=i.value.clone(),D=yC(i.fieldTransforms,g,l);return _.setAll(D),l.convertToFoundDocument(l.version,_).setHasLocalMutations(),null}(n,e,t,r):n instanceof fl?function(i,l,c,g){if(!Hm(i.precondition,l))return c;const _=yC(i.fieldTransforms,g,l),D=l.data;return D.setAll(Vv(i)),D.setAll(_),l.convertToFoundDocument(l.version,D).setHasLocalMutations(),null===c?null:c.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(S=>S.field))}(n,e,t,r):(c=t,Hm(n.precondition,l=e)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c);var l,c}function gC(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),l=Nv(r.transform,i||null);null!=l&&(null===t&&(t=Ni.empty()),t.set(r.field,l))}return t||null}function mC(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&ef(t,r,(i,l)=>function Y1(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Dd&&r instanceof Dd||t instanceof ru&&r instanceof ru?ef(t.elements,r.elements,hl):t instanceof hf&&r instanceof hf?hl(t.gt,r.gt):t instanceof Da&&r instanceof Da);var t,r}(i,l))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class Td extends ug{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class fl extends ug{constructor(e,t,r,i,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Vv(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Uv(n,e,t){const r=new Map;At(n.length===t.length);for(let i=0;i<t.length;i++){const l=n[i],c=l.transform,g=e.data.field(l.field);r.set(l.field,W1(c,g,t[i]))}return r}function yC(n,e,t){const r=new Map;for(const i of n){const l=i.transform,c=t.data.field(i.field);r.set(i.field,hC(l,c,e))}return r}class ff extends ug{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _C extends ug{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class zm{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const l=this.mutations[i];l.key.isEqual(e.key)&&Q1(l,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=cg(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=cg(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=dC();return this.mutations.forEach(i=>{const l=e.get(i.key),c=l.overlayedDocument;let g=this.applyToLocalView(c,l.mutatedFields);g=t.has(i.key)?null:g;const _=Lv(c,g);null!==_&&r.set(i.key,_),c.isValidDocument()||c.convertToNoDocument(xt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),fn())}isEqual(e){return this.batchId===e.batchId&&ef(this.mutations,e.mutations,(t,r)=>mC(t,r))&&ef(this.baseMutations,e.baseMutations,(t,r)=>mC(t,r))}}class vC{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){At(e.mutations.length===r.length);let i=G1;const l=e.mutations;for(let c=0;c<l.length;c++)i=i.insert(l[c].key,r[c].version);return new vC(e,t,r,i)}}class wC{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class BS{constructor(e,t){this.count=e,this.unchangedNames=t}}var gi,Fn;function J1(n){switch(n){default:return pt();case fe.CANCELLED:case fe.UNKNOWN:case fe.DEADLINE_EXCEEDED:case fe.RESOURCE_EXHAUSTED:case fe.INTERNAL:case fe.UNAVAILABLE:case fe.UNAUTHENTICATED:return!1;case fe.INVALID_ARGUMENT:case fe.NOT_FOUND:case fe.ALREADY_EXISTS:case fe.PERMISSION_DENIED:case fe.FAILED_PRECONDITION:case fe.ABORTED:case fe.OUT_OF_RANGE:case fe.UNIMPLEMENTED:case fe.DATA_LOSS:return!0}}function X1(n){if(void 0===n)return ui("GRPC error has no .code"),fe.UNKNOWN;switch(n){case gi.OK:return fe.OK;case gi.CANCELLED:return fe.CANCELLED;case gi.UNKNOWN:return fe.UNKNOWN;case gi.DEADLINE_EXCEEDED:return fe.DEADLINE_EXCEEDED;case gi.RESOURCE_EXHAUSTED:return fe.RESOURCE_EXHAUSTED;case gi.INTERNAL:return fe.INTERNAL;case gi.UNAVAILABLE:return fe.UNAVAILABLE;case gi.UNAUTHENTICATED:return fe.UNAUTHENTICATED;case gi.INVALID_ARGUMENT:return fe.INVALID_ARGUMENT;case gi.NOT_FOUND:return fe.NOT_FOUND;case gi.ALREADY_EXISTS:return fe.ALREADY_EXISTS;case gi.PERMISSION_DENIED:return fe.PERMISSION_DENIED;case gi.FAILED_PRECONDITION:return fe.FAILED_PRECONDITION;case gi.ABORTED:return fe.ABORTED;case gi.OUT_OF_RANGE:return fe.OUT_OF_RANGE;case gi.UNIMPLEMENTED:return fe.UNIMPLEMENTED;case gi.DATA_LOSS:return fe.DATA_LOSS;default:return pt()}}(Fn=gi||(gi={}))[Fn.OK=0]="OK",Fn[Fn.CANCELLED=1]="CANCELLED",Fn[Fn.UNKNOWN=2]="UNKNOWN",Fn[Fn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fn[Fn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fn[Fn.NOT_FOUND=5]="NOT_FOUND",Fn[Fn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fn[Fn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fn[Fn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fn[Fn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fn[Fn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fn[Fn.ABORTED=10]="ABORTED",Fn[Fn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fn[Fn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fn[Fn.INTERNAL=13]="INTERNAL",Fn[Fn.UNAVAILABLE=14]="UNAVAILABLE",Fn[Fn.DATA_LOSS=15]="DATA_LOSS";class pf{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Bv}static getOrCreateInstance(){return null===Bv&&(Bv=new pf),Bv}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let Bv=null;function $v(){return new TextEncoder}const Gm=new Qh([4294967295,4294967295],0);function jv(n){const e=$v().encode(n),t=new zt;return t.update(e),new Uint8Array(t.digest())}function Hv(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Qh([t,r],0),new Qh([i,l],0)]}class bC{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Ad(`Invalid padding: ${t}`);if(r<0)throw new Ad(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Ad(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new Ad(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Qh.fromNumber(this.It)}Et(e,t,r){let i=e.add(t.multiply(Qh.fromNumber(r)));return 1===i.compare(Gm)&&(i=new Qh([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=jv(e),[r,i]=Hv(t);for(let l=0;l<this.hashCount;l++){const c=this.Et(r,i,l);if(!this.At(c))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new bC(l,i,t);return r.forEach(g=>c.insert(g)),c}insert(e){if(0===this.It)return;const t=jv(e),[r,i]=Hv(t);for(let l=0;l<this.hashCount;l++){const c=this.Et(r,i,l);this.Rt(c)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Ad extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class gf{constructor(e,t,r,i,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,dg.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new gf(xt.min(),i,new Un(Jt),bs(),fn())}}class dg{constructor(e,t,r,i,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new dg(r,t,fn(),fn(),fn())}}class zv{constructor(e,t,r,i){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=i}}class eD{constructor(e,t){this.targetId=e,this.Vt=t}}class CC{constructor(e,t,r=ci.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class EC{constructor(){this.St=0,this.Dt=tD(),this.Ct=ci.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=fn(),t=fn(),r=fn();return this.Dt.forEach((i,l)=>{switch(l){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:pt()}}),new dg(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=tD()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class qm{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=bs(),this.zt=IC(),this.Wt=new Un(Jt)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:pt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,i)=>{this.te(i)&&t(i)})}ne(e){var t;const r=e.targetId,i=e.Vt.count,l=this.se(r);if(l){const c=l.target;if(uf(c))if(0===i){const g=new rt(c.path);this.Yt(r,g,dr.newNoDocument(g,xt.min()))}else At(1===i);else{const g=this.ie(r);if(g!==i){const _=this.re(e,g);0!==_&&(this.ee(r),this.Wt=this.Wt.insert(r,2===_?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=pf.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(D,S,F){var Z,re,de,Oe,Se,wt;const It={localCacheCount:S,existenceFilterCount:F.count},ht=F.unchangedNames;return ht&&(It.bloomFilter={applied:0===D,hashCount:null!==(Z=ht?.hashCount)&&void 0!==Z?Z:0,bitmapLength:null!==(Oe=null===(de=null===(re=ht?.bits)||void 0===re?void 0:re.bitmap)||void 0===de?void 0:de.length)&&void 0!==Oe?Oe:0,padding:null!==(wt=null===(Se=ht?.bits)||void 0===Se?void 0:Se.padding)&&void 0!==wt?wt:0}),It}(_,g,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:l="",padding:c=0},hashCount:g=0}=r;let _,D;try{_=dl(l).toUint8Array()}catch(S){if(S instanceof Mm)return io("Decoding the base64 bloom filter in existence filter failed ("+S.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw S}try{D=new bC(_,c,g)}catch(S){return io(S instanceof Ad?"BloomFilter error: ":"Applying bloom filter failed: ",S),1}return 0===D.It?1:i!==t-this.oe(e.targetId,D)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(l=>{const c=this.Gt.ue(),g=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;t.vt(g)||(this.Yt(e,l,null),i++)}),i}ce(e){const t=new Map;this.Qt.forEach((l,c)=>{const g=this.se(c);if(g){if(l.current&&uf(g.target)){const _=new rt(g.target.path);null!==this.jt.get(_)||this.ae(c,_)||this.Yt(c,_,dr.newNoDocument(_,e))}l.Mt&&(t.set(c,l.Ot()),l.Ft())}});let r=fn();this.zt.forEach((l,c)=>{let g=!0;c.forEachWhile(_=>{const D=this.se(_);return!D||"TargetPurposeLimboResolution"===D.purpose||(g=!1,!1)}),g&&(r=r.add(l))}),this.jt.forEach((l,c)=>c.setReadTime(e));const i=new gf(e,t,this.Wt,this.jt,r);return this.jt=bs(),this.zt=IC(),this.Wt=new Un(Jt),i}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,t)?i.Bt(t,1):i.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new EC,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Tr(Jt),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Pe("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new EC),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function IC(){return new Un(rt.comparator)}function tD(){return new Un(rt.comparator)}const $S={asc:"ASCENDING",desc:"DESCENDING"},jS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},nD={and:"AND",or:"OR"};class rD{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Gv(n,e){return n.useProto3Json||wd(e)?e:{value:e}}function hg(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function DC(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function TC(n,e){return hg(n,e.toTimestamp())}function Zr(n){return At(!!n),xt.fromTimestamp(function(e){const t=Ql(e);return new Dr(t.seconds,t.nanos)}(n))}function AC(n,e){return(t=n,new An(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Ho(n){const e=An.fromString(n);return At(lD(e)),e}function fg(n,e){return AC(n.databaseId,e.path)}function zo(n,e){const t=Ho(e);if(t.get(1)!==n.databaseId.projectId)throw new Ve(fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ve(fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new rt(SC(t))}function qv(n,e){return AC(n.databaseId,e)}function iD(n){const e=Ho(n);return 4===e.length?An.emptyPath():SC(e)}function as(n){return new An(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function SC(n){return At(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Wm(n,e,t){return{name:fg(n,e),fields:t.value.mapValue.fields}}function xC(n,e,t){const r=zo(n,e.name),i=Zr(e.updateTime),l=e.createTime?Zr(e.createTime):xt.min(),c=new Ni({mapValue:{fields:e.fields}}),g=dr.newFoundDocument(r,i,l,c);return t&&g.setHasCommittedMutations(),t?g.setHasCommittedMutations():g}function mf(n,e){let t;if(e instanceof Td)t={update:Wm(n,e.key,e.value)};else if(e instanceof ff)t={delete:fg(n,e.key)};else if(e instanceof fl)t={update:Wm(n,e.key,e.data),updateMask:aD(e.fieldMask)};else{if(!(e instanceof _C))return pt();t={verify:fg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,l){const c=l.transform;if(c instanceof Da)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Dd)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof ru)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof hf)return{fieldPath:l.field.canonicalString(),increment:c.gt};throw pt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:TC(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:pt()),t;var i}function Zm(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?yr.updateTime(Zr(i.updateTime)):void 0!==i.exists?yr.exists(i.exists):yr.none():yr.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(l,c){let g=null;"setToServerValue"in c?(At("REQUEST_TIME"===c.setToServerValue),g=new Da):"appendMissingElements"in c?g=new Dd(c.appendMissingElements.values||[]):"removeAllFromArray"in c?g=new ru(c.removeAllFromArray.values||[]):"increment"in c?g=new hf(l,c.increment):pt();const _=Fr.fromServerFormat(c.fieldPath);return new lg(_,g)}(n,i)):[];var i;if(e.update){const i=zo(n,e.update.name),l=new Ni({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=new Ls((e.updateMask.fieldPaths||[]).map(D=>Fr.fromServerFormat(D)));return new fl(i,l,c,t,r)}return new Td(i,l,t,r)}if(e.delete){const i=zo(n,e.delete);return new ff(i,t)}if(e.verify){const i=zo(n,e.verify);return new _C(i,t)}return pt()}function Zv(n,e){return{documents:[qv(n,e.path)]}}function Km(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=qv(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=qv(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(_){if(0!==_.length)return Yv(Nn.create(_,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const l=function(_){if(0!==_.length)return _.map(D=>{return{field:su((S=D).field),direction:Kv(S.dir)};var S})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const c=Gv(n,e.limit);var g,_;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(g=e.startAt).inclusive,values:g.position}),e.endAt&&(t.structuredQuery.endAt={before:!(_=e.endAt).inclusive,values:_.position}),t}function MC(n){let e=iD(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){At(1===r);const S=t.from[0];S.allDescendants?i=S.collectionId:e=e.child(S.collectionId)}let l=[];t.where&&(l=function(S){const F=OC(S);return F instanceof Nn&&$o(F)?F.getFilters():[F]}(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(S=>{return new Cd(_c((F=S).field),function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(F.direction));var F}));let g=null;t.limit&&(g=function(S){let F;return F="object"==typeof S?S.value:S,wd(F)?null:F}(t.limit));let _=null;var S;t.startAt&&(_=new pc((S=t.startAt).values||[],!!S.before));let D=null;return t.endAt&&(D=function(S){return new pc(S.values||[],!S.before)}(t.endAt)),lC(e,i,c,l,g,"F",_,D)}function OC(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=_c(e.unaryFilter.field);return Dn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=_c(e.unaryFilter.field);return Dn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=_c(e.unaryFilter.field);return Dn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=_c(e.unaryFilter.field);return Dn.create(l,"!=",{nullValue:"NULL_VALUE"});default:return pt()}}(n):void 0!==n.fieldFilter?Dn.create(_c((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return pt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Nn.create(e.compositeFilter.filters.map(t=>OC(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return pt()}}(e.compositeFilter.op))}(n):pt();var e}function Kv(n){return $S[n]}function iu(n){return jS[n]}function yc(n){return nD[n]}function su(n){return{fieldPath:n.canonicalString()}}function _c(n){return Fr.fromServerFormat(n.fieldPath)}function Yv(n){return n instanceof Dn?function(e){if("=="===e.op){if(Kb(e.value))return{unaryFilter:{field:su(e.field),op:"IS_NAN"}};if(Zb(e.value))return{unaryFilter:{field:su(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Kb(e.value))return{unaryFilter:{field:su(e.field),op:"IS_NOT_NAN"}};if(Zb(e.value))return{unaryFilter:{field:su(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:su(e.field),op:iu(e.op),value:e.value}}}(n):n instanceof Nn?function(e){const t=e.getFilters().map(r=>Yv(r));return 1===t.length?t[0]:{compositeFilter:{op:yc(e.op),filters:t}}}(n):pt()}function aD(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function lD(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class ou{constructor(e,t,r,i,l=xt.min(),c=xt.min(),g=ci.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(e){return new ou(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ou(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ou(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ou(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class RC{constructor(e){this.fe=e}}function kC(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:pg(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:fg(i=n.fe,(l=e).key),fields:l.data.value.mapValue.fields,updateTime:hg(i,l.version.toTimestamp()),createTime:hg(i,l.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:yf(e.version)};else{if(!e.isUnknownDocument())return pt();r.unknownDocument={path:t.path.toArray(),version:yf(e.version)}}var i,l;return r}function pg(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function yf(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function vc(n){const e=new Dr(n.seconds,n.nanoseconds);return xt.fromTimestamp(e)}function Sd(n,e){const t=(e.baseMutations||[]).map(l=>Zm(n.fe,l));for(let l=0;l<e.mutations.length-1;++l)l+1<e.mutations.length&&void 0!==e.mutations[l+1].transform&&(e.mutations[l].updateTransforms=e.mutations[l+1].transform.fieldTransforms,e.mutations.splice(l+1,1),++l);const r=e.mutations.map(l=>Zm(n.fe,l)),i=Dr.fromMillis(e.localWriteTimeMs);return new zm(e.batchId,i,t,r)}function _f(n){const e=vc(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?vc(n.lastLimboFreeSnapshotVersion):xt.min();let r;var i;return void 0!==n.query.documents?(At(1===(i=n.query).documents.length),r=ws(Ed(iD(i.documents[0])))):r=ws(MC(n.query)),new ou(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,ci.fromBase64String(n.resumeToken))}function cD(n,e){const t=yf(e.snapshotVersion),r=yf(e.lastLimboFreeSnapshotVersion);let i;i=uf(e.target)?Zv(n.fe,e.target):Km(n.fe,e.target);const l=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:eu(e.target),readTime:t,resumeToken:l,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function gg(n){const e=MC({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?sg(e,e.limit,"L"):e}function Ym(n,e){return new wC(e.largestBatchId,Zm(n.fe,e.overlayMutation))}function Qv(n,e){const t=e.path.lastSegment();return[n,Gi(e.path.popLast()),t]}function Jv(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:yf(r.readTime),documentKey:Gi(r.documentKey.path),largestBatchId:r.largestBatchId}}class NC{getBundleMetadata(e,t){return Xv(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:vc(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return Xv(e).put({bundleId:(r=t).id,createTime:yf(Zr(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return mg(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:gg(i.bundledQuery),readTime:vc(i.readTime)};var i})}saveNamedQuery(e,t){return mg(e).put({name:(r=t).name,readTime:yf(Zr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function Xv(n){return ki(n,"bundles")}function mg(n){return ki(n,"namedQueries")}class xd{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new xd(e,t.uid||"")}getOverlay(e,t){return vf(e).get(Qv(this.userId,t)).next(r=>r?Ym(this.serializer,r):null)}getOverlays(e,t){const r=jo();return le.forEach(t,i=>this.getOverlay(e,i).next(l=>{null!==l&&r.set(i,l)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((l,c)=>{const g=new wC(t,c);i.push(this.we(e,g))}),le.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(c=>i.add(Gi(c.getCollectionPath())));const l=[];return i.forEach(c=>{const g=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,r+1],!1,!0);l.push(vf(e).J("collectionPathOverlayIndex",g))}),le.waitFor(l)}getOverlaysForCollection(e,t,r){const i=jo(),l=Gi(t),c=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,Number.POSITIVE_INFINITY],!0);return vf(e).j("collectionPathOverlayIndex",c).next(g=>{for(const _ of g){const D=Ym(this.serializer,_);i.set(D.getKey(),D)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const l=jo();let c;const g=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return vf(e).X({index:"collectionGroupOverlayIndex",range:g},(_,D,S)=>{const F=Ym(this.serializer,D);l.size()<i||F.largestBatchId===c?(l.set(F.getKey(),F),c=F.largestBatchId):S.done()}).next(()=>l)}we(e,t){return vf(e).put(function(r,i,l){const[c,g,_]=Qv(i,l.mutation.key);return{userId:i,collectionPath:g,documentId:_,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:mf(r.fe,l.mutation)}}(this.serializer,this.userId,t))}}function vf(n){return ki(n,"documentOverlays")}class Md{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Lr(e.integerValue));else if("doubleValue"in e){const r=Lr(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),Wp(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(dl(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?Yb(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):pt()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const i of Object.keys(r))this.Te(i,t),this.me(r[i],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const i of r)this.me(i,t)}ve(e,t){this.ye(t,37),rt.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function dD(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function hD(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const l=dD(255&t[i]);if(r+=l,8!==l)break}return r}(n);return Math.ceil(e/8)}Md.Ve=new Md;class HS{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.De(r.value),r=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ne(r.value),r=t.next();this.ke()}Me(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.De(r);else if(r<2048)this.De(960|r>>>6),this.De(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.De(480|r>>>12),this.De(128|63&r>>>6),this.De(128|63&r);else{const i=t.codePointAt(0);this.De(240|i>>>18),this.De(128|63&i>>>12),this.De(128|63&i>>>6),this.De(128|63&i)}}this.Ce()}$e(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ne(r);else if(r<2048)this.Ne(960|r>>>6),this.Ne(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r);else{const i=t.codePointAt(0);this.Ne(240|i>>>18),this.Ne(128|63&i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i)}}this.ke()}Oe(e){const t=this.Fe(e),r=hD(t);this.Be(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Le(e){const t=this.Fe(e),r=hD(t);this.Be(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(i){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,i,!1),new Uint8Array(l.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class zS{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class FC{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class yg{constructor(){this.je=new HS,this.ze=new zS(this.je),this.We=new FC(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class Pd{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Pd(this.indexId,this.documentKey,this.arrayValue,r)}}function wc(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=fD(n.arrayValue,e.arrayValue),0!==t?t:(t=fD(n.directionalValue,e.directionalValue),0!==t?t:rt.comparator(n.documentKey,e.documentKey)))}function fD(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class GS{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const r=t;r.isInequality()?this.Ze=r:this.Xe.push(r)}}tn(e){At(e.collectionGroup===this.collectionId);const t=kb(e);if(void 0!==t&&!this.en(t))return!1;const r=nf(e);let i=0,l=0;for(;i<r.length&&this.en(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Ze){const c=r[i];if(!this.nn(this.Ze,c)||!this.sn(this.Ye[l++],c))return!1;++i}for(;i<r.length;++i)if(l>=this.Ye.length||!this.sn(this.Ye[l++],r[i]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function pD(n){var e,t;if(At(n instanceof Dn||n instanceof Nn),n instanceof Dn){if(n instanceof Sv){const i=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(l=>Dn.create(n.field,"==",l)))||[];return Nn.create(i,"or")}return n}const r=n.filters.map(i=>pD(i));return Nn.create(r,n.op)}function qS(n){if(0===n.getFilters().length)return[];const e=t0(pD(n));return At(_g(e)),LC(e)||e0(e)?[e]:e.getFilters()}function LC(n){return n instanceof Dn}function e0(n){return n instanceof Nn&&$o(n)}function _g(n){return LC(n)||e0(n)||function(e){if(e instanceof Nn&&ng(e)){for(const t of e.getFilters())if(!LC(t)&&!e0(t))return!1;return!0}return!1}(n)}function t0(n){if(At(n instanceof Dn||n instanceof Nn),n instanceof Dn)return n;if(1===n.filters.length)return t0(n.filters[0]);const e=n.filters.map(r=>t0(r));let t=Nn.create(e,n.op);return t=pl(t),_g(t)?t:(At(t instanceof Nn),At(sf(t)),At(t.filters.length>1),t.filters.reduce((r,i)=>n0(r,i)))}function n0(n,e){let t;return At(n instanceof Dn||n instanceof Nn),At(e instanceof Dn||e instanceof Nn),t=n instanceof Dn?e instanceof Dn?Nn.create([n,e],"and"):r0(n,e):e instanceof Dn?r0(e,n):function(r,i){if(At(r.filters.length>0&&i.filters.length>0),sf(r)&&sf(i))return tC(r,i.getFilters());const l=ng(r)?r:i,c=ng(r)?i:r,g=l.filters.map(_=>n0(_,c));return Nn.create(g,"or")}(n,e),pl(t)}function r0(n,e){if(sf(e))return tC(e,n.getFilters());{const t=e.filters.map(r=>n0(n,r));return Nn.create(t,"or")}}function pl(n){if(At(n instanceof Dn||n instanceof Nn),n instanceof Dn)return n;const e=n.getFilters();if(1===e.length)return pl(e[0]);if(eC(n))return n;const t=e.map(i=>pl(i)),r=[];return t.forEach(i=>{i instanceof Dn?r.push(i):i instanceof Nn&&(i.op===n.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:Nn.create(r,n.op)}class VC{constructor(){this.rn=new vg}addToCollectionParentIndex(e,t){return this.rn.add(t),le.resolve()}getCollectionParents(e,t){return le.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return le.resolve()}deleteFieldIndex(e,t){return le.resolve()}getDocumentsMatchingTarget(e,t){return le.resolve(null)}getIndexType(e,t){return le.resolve(0)}getFieldIndexes(e,t){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,t){return le.resolve(Fs.min())}getMinOffsetFromCollectionGroup(e,t){return le.resolve(Fs.min())}updateCollectionGroup(e,t,r){return le.resolve()}updateIndexEntries(e,t){return le.resolve()}}class vg{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Tr(An.comparator),l=!i.has(r);return this.index[t]=i.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Tr(An.comparator)).toArray()}}const wf=new Uint8Array(0);class gD{constructor(e,t){this.user=e,this.databaseId=t,this.on=new vg,this.un=new mc(r=>eu(r),(r,i)=>lf(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const l={collectionId:r,parent:Gi(i)};return Qm(e).put(l)}return le.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[Rb(t),""],!1,!0);return Qm(e).j(i).next(l=>{for(const c of l){if(c.collectionId!==t)break;r.push(cl(c.parent))}return r})}addFieldIndex(e,t){const r=Rd(e),i={indexId:(c=t).indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(g=>[g.fieldPath.canonicalString(),g.kind])};var c;delete i.indexId;const l=r.add(i);if(t.indexState){const c=Jm(e);return l.next(g=>{c.put(Jv(g,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return l.next()}deleteFieldIndex(e,t){const r=Rd(e),i=Jm(e),l=Od(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Od(e);let i=!0;const l=new Map;return le.forEach(this.cn(t),c=>this.an(e,c).next(g=>{i&&(i=!!g),l.set(c,g)})).next(()=>{if(i){let c=fn();const g=[];return le.forEach(l,(_,D)=>{var S;Pe("IndexedDbIndexManager",`Using index ${S=_,`id=${S.indexId}|cg=${S.collectionGroup}|f=${S.fields.map(ht=>`${ht.fieldPath}:${ht.kind}`).join(",")}`} to execute ${eu(t)}`);const F=function(ht,Ct){const tn=kb(Ct);if(void 0===tn)return null;for(const _n of cf(ht,tn.fieldPath))switch(_n.op){case"array-contains-any":return _n.value.arrayValue.values||[];case"array-contains":return[_n.value]}return null}(D,_),Z=function(ht,Ct){const tn=new Map;for(const _n of nf(Ct))for(const Fi of cf(ht,_n.fieldPath))switch(Fi.op){case"==":case"in":tn.set(_n.fieldPath.canonicalString(),Fi.value);break;case"not-in":case"!=":return tn.set(_n.fieldPath.canonicalString(),Fi.value),Array.from(tn.values())}return null}(D,_),re=function(ht,Ct){const tn=[];let _n=!0;for(const Fi of nf(Ct)){const Ta=0===Fi.kind?oC(ht,Fi.fieldPath,ht.startAt):aC(ht,Fi.fieldPath,ht.startAt);tn.push(Ta.value),_n&&(_n=Ta.inclusive)}return new pc(tn,_n)}(D,_),de=function(ht,Ct){const tn=[];let _n=!0;for(const Fi of nf(Ct)){const Ta=0===Fi.kind?aC(ht,Fi.fieldPath,ht.endAt):oC(ht,Fi.fieldPath,ht.endAt);tn.push(Ta.value),_n&&(_n=Ta.inclusive)}return new pc(tn,_n)}(D,_),Oe=this.hn(_,D,re),Se=this.hn(_,D,de),wt=this.ln(_,D,Z),It=this.fn(_.indexId,F,Oe,re.inclusive,Se,de.inclusive,wt);return le.forEach(It,ht=>r.H(ht,t.limit).next(Ct=>{Ct.forEach(tn=>{const _n=rt.fromSegments(tn.documentKey);c.has(_n)||(c=c.add(_n),g.push(_n))})}))}).next(()=>g)}return le.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:qS(Nn.create(e.filters,"and")).map(r=>ig(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,r,i,l,c,g){const _=(null!=t?t.length:1)*Math.max(r.length,l.length),D=_/(null!=t?t.length:1),S=[];for(let F=0;F<_;++F){const Z=t?this.dn(t[F/D]):wf,re=this.wn(e,Z,r[F%D],i),de=this._n(e,Z,l[F%D],c),Oe=g.map(Se=>this.wn(e,Z,Se,!0));S.push(...this.createRange(re,de,Oe))}return S}wn(e,t,r,i){const l=new Pd(e,rt.empty(),t,r);return i?l:l.Je()}_n(e,t,r,i){const l=new Pd(e,rt.empty(),t,r);return i?l.Je():l}an(e,t){const r=new GS(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(l=>{let c=null;for(const g of l)r.tn(g)&&(!c||g.fields.length>c.fields.length)&&(c=g);return c})}getIndexType(e,t){let r=2;const i=this.cn(t);return le.forEach(i,l=>this.an(e,l).next(c=>{c?0!==r&&c.fields.length<function(g){let _=new Tr(Fr.comparator),D=!1;for(const S of g.filters)for(const F of S.getFlattenedFilters())F.field.isKeyField()||("array-contains"===F.op||"array-contains-any"===F.op?D=!0:_=_.add(F.field));for(const S of g.orderBy)S.field.isKeyField()||(_=_.add(S.field));return _.size+(D?1:0)}(l)&&(r=1):r=0})).next(()=>null!==t.limit&&i.length>1&&2===r?1:r)}mn(e,t){const r=new yg;for(const i of nf(e)){const l=t.data.field(i.fieldPath);if(null==l)return null;const c=r.He(i.kind);Md.Ve._e(l,c)}return r.Qe()}dn(e){const t=new yg;return Md.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const r=new yg;return Md.Ve._e(fc(this.databaseId,t),r.He(function(i){const l=nf(i);return 0===l.length?0:l[l.length-1].kind}(e))),r.Qe()}ln(e,t,r){if(null===r)return[];let i=[];i.push(new yg);let l=0;for(const c of nf(e)){const g=r[l++];for(const _ of i)if(this.yn(t,c.fieldPath)&&Xp(g))i=this.pn(i,c,g);else{const D=_.He(c.kind);Md.Ve._e(g,D)}}return this.In(i)}hn(e,t,r){return this.ln(e,t,r.position)}In(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Qe();return t}pn(e,t,r){const i=[...e],l=[];for(const c of r.arrayValue.values||[])for(const g of i){const _=new yg;_.seed(g.Qe()),Md.Ve._e(c,_.He(t.kind)),l.push(_)}return l}yn(e,t){return!!e.filters.find(r=>r instanceof Dn&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=Rd(e),i=Jm(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next(l=>{const c=[];return le.forEach(l,g=>i.get([g.indexId,this.uid]).next(_=>{c.push(function(D,S){const F=S?new ac(S.sequenceNumber,new Fs(vc(S.readTime),new rt(cl(S.documentKey)),S.largestBatchId)):ac.empty(),Z=D.fields.map(([re,de])=>new dv(Fr.fromServerFormat(re),de));return new Em(D.indexId,D.collectionGroup,Z,F)}(g,_))})).next(()=>c)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const l=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==l?l:Jt(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=Rd(e),l=Jm(e);return this.Tn(e).next(c=>i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(g=>le.forEach(g,_=>l.put(Jv(_.indexId,this.user,c,r)))))}updateIndexEntries(e,t){const r=new Map;return le.forEach(t,(i,l)=>{const c=r.get(i.collectionGroup);return(c?le.resolve(c):this.getFieldIndexes(e,i.collectionGroup)).next(g=>(r.set(i.collectionGroup,g),le.forEach(g,_=>this.En(e,i,_).next(D=>{const S=this.An(l,_);return D.isEqual(S)?le.resolve():this.vn(e,l,_,D,S)}))))})}Rn(e,t,r,i){return Od(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.gn(r,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,r,i){return Od(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.gn(r,t.key),t.key.path.toArray()])}En(e,t,r){const i=Od(e);let l=new Tr(wc);return i.X({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.gn(r,t)])},(c,g)=>{l=l.add(new Pd(r.indexId,t,g.arrayValue,g.directionalValue))}).next(()=>l)}An(e,t){let r=new Tr(wc);const i=this.mn(t,e);if(null==i)return r;const l=kb(t);if(null!=l){const c=e.data.field(l.fieldPath);if(Xp(c))for(const g of c.arrayValue.values||[])r=r.add(new Pd(t.indexId,e.key,this.dn(g),i))}else r=r.add(new Pd(t.indexId,e.key,wf,i));return r}vn(e,t,r,i,l){Pe("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const c=[];return function(g,_,D,S,F){const Z=g.getIterator(),re=_.getIterator();let de=dc(Z),Oe=dc(re);for(;de||Oe;){let Se=!1,wt=!1;if(de&&Oe){const It=D(de,Oe);It<0?wt=!0:It>0&&(Se=!0)}else null!=de?wt=!0:Se=!0;Se?(S(Oe),Oe=dc(re)):wt?(F(de),de=dc(Z)):(de=dc(Z),Oe=dc(re))}}(i,l,wc,g=>{c.push(this.Rn(e,t,r,g))},g=>{c.push(this.Pn(e,t,r,g))}),le.waitFor(c)}Tn(e){let t=1;return Jm(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,l)=>{l.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((c,g)=>wc(c,g)).filter((c,g,_)=>!g||0!==wc(c,_[g-1]));const i=[];i.push(e);for(const c of r){const g=wc(c,e),_=wc(c,t);if(0===g)i[0]=e.Je();else if(g>0&&_<0)i.push(c),i.push(c.Je());else if(_>0)break}i.push(t);const l=[];for(let c=0;c<i.length;c+=2){if(this.bn(i[c],i[c+1]))return[];l.push(IDBKeyRange.bound([i[c].indexId,this.uid,i[c].arrayValue,i[c].directionalValue,wf,[]],[i[c+1].indexId,this.uid,i[c+1].arrayValue,i[c+1].directionalValue,wf,[]]))}return l}bn(e,t){return wc(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(mD)}getMinOffset(e,t){return le.mapArray(this.cn(t),r=>this.an(e,r).next(i=>i||pt())).next(mD)}}function Qm(n){return ki(n,"collectionParents")}function Od(n){return ki(n,"indexEntries")}function Rd(n){return ki(n,"indexConfiguration")}function Jm(n){return ki(n,"indexState")}function mD(n){At(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;vd(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new Fs(e.readTime,e.documentKey,t)}const yD={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Cs{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Cs(e,Cs.DEFAULT_COLLECTION_PERCENTILE,Cs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function s0(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),l=[],c=IDBKeyRange.only(t.batchId);let g=0;const _=r.X({range:c},(S,F,Z)=>(g++,Z.delete()));l.push(_.next(()=>{At(1===g)}));const D=[];for(const S of t.mutations){const F=pv(e,S.key.path,t.batchId);l.push(i.delete(F)),D.push(S.key)}return le.waitFor(l).next(()=>D)}function Xm(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw pt();e=n.noDocument}return JSON.stringify(e).length}Cs.DEFAULT_COLLECTION_PERCENTILE=10,Cs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Cs.DEFAULT=new Cs(41943040,Cs.DEFAULT_COLLECTION_PERCENTILE,Cs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Cs.DISABLED=new Cs(-1,0,0);class ey{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.Vn={}}static de(e,t,r,i){At(""!==e.uid);const l=e.isAuthenticated()?e.uid:"";return new ey(l,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return bc(e).X({index:"userMutationsIndex",range:r},(i,l,c)=>{t=!1,c.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const l=kd(e),c=bc(e);return c.add({}).next(g=>{At("number"==typeof g);const _=new zm(g,t,r,i),D=function(Z,re,de){const Oe=de.baseMutations.map(wt=>mf(Z.fe,wt)),Se=de.mutations.map(wt=>mf(Z.fe,wt));return{userId:re,batchId:de.batchId,localWriteTimeMs:de.localWriteTime.toMillis(),baseMutations:Oe,mutations:Se}}(this.serializer,this.userId,_),S=[];let F=new Tr((Z,re)=>Jt(Z.canonicalString(),re.canonicalString()));for(const Z of i){const re=pv(this.userId,Z.key.path,g);F=F.add(Z.key.path.popLast()),S.push(c.put(D)),S.push(l.put(re,T1))}return F.forEach(Z=>{S.push(this.indexManager.addToCollectionParentIndex(e,Z))}),e.addOnCommittedListener(()=>{this.Vn[g]=_.keys()}),le.waitFor(S).next(()=>_)})}lookupMutationBatch(e,t){return bc(e).get(t).next(r=>r?(At(r.userId===this.userId),Sd(this.serializer,r)):null)}Sn(e,t){return this.Vn[t]?le.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.Vn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let l=null;return bc(e).X({index:"userMutationsIndex",range:i},(c,g,_)=>{g.userId===this.userId&&(At(g.batchId>=r),l=Sd(this.serializer,g)),_.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return bc(e).X({index:"userMutationsIndex",range:t,reverse:!0},(i,l,c)=>{r=l.batchId,c.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return bc(e).j("userMutationsIndex",t).next(r=>r.map(i=>Sd(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Am(this.userId,t.path),i=IDBKeyRange.lowerBound(r),l=[];return kd(e).X({range:i},(c,g,_)=>{const[D,S,F]=c,Z=cl(S);if(D===this.userId&&t.path.isEqual(Z))return bc(e).get(F).next(re=>{if(!re)throw pt();At(re.userId===this.userId),l.push(Sd(this.serializer,re))});_.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Tr(Jt);const i=[];return t.forEach(l=>{const c=Am(this.userId,l.path),g=IDBKeyRange.lowerBound(c),_=kd(e).X({range:g},(D,S,F)=>{const[Z,re,de]=D,Oe=cl(re);Z===this.userId&&l.path.isEqual(Oe)?r=r.add(de):F.done()});i.push(_)}),le.waitFor(i).next(()=>this.Dn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,l=Am(this.userId,r),c=IDBKeyRange.lowerBound(l);let g=new Tr(Jt);return kd(e).X({range:c},(_,D,S)=>{const[F,Z,re]=_,de=cl(Z);F===this.userId&&r.isPrefixOf(de)?de.length===i&&(g=g.add(re)):S.done()}).next(()=>this.Dn(e,g))}Dn(e,t){const r=[],i=[];return t.forEach(l=>{i.push(bc(e).get(l).next(c=>{if(null===c)throw pt();At(c.userId===this.userId),r.push(Sd(this.serializer,c))}))}),le.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return s0(e.ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),le.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return le.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return kd(e).X({range:r},(l,c,g)=>{if(l[0]===this.userId){const _=cl(l[1]);i.push(_)}else g.done()}).next(()=>{At(0===i.length)})})}containsKey(e,t){return UC(e,this.userId,t)}xn(e){return o0(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function UC(n,e,t){const r=Am(e,t.path),i=r[1],l=IDBKeyRange.lowerBound(r);let c=!1;return kd(n).X({range:l,Y:!0},(g,_,D)=>{const[S,F,Z]=g;S===e&&F===i&&(c=!0),D.done()}).next(()=>c)}function bc(n){return ki(n,"mutations")}function kd(n){return ki(n,"documentMutations")}function o0(n){return ki(n,"mutationQueues")}class Cc{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Cc(0)}static Mn(){return new Cc(-1)}}class _D{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const r=new Cc(t.highestTargetId);return t.highestTargetId=r.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>xt.fromTimestamp(new Dr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.$n(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.On(e,i)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(r=>(r.targetCount+=1,this.Bn(t,r),this.On(e,r))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>bf(e).delete(t.targetId)).next(()=>this.$n(e)).next(r=>(At(r.targetCount>0),r.targetCount-=1,this.On(e,r)))}removeTargets(e,t,r){let i=0;const l=[];return bf(e).X((c,g)=>{const _=_f(g);_.sequenceNumber<=t&&null===r.get(_.targetId)&&(i++,l.push(this.removeTargetData(e,_)))}).next(()=>le.waitFor(l)).next(()=>i)}forEachTarget(e,t){return bf(e).X((r,i)=>{const l=_f(i);t(l)})}$n(e){return a0(e).get("targetGlobalKey").next(t=>(At(null!==t),t))}On(e,t){return a0(e).put("targetGlobalKey",t)}Fn(e,t){return bf(e).put(cD(this.serializer,t))}Bn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const r=eu(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let l=null;return bf(e).X({range:i,index:"queryTargetsIndex"},(c,g,_)=>{const D=_f(g);lf(t,D.target)&&(l=D,_.done())}).next(()=>l)}addMatchingKeys(e,t,r){const i=[],l=gl(e);return t.forEach(c=>{const g=Gi(c.path);i.push(l.put({targetId:r,path:g})),i.push(this.referenceDelegate.addReference(e,r,c))}),le.waitFor(i)}removeMatchingKeys(e,t,r){const i=gl(e);return le.forEach(t,l=>{const c=Gi(l.path);return le.waitFor([i.delete([r,c]),this.referenceDelegate.removeReference(e,r,l)])})}removeMatchingKeysForTargetId(e,t){const r=gl(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=gl(e);let l=fn();return i.X({range:r,Y:!0},(c,g,_)=>{const D=cl(c[1]),S=new rt(D);l=l.add(S)}).next(()=>l)}containsKey(e,t){const r=Gi(t.path),i=IDBKeyRange.bound([r],[Rb(r)],!1,!0);let l=0;return gl(e).X({index:"documentTargetsIndex",Y:!0,range:i},([c,g],_,D)=>{0!==c&&(l++,D.done())}).next(()=>l>0)}le(e,t){return bf(e).get(t).next(r=>r?_f(r):null)}}function bf(n){return ki(n,"targets")}function a0(n){return ki(n,"targetGlobal")}function gl(n){return ki(n,"targetDocuments")}function vD([n,e],[t,r]){const i=Jt(n,t);return 0===i?Jt(e,r):i}class BC{constructor(e){this.Ln=e,this.buffer=new Tr(vD),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();vD(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class ty{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;Pe("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Ce.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){Bo(r)?Pe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield lc(r)}yield t.Qn(3e5)}))}}class wD{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return le.resolve(so.ct);const r=new BC(t);return this.jn.forEachTarget(e,i=>r.Kn(i.sequenceNumber)).next(()=>this.jn.Wn(e,i=>r.Kn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.jn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Pe("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(yD)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),yD):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let r,i,l,c,g,_,D;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(F=>(F>this.params.maximumSequenceNumbersToCollect?(Pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${F}`),i=this.params.maximumSequenceNumbersToCollect):i=F,c=Date.now(),this.nthSequenceNumber(e,i))).next(F=>(r=F,g=Date.now(),this.removeTargets(e,r,t))).next(F=>(l=F,_=Date.now(),this.removeOrphanedDocuments(e,r))).next(F=>(D=Date.now(),Jh()<=Wl.in.DEBUG&&Pe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-S}ms\n\tDetermined least recently used ${i} in `+(g-c)+`ms\n\tRemoved ${l} targets in `+(_-g)+`ms\n\tRemoved ${F} documents in `+(D-_)+`ms\nTotal Duration: ${D-S}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:l,documentsRemoved:F})))}}class WS{constructor(e,t){this.db=e,this.garbageCollector=function $C(n,e){return new wD(n,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Jn(e){let t=0;return this.Wn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(r,i)=>t(i))}addReference(e,t,r){return l0(e,r)}removeReference(e,t,r){return l0(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return l0(e,t)}Xn(e,t){return function(r,i){let l=!1;return o0(r).Z(c=>UC(r,c,i).next(g=>(g&&(l=!0),le.resolve(!g)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let l=0;return this.Yn(e,(c,g)=>{if(g<=t){const _=this.Xn(e,c).next(D=>{if(!D)return l++,r.getEntry(e,c).next(()=>(r.removeEntry(c,xt.min()),gl(e).delete([0,Gi(c.path)])))});i.push(_)}}).next(()=>le.waitFor(i)).next(()=>r.apply(e)).next(()=>l)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return l0(e,t)}Yn(e,t){const r=gl(e);let i,l=so.ct;return r.X({index:"documentTargetsIndex"},([c,g],{path:_,sequenceNumber:D})=>{0===c?(l!==so.ct&&t(new rt(cl(i)),l),l=D,i=_):l=so.ct}).next(()=>{l!==so.ct&&t(new rt(cl(i)),l)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function l0(n,e){return gl(n).put((r=n.currentSequenceNumber,{targetId:0,path:Gi(e.path),sequenceNumber:r}));var r}class jC{constructor(){this.changes=new mc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,dr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?le.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class bD{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Cf(e).put(r)}removeEntry(e,t,r){return Cf(e).delete(function(i,l){const c=i.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],pg(l),c[c.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Zn(e,r)))}getEntry(e,t){let r=dr.newInvalidDocument(t);return Cf(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(ny(t))},(i,l)=>{r=this.ts(t,l)}).next(()=>r)}es(e,t){let r={size:0,document:dr.newInvalidDocument(t)};return Cf(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(ny(t))},(i,l)=>{r={document:this.ts(t,l),size:Xm(l)}}).next(()=>r)}getEntries(e,t){let r=bs();return this.ns(e,t,(i,l)=>{const c=this.ts(i,l);r=r.insert(i,c)}).next(()=>r)}ss(e,t){let r=bs(),i=new Un(rt.comparator);return this.ns(e,t,(l,c)=>{const g=this.ts(l,c);r=r.insert(l,g),i=i.insert(l,Xm(c))}).next(()=>({documents:r,rs:i}))}ns(e,t,r){if(t.isEmpty())return le.resolve();let i=new Tr(ED);t.forEach(_=>i=i.add(_));const l=IDBKeyRange.bound(ny(i.first()),ny(i.last())),c=i.getIterator();let g=c.getNext();return Cf(e).X({index:"documentKeyIndex",range:l},(_,D,S)=>{const F=rt.fromSegments([...D.prefixPath,D.collectionGroup,D.documentId]);for(;g&&ED(g,F)<0;)r(g,null),g=c.getNext();g&&g.isEqual(F)&&(r(g,D),g=c.hasNext()?c.getNext():null),g?S.G(ny(g)):S.done()}).next(()=>{for(;g;)r(g,null),g=c.hasNext()?c.getNext():null})}getDocumentsMatchingQuery(e,t,r,i){const l=t.path,c=[l.popLast().toArray(),l.lastSegment(),pg(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],g=[l.popLast().toArray(),l.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Cf(e).j(IDBKeyRange.bound(c,g,!0)).next(_=>{let D=bs();for(const S of _){const F=this.ts(rt.fromSegments(S.prefixPath.concat(S.collectionGroup,S.documentId)),S);F.isFoundDocument()&&(pi(t,F)||i.has(F.key))&&(D=D.insert(F.key,F))}return D})}getAllFromCollectionGroup(e,t,r,i){let l=bs();const c=zC(t,r),g=zC(t,Fs.max());return Cf(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,g,!0)},(_,D,S)=>{const F=this.ts(rt.fromSegments(D.prefixPath.concat(D.collectionGroup,D.documentId)),D);l=l.insert(F.key,F),l.size===i&&S.done()}).next(()=>l)}newChangeBuffer(e){return new ZS(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return CD(e).get("remoteDocumentGlobalKey").next(t=>(At(!!t),t))}Zn(e,t){return CD(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const r=function uD(n,e){let t;if(e.document)t=xC(n.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=rt.fromSegments(e.noDocument.path),i=vc(e.noDocument.readTime);t=dr.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return pt();{const r=rt.fromSegments(e.unknownDocument.path),i=vc(e.unknownDocument.version);t=dr.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new Dr(r[0],r[1]);return xt.fromTimestamp(i)}(e.readTime)),t}(this.serializer,t);if(!r.isNoDocument()||!r.version.isEqual(xt.min()))return r}return dr.newInvalidDocument(e)}}function HC(n){return new bD(n)}class ZS extends jC{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new mc(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new Tr((l,c)=>Jt(l.canonicalString(),c.canonicalString()));return this.changes.forEach((l,c)=>{const g=this.us.get(l);if(t.push(this.os.removeEntry(e,l,g.readTime)),c.isValidDocument()){const _=kC(this.os.serializer,c);i=i.add(l.path.popLast());const D=Xm(_);r+=D-g.size,t.push(this.os.addEntry(e,l,_))}else if(r-=g.size,this.trackRemovals){const _=kC(this.os.serializer,c.convertToNoDocument(xt.min()));t.push(this.os.addEntry(e,l,_))}}),i.forEach(l=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,l))}),t.push(this.os.updateMetadata(e,r)),le.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(r=>(this.us.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:r,rs:i})=>(i.forEach((l,c)=>{this.us.set(l,{size:c,readTime:r.get(l).readTime})}),r))}}function CD(n){return ki(n,"remoteDocumentGlobal")}function Cf(n){return ki(n,"remoteDocumentsV14")}function ny(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function zC(n,e){const t=e.documentKey.path.toArray();return[n,pg(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function ED(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let l=0;l<t.length-2&&l<r.length-2;++l)if(i=Jt(t[l],r[l]),i)return i;return i=Jt(t.length,r.length),i||(i=Jt(t[t.length-2],r[r.length-2]),i||Jt(t[t.length-1],r[r.length-1]))}class KS{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class ID{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&cg(r.mutation,i,Ls.empty(),Dr.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,fn()).next(()=>r))}getLocalViewOfDocuments(e,t,r=fn()){const i=jo();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(l=>{let c=nu();return l.forEach((g,_)=>{c=c.insert(g,_.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const r=jo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,fn()))}populateOverlays(e,t,r){const i=[];return r.forEach(l=>{t.has(l)||i.push(l)}),this.documentOverlayCache.getOverlays(e,i).next(l=>{l.forEach((c,g)=>{t.set(c,g)})})}computeViews(e,t,r,i){let l=bs();const c=df(),g=df();return t.forEach((_,D)=>{const S=r.get(D.key);i.has(D.key)&&(void 0===S||S.mutation instanceof fl)?l=l.insert(D.key,D):void 0!==S?(c.set(D.key,S.mutation.getFieldMask()),cg(S.mutation,D,S.mutation.getFieldMask(),Dr.now())):c.set(D.key,Ls.empty())}),this.recalculateAndSaveOverlays(e,l).next(_=>(_.forEach((D,S)=>c.set(D,S)),t.forEach((D,S)=>{var F;return g.set(D,new KS(S,null!==(F=c.get(D))&&void 0!==F?F:null))}),g))}recalculateAndSaveOverlays(e,t){const r=df();let i=new Un((c,g)=>c-g),l=fn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const g of c)g.keys().forEach(_=>{const D=t.get(_);if(null===D)return;let S=r.get(_)||Ls.empty();S=g.applyToLocalView(D,S),r.set(_,S);const F=(i.get(g.batchId)||fn()).add(_);i=i.insert(g.batchId,F)})}).next(()=>{const c=[],g=i.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),D=_.key,S=_.value,F=dC();S.forEach(Z=>{if(!l.has(Z)){const re=Lv(t.get(Z),r.get(Z));null!==re&&F.set(Z,re),l=l.add(Z)}}),c.push(this.documentOverlayCache.saveOverlays(e,D,F))}return le.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return rt.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Vm(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(l=>{const c=i-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-l.size):le.resolve(jo());let g=-1,_=l;return c.next(D=>le.forEach(D,(S,F)=>(g<F.largestBatchId&&(g=F.largestBatchId),l.get(S)?le.resolve():this.remoteDocumentCache.getEntry(e,S).next(Z=>{_=_.insert(S,Z)}))).next(()=>this.populateOverlays(e,D,l)).next(()=>this.computeViews(e,_,D,fn())).next(S=>({batchId:g,changes:cC(S)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new rt(t)).next(r=>{let i=nu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let l=nu();return this.indexManager.getCollectionParents(e,i).next(c=>le.forEach(c,g=>{const _=(D=t,S=g.child(i),new tu(S,null,D.explicitOrderBy.slice(),D.filters.slice(),D.limit,D.limitType,D.startAt,D.endAt));var D,S;return this.getDocumentsMatchingCollectionQuery(e,_,r).next(D=>{D.forEach((S,F)=>{l=l.insert(S,F)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(l=>(i=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(l=>{i.forEach((g,_)=>{const D=_.getKey();null===l.get(D)&&(l=l.insert(D,dr.newInvalidDocument(D)))});let c=nu();return l.forEach((g,_)=>{const D=i.get(g);void 0!==D&&cg(D.mutation,_,Ls.empty(),Dr.now()),pi(t,_)&&(c=c.insert(g,_))}),c})}}class YS{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return le.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:Zr(r.createTime)}),le.resolve()}getNamedQuery(e,t){return le.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:gg(r.bundledQuery),readTime:Zr(r.readTime)}),le.resolve();var r}}class QS{constructor(){this.overlays=new Un(rt.comparator),this.ls=new Map}getOverlay(e,t){return le.resolve(this.overlays.get(t))}getOverlays(e,t){const r=jo();return le.forEach(t,i=>this.getOverlay(e,i).next(l=>{null!==l&&r.set(i,l)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,l)=>{this.we(e,t,l)}),le.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(l=>this.overlays=this.overlays.remove(l)),this.ls.delete(r)),le.resolve()}getOverlaysForCollection(e,t,r){const i=jo(),l=t.length+1,c=new rt(t.child("")),g=this.overlays.getIteratorFrom(c);for(;g.hasNext();){const _=g.getNext().value,D=_.getKey();if(!t.isPrefixOf(D.path))break;D.path.length===l&&_.largestBatchId>r&&i.set(_.getKey(),_)}return le.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let l=new Un((D,S)=>D-S);const c=this.overlays.getIterator();for(;c.hasNext();){const D=c.getNext().value;if(D.getKey().getCollectionGroup()===t&&D.largestBatchId>r){let S=l.get(D.largestBatchId);null===S&&(S=jo(),l=l.insert(D.largestBatchId,S)),S.set(D.getKey(),D)}}const g=jo(),_=l.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((D,S)=>g.set(D,S)),!(g.size()>=i)););return le.resolve(g)}we(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const c=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new wC(t,r));let l=this.ls.get(t);void 0===l&&(l=fn(),this.ls.set(t,l)),this.ls.set(t,l.add(r.key))}}class GC{constructor(){this.fs=new Tr(s.ds),this.ws=new Tr(s._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new s(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new s(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new rt(new An([])),r=new s(t,e),i=new s(t,e+1),l=[];return this.ws.forEachInRange([r,i],c=>{this.ys(c),l.push(c.key)}),l}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new rt(new An([])),r=new s(t,e),i=new s(t,e+1);let l=fn();return this.ws.forEachInRange([r,i],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new s(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class s{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return rt.comparator(e.key,t.key)||Jt(e.As,t.As)}static _s(e,t){return Jt(e.As,t.As)||rt.comparator(e.key,t.key)}}class o{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Tr(s.ds)}checkEmpty(e){return le.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const l=this.vs;this.vs++;const c=new zm(l,t,r,i);this.mutationQueue.push(c);for(const g of i)this.Rs=this.Rs.add(new s(g.key,l)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return le.resolve(c)}lookupMutationBatch(e,t){return le.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.bs(t+1),l=i<0?0:i;return le.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new s(t,0),i=new s(t,Number.POSITIVE_INFINITY),l=[];return this.Rs.forEachInRange([r,i],c=>{const g=this.Ps(c.As);l.push(g)}),le.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Tr(Jt);return t.forEach(i=>{const l=new s(i,0),c=new s(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([l,c],g=>{r=r.add(g.As)})}),le.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let l=r;rt.isDocumentKey(l)||(l=l.child(""));const c=new s(new rt(l),0);let g=new Tr(Jt);return this.Rs.forEachWhile(_=>{const D=_.key.path;return!!r.isPrefixOf(D)&&(D.length===i&&(g=g.add(_.As)),!0)},c),le.resolve(this.Vs(g))}Vs(e){const t=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){At(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return le.forEach(t.mutations,i=>{const l=new s(i.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new s(t,0),i=this.Rs.firstAfterOrEqual(r);return le.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return le.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class a{constructor(e){this.Ds=e,this.docs=new Un(rt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),l=i?i.size:0,c=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return le.resolve(r?r.document.mutableCopy():dr.newInvalidDocument(t))}getEntries(e,t){let r=bs();return t.forEach(i=>{const l=this.docs.get(i);r=r.insert(i,l?l.document.mutableCopy():dr.newInvalidDocument(i))}),le.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let l=bs();const c=t.path,g=new rt(c.child("")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:D,value:{document:S}}=_.getNext();if(!c.isPrefixOf(D.path))break;D.path.length>c.length+1||vd(Lb(S),r)<=0||(i.has(S.key)||pi(t,S))&&(l=l.insert(S.key,S.mutableCopy()))}return le.resolve(l)}getAllFromCollectionGroup(e,t,r,i){pt()}Cs(e,t){return le.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new d(this)}getSize(e){return le.resolve(this.size)}}class d extends jC{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),le.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class h{constructor(e){this.persistence=e,this.xs=new mc(t=>eu(t),lf),this.lastRemoteSnapshotVersion=xt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new GC,this.targetCount=0,this.Ms=Cc.kn()}forEachTarget(e,t){return this.xs.forEach((r,i)=>t(i)),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),le.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Cc(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,le.resolve()}updateTargetData(e,t){return this.Fn(t),le.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,t,r){let i=0;const l=[];return this.xs.forEach((c,g)=>{g.sequenceNumber<=t&&null===r.get(g.targetId)&&(this.xs.delete(c),l.push(this.removeMatchingKeysForTargetId(e,g.targetId)),i++)}),le.waitFor(l).next(()=>i)}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return le.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),le.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const i=this.persistence.referenceDelegate,l=[];return i&&t.forEach(c=>{l.push(i.markPotentiallyOrphaned(e,c))}),le.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),le.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return le.resolve(r)}containsKey(e,t){return le.resolve(this.ks.containsKey(t))}}class p{constructor(e,t){this.$s={},this.overlays={},this.Os=new so(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new h(this),this.indexManager=new VC,this.remoteDocumentCache=new a(r=>this.referenceDelegate.Ls(r)),this.serializer=new RC(t),this.qs=new YS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new QS,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new o(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){Pe("MemoryPersistence","Starting transaction:",e);const i=new y(this.Os.next());return this.referenceDelegate.Us(),r(i).next(l=>this.referenceDelegate.Ks(i).next(()=>l)).toPromise().then(l=>(i.raiseOnCommittedEvent(),l))}Gs(e,t){return le.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class y extends Ub{constructor(e){super(),this.currentSequenceNumber=e}}class C{constructor(e){this.persistence=e,this.Qs=new GC,this.js=null}static zs(e){return new C(e)}get Ws(){if(this.js)return this.js;throw pt()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),le.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),le.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),le.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(l=>this.Ws.add(l.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.Ws,r=>{const i=rt.fromPath(r);return this.Hs(e,i).next(l=>{l||t.removeEntry(i,xt.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return le.or([()=>le.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class x{constructor(e){this.serializer=e}O(e,t,r,i){const l=new Im("createOrUpgrade",t);var g;r<1&&i>=1&&(e.createObjectStore("owner"),(g=e).createObjectStore("mutationQueues",{keyPath:"userId"}),g.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Tm,{unique:!0}),g.createObjectStore("documentMutations"),N(e),function(g){g.createObjectStore("remoteDocuments")}(e));let c=le.resolve();return r<3&&i>=3&&(0!==r&&(function(g){g.deleteObjectStore("targetDocuments"),g.deleteObjectStore("targets"),g.deleteObjectStore("targetGlobal")}(e),N(e)),c=c.next(()=>function(g){const _=g.store("targetGlobal"),D={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:xt.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",D)}(l))),r<4&&i>=4&&(0!==r&&(c=c.next(()=>function(g,_){return _.store("mutations").j().next(D=>{g.deleteObjectStore("mutations"),g.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Tm,{unique:!0});const S=_.store("mutations"),F=D.map(Z=>S.put(Z));return le.waitFor(F)})}(e,l))),c=c.next(()=>{!function(g){g.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(c=c.next(()=>this.Ys(l))),r<6&&i>=6&&(c=c.next(()=>(function(g){g.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(l)))),r<7&&i>=7&&(c=c.next(()=>this.Zs(l))),r<8&&i>=8&&(c=c.next(()=>this.ti(e,l))),r<9&&i>=9&&(c=c.next(()=>{!function(g){g.objectStoreNames.contains("remoteDocumentChanges")&&g.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(c=c.next(()=>this.ei(l))),r<11&&i>=11&&(c=c.next(()=>{(function(g){g.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(g){g.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(c=c.next(()=>{!function(g){const _=g.createObjectStore("documentOverlays",{keyPath:Gb});_.createIndex("collectionPathOverlayIndex",F1,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",L1,{unique:!1})}(e)})),r<13&&i>=13&&(c=c.next(()=>function(g){const _=g.createObjectStore("remoteDocumentsV14",{keyPath:A1});_.createIndex("documentKeyIndex",S1),_.createIndex("collectionGroupIndex",x1)}(e)).next(()=>this.ni(e,l)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(c=c.next(()=>this.si(e,l))),r<15&&i>=15&&(c=c.next(()=>function(g){g.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),g.createObjectStore("indexState",{keyPath:Hb}).createIndex("sequenceNumberIndex",zb,{unique:!1}),g.createObjectStore("indexEntries",{keyPath:k1}).createIndex("documentKeyIndex",N1,{unique:!1})}(e))),c}Xs(e){let t=0;return e.store("remoteDocuments").X((r,i)=>{t+=Xm(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Ys(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.j().next(i=>le.forEach(i,l=>{const c=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",c).next(g=>le.forEach(g,_=>{At(_.userId===l.userId);const D=Sd(this.serializer,_);return s0(e,l.userId,D).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const l=[];return r.X((c,g)=>{const _=new An(c),D=[0,Gi(_)];l.push(t.get(D).next(S=>S?le.resolve():t.put({targetId:0,path:Gi(_),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>le.waitFor(l))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:R1});const r=t.store("collectionParents"),i=new vg,l=c=>{if(i.add(c)){const g=c.lastSegment(),_=c.popLast();return r.put({collectionId:g,parent:Gi(_)})}};return t.store("remoteDocuments").X({Y:!0},(c,g)=>{const _=new An(c);return l(_.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([c,g,_],D)=>{const S=cl(g);return l(S.popLast())}))}ei(e){const t=e.store("targets");return t.X((r,i)=>{const l=_f(i),c=cD(this.serializer,l);return t.put(c)})}ni(e,t){const r=t.store("remoteDocuments"),i=[];return r.X((l,c)=>{const g=t.store("remoteDocumentsV14"),_=(D=c,D.document?new rt(An.fromString(D.document.name).popFirst(5)):D.noDocument?rt.fromSegments(D.noDocument.path):D.unknownDocument?rt.fromSegments(D.unknownDocument.path):pt()).path.toArray();var D;const S={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};i.push(g.put(S))}).next(()=>le.waitFor(i))}si(e,t){const r=t.store("mutations"),i=HC(this.serializer),l=new p(C.zs,this.serializer.fe);return r.j().next(c=>{const g=new Map;return c.forEach(_=>{var D;let S=null!==(D=g.get(_.userId))&&void 0!==D?D:fn();Sd(this.serializer,_).keys().forEach(F=>S=S.add(F)),g.set(_.userId,S)}),le.forEach(g,(_,D)=>{const S=new Ri(D),F=xd.de(this.serializer,S),Z=l.getIndexManager(S),re=ey.de(S,this.serializer,Z,l.referenceDelegate);return new ID(i,re,F,Z).recalculateAndSaveOverlaysForDocumentKeys(new _v(t,so.ct),_).next()})})}}function N(n){n.createObjectStore("targetDocuments",{keyPath:P1}).createIndex("documentTargetsIndex",O1,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",M1,{unique:!0}),n.createObjectStore("targetGlobal")}const H="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class X{constructor(e,t,r,i,l,c,g,_,D,S,F=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.ii=l,this.window=c,this.document=g,this.ri=D,this.oi=S,this.ui=F,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=Z=>Promise.resolve(),!X.D())throw new Ve(fe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new WS(this,i),this.di=t+"main",this.serializer=new RC(_),this.wi=new Uo(this.di,this.ui,new x(this.serializer)),this.Bs=new _D(this.referenceDelegate,this.serializer),this.remoteDocumentCache=HC(this.serializer),this.qs=new NC,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===S&&ui("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ve(fe.FAILED_PRECONDITION,H);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new so(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var r=(0,Ce.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,Ce.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,Ce.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Ae(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(Bo(e))return Pe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Pe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return ie(e).get("owner").next(t=>le.resolve(this.Ri(t)))}Pi(e){return Ae(e).delete(this.clientId)}bi(){var e=this;return(0,Ce.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=ki(r,"clientMetadata");return i.j().next(l=>{const c=e.Si(l,18e5),g=l.filter(_=>-1===c.indexOf(_));return le.forEach(g,_=>i.delete(_.clientId)).next(()=>g)})}).catch(()=>[]);if(e._i)for(const r of t)e._i.removeItem(e.Di(r.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?le.resolve(!0):ie(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new Ve(fe.FAILED_PRECONDITION,H);return!1}}return!(!this.networkEnabled||!this.inForeground)||Ae(e).j().next(r=>void 0===this.Si(r,5e3).find(i=>!(this.clientId===i.clientId||!(!this.networkEnabled&&i.networkEnabled||!this.inForeground&&i.inForeground&&this.networkEnabled===i.networkEnabled))))}).next(t=>(this.isPrimary!==t&&Pe("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Ce.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new _v(t,so.ct);return e.Ai(r).next(()=>e.Pi(r))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(r=>this.Vi(r.updateTimeMs,t)&&!this.Ci(r.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>Ae(e).j().next(t=>this.Si(t,18e5).map(r=>r.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return ey.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new gD(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return xd.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,r){Pe("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",l=15===(c=this.ui)?yv:14===c?mv:13===c?Sm:12===c?gv:11===c?qb:void pt();var c;let g;return this.wi.runTransaction(e,i,l,_=>(g=new _v(_,this.Os?this.Os.next():so.ct),"readwrite-primary"===t?this.Ti(g).next(D=>!!D||this.Ei(g)).next(D=>{if(!D)throw ui(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new Ve(fe.FAILED_PRECONDITION,Vb);return r(g)}).next(D=>this.vi(g).next(()=>D)):this.Oi(g).next(()=>r(g)))).then(_=>(g.raiseOnCommittedEvent(),_))}Oi(e){return ie(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ve(fe.FAILED_PRECONDITION,H)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return ie(e).put("owner",t)}static D(){return Uo.D()}Ai(e){const t=ie(e);return t.get("owner").next(r=>this.Ri(r)?(Pe("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):le.resolve())}Vi(e,t){const r=Date.now();return!(e<r-t||e>r&&(ui(`Detected an update time that is in the future: ${e} > ${r}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,pn.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const r=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return Pe("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return ui("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){ui("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function ie(n){return ki(n,"owner")}function Ae(n){return ki(n,"clientMetadata")}function Ze(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class it{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=i}static Li(e,t){let r=fn(),i=fn();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:i=i.add(l.doc.key)}return new it(e,t.fromCache,r,i)}}class bt{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ki(e,t).next(l=>l||this.Gi(e,t,i,r)).next(l=>l||this.Qi(e,t))}Ki(e,t){if(Nm(t))return le.resolve(null);let r=ws(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=sg(t,null,"F"),r=ws(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(l=>{const c=fn(...l);return this.Ui.getDocuments(e,c).next(g=>this.indexManager.getMinOffset(e,r).next(_=>{const D=this.ji(t,g);return this.zi(t,D,c,_.readTime)?this.Ki(e,sg(t,null,"F")):this.Wi(e,D,t,_)}))})))}Gi(e,t,r,i){return Nm(t)||i.isEqual(xt.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(l=>{const c=this.ji(t,l);return this.zi(t,c,r,i)?this.Qi(e,t):(Jh()<=Wl.in.DEBUG&&Pe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Pv(t)),this.Wi(e,c,t,Fb(i,-1)))})}ji(e,t){let r=new Tr(uC(e));return t.forEach((i,l)=>{pi(e,l)&&(r=r.add(l))}),r}zi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const l="F"===e.limitType?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(i)>0)}Qi(e,t){return Jh()<=Wl.in.DEBUG&&Pe("QueryEngine","Using full collection scan to execute query:",Pv(t)),this.Ui.getDocumentsMatchingQuery(e,t,Fs.min())}Wi(e,t,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}class Wt{constructor(e,t,r,i){this.persistence=e,this.Hi=t,this.serializer=i,this.Ji=new Un(Jt),this.Yi=new mc(l=>eu(l),lf),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ID(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function je(n,e,t,r){return new Wt(n,e,t,r)}function ln(n,e){return hr.apply(this,arguments)}function hr(){return hr=(0,Ce.Z)(function*(n,e){const t=st(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(l=>(i=l,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(l=>{const c=[],g=[];let _=fn();for(const D of i){c.push(D.batchId);for(const S of D.mutations)_=_.add(S.key)}for(const D of l){g.push(D.batchId);for(const S of D.mutations)_=_.add(S.key)}return t.localDocuments.getDocuments(r,_).next(D=>({er:D,removedBatchIds:c,addedBatchIds:g}))})})}),hr.apply(this,arguments)}function DD(n){const e=st(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function JS(n,e,t){let r=fn(),i=fn();return t.forEach(l=>r=r.add(l)),e.getEntries(n,r).next(l=>{let c=bs();return t.forEach((g,_)=>{const D=l.get(g);_.isFoundDocument()!==D.isFoundDocument()&&(i=i.add(g)),_.isNoDocument()&&_.version.isEqual(xt.min())?(e.removeEntry(g,_.readTime),c=c.insert(g,_)):!D.isValidDocument()||_.version.compareTo(D.version)>0||0===_.version.compareTo(D.version)&&D.hasPendingWrites?(e.addEntry(_),c=c.insert(g,_)):Pe("LocalStore","Ignoring outdated watch update for ",g,". Current version:",D.version," Watch version:",_.version)}),{nr:c,sr:i}})}function HP(n,e){const t=st(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function ry(n,e){const t=st(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Bs.getTargetData(r,e).next(l=>l?(i=l,le.resolve(i)):t.Bs.allocateTargetId(r).next(c=>(i=new ou(e,c,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}function iy(n,e,t){return TD.apply(this,arguments)}function TD(){return TD=(0,Ce.Z)(function*(n,e,t){const r=st(n),i=r.Ji.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",l,c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!Bo(c))throw c;Pe("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),TD.apply(this,arguments)}function qC(n,e,t){const r=st(n);let i=xt.min(),l=fn();return r.persistence.runTransaction("Execute query","readonly",c=>function(g,_,D){const S=st(g),F=S.Yi.get(D);return void 0!==F?le.resolve(S.Ji.get(F)):S.Bs.getTargetData(_,D)}(r,c,ws(e)).next(g=>{if(g)return i=g.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(c,g.targetId).next(_=>{l=_})}).next(()=>r.Hi.getDocumentsMatchingQuery(c,e,t?i:xt.min(),t?l:fn())).next(g=>(tx(r,Id(e),g),{documents:g,ir:l})))}function XS(n,e){const t=st(n),r=st(t.Bs),i=t.Ji.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",l=>r.le(l,e).next(c=>c?c.target:null))}function ex(n,e){const t=st(n),r=t.Xi.get(e)||xt.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Zi.getAllFromCollectionGroup(i,e,Fb(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(tx(t,e,i),i))}function tx(n,e,t){let r=n.Xi.get(e)||xt.min();t.forEach((i,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),n.Xi.set(e,r)}function AD(){return AD=(0,Ce.Z)(function*(n,e,t,r){const i=st(n);let l=fn(),c=bs();for(const D of t){const S=e.rr(D.metadata.name);D.document&&(l=l.add(S));const F=e.ur(D);F.setReadTime(e.cr(D.metadata.readTime)),c=c.insert(S,F)}const g=i.Zi.newChangeBuffer({trackRemovals:!0}),_=yield ry(i,(D=r,ws(Ed(An.fromString(`__bundle__/docs/${D}`)))));var D;return i.persistence.runTransaction("Apply bundle documents","readwrite",D=>JS(D,g,c).next(S=>(g.apply(D),S)).next(S=>i.Bs.removeMatchingKeysForTargetId(D,_.targetId).next(()=>i.Bs.addMatchingKeys(D,l,_.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(D,S.nr,S.sr)).next(()=>S.nr)))}),AD.apply(this,arguments)}function GP(n,e){return SD.apply(this,arguments)}function SD(){return SD=(0,Ce.Z)(function*(n,e,t=fn()){const r=yield ry(n,ws(gg(e.bundledQuery))),i=st(n);return i.persistence.runTransaction("Save named query","readwrite",l=>{const c=Zr(e.readTime);if(r.snapshotVersion.compareTo(c)>=0)return i.qs.saveNamedQuery(l,e);const g=r.withResumeToken(ci.EMPTY_BYTE_STRING,c);return i.Ji=i.Ji.insert(g.targetId,g),i.Bs.updateTargetData(l,g).next(()=>i.Bs.removeMatchingKeysForTargetId(l,r.targetId)).next(()=>i.Bs.addMatchingKeys(l,t,r.targetId)).next(()=>i.qs.saveNamedQuery(l,e))})}),SD.apply(this,arguments)}function nx(n,e){return`firestore_clients_${n}_${e}`}function rx(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function xD(n,e){return`firestore_targets_${n}_${e}`}class WC{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static ar(e,t,r){const i=JSON.parse(r);let l,c="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return c&&i.error&&(c="string"==typeof i.error.message&&"string"==typeof i.error.code,c&&(l=new Ve(i.error.code,i.error.message))),c?new WC(e,t,i.state,l):(ui("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class u0{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static ar(e,t){const r=JSON.parse(t);let i,l="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return l&&r.error&&(l="string"==typeof r.error.message&&"string"==typeof r.error.code,l&&(i=new Ve(r.error.code,r.error.message))),l?new u0(e,r.state,i):(ui("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ZC{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,l=$m();for(let c=0;i&&c<r.activeTargetIds.length;++c)i=fv(r.activeTargetIds[c]),l=l.add(r.activeTargetIds[c]);return i?new ZC(e,l):(ui("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class MD{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new MD(t.clientId,t.onlineState):(ui("SharedClientState",`Failed to parse online state: ${e}`),null)}}class PD{constructor(){this.activeTargetIds=$m()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class OD{constructor(e,t,r,i,l){this.window=e,this.ii=t,this.persistenceKey=r,this.wr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new Un(Jt),this.started=!1,this.yr=[];const c=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.pr=nx(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new PD),this.Tr=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(g){return`firestore_bundle_loaded_v2_${g}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Ce.Z)(function*(){const t=yield e.syncEngine.$i();for(const i of t){if(i===e.wr)continue;const l=e.getItem(nx(e.persistenceKey,i));if(l){const c=ZC.ar(i,l);c&&(e.gr=e.gr.insert(c.clientId,c))}}e.Pr();const r=e.storage.getItem(e.vr);if(r){const i=e.br(r);i&&e.Vr(i)}for(const i of e.yr)e.mr(i);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,r){this.Dr(e,t,r),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(xD(this.persistenceKey,e));if(r){const i=u0.ar(e,r);i&&(t=i.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(xD(this.persistenceKey,e))}updateQueryState(e,t,r){this.kr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Cr(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Pe("SharedClientState","READ",e,t),t}setItem(e,t){Pe("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Pe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Pe("SharedClientState","EVENT",r.key,r.newValue),r.key===this.pr)return void ui("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,Ce.Z)(function*(){if(t.started){if(null!==r.key)if(t.Tr.test(r.key)){if(null==r.newValue){const i=t.Or(r.key);return t.Fr(i,null)}{const i=t.Br(r.key,r.newValue);if(i)return t.Fr(i.clientId,i)}}else if(t.Er.test(r.key)){if(null!==r.newValue){const i=t.Lr(r.key,r.newValue);if(i)return t.qr(i)}}else if(t.Ar.test(r.key)){if(null!==r.newValue){const i=t.Ur(r.key,r.newValue);if(i)return t.Kr(i)}}else if(r.key===t.vr){if(null!==r.newValue){const i=t.br(r.newValue);if(i)return t.Vr(i)}}else if(r.key===t.Ir){const i=function(l){let c=so.ct;if(null!=l)try{const g=JSON.parse(l);At("number"==typeof g),c=g}catch(g){ui("SharedClientState","Failed to read sequence number from WebStorage",g)}return c}(r.newValue);i!==so.ct&&t.sequenceNumberHandler(i)}else if(r.key===t.Rr){const i=t.Gr(r.newValue);yield Promise.all(i.map(l=>t.syncEngine.Qr(l)))}}else t.yr.push(r)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,r){const i=new WC(this.currentUser,e,t,r),l=rx(this.persistenceKey,this.currentUser,e);this.setItem(l,i.hr())}Cr(e){const t=rx(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,r){const i=xD(this.persistenceKey,e),l=new u0(e,t,r);this.setItem(i,l.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const r=this.Or(e);return ZC.ar(r,t)}Lr(e,t){const r=this.Er.exec(e),i=Number(r[1]);return WC.ar(new Ri(void 0!==r[2]?r[2]:null),i,t)}Ur(e,t){const r=this.Ar.exec(e),i=Number(r[1]);return u0.ar(i,t)}br(e){return MD.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,Ce.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);Pe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const r=t?this.gr.insert(e,t):this.gr.remove(e),i=this.Sr(this.gr),l=this.Sr(r),c=[],g=[];return l.forEach(_=>{i.has(_)||c.push(_)}),i.forEach(_=>{l.has(_)||g.push(_)}),this.syncEngine.Wr(c,g).then(()=>{this.gr=r})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=$m();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class ix{constructor(){this.Hr=new PD,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new PD,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class qP{Yr(e){}shutdown(){}}class sx{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Pe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Pe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let KC=null;function RD(){return null===KC?KC=268435456+Math.round(2147483648*Math.random()):KC++,"0x"+KC.toString(16)}const WP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ZP{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Vs="WebChannelConnection";class KP extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,i,l){const c=RD(),g=this.To(e,t);Pe("RestConnection",`Sending RPC '${e}' ${c}:`,g,r);const _={};return this.Eo(_,i,l),this.Ao(e,g,_,r).then(D=>(Pe("RestConnection",`Received RPC '${e}' ${c}: `,D),D),D=>{throw io("RestConnection",`RPC '${e}' ${c} failed with error: `,D,"url: ",g,"request:",r),D})}vo(e,t,r,i,l,c){return this.Io(e,t,r,i,l)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ia,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,l)=>e[l]=i),r&&r.headers.forEach((i,l)=>e[l]=i)}To(e,t){return`${this.mo}/v1/${t}:${WP[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,i){const l=RD();return new Promise((c,g)=>{const _=new FS;_.setWithCredentials(!0),_.listenOnce(NS.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case sc.NO_ERROR:const S=_.getResponseJson();Pe(Vs,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(S)),c(S);break;case sc.TIMEOUT:Pe(Vs,`RPC '${e}' ${l} timed out`),g(new Ve(fe.DEADLINE_EXCEEDED,"Request time out"));break;case sc.HTTP_ERROR:const F=_.getStatus();if(Pe(Vs,`RPC '${e}' ${l} failed with status:`,F,"response text:",_.getResponseText()),F>0){let Z=_.getResponseJson();Array.isArray(Z)&&(Z=Z[0]);const re=Z?.error;if(re&&re.status&&re.message){const de=function(Oe){const Se=Oe.toLowerCase().replace(/_/g,"-");return Object.values(fe).indexOf(Se)>=0?Se:fe.UNKNOWN}(re.status);g(new Ve(de,re.message))}else g(new Ve(fe.UNKNOWN,"Server responded with status "+_.getStatus()))}else g(new Ve(fe.UNAVAILABLE,"Connection failed."));break;default:pt()}}finally{Pe(Vs,`RPC '${e}' ${l} completed.`)}});const D=JSON.stringify(i);Pe(Vs,`RPC '${e}' ${l} sending request:`,i),_.send(t,"POST",D,r,15)})}Ro(e,t,r){const i=RD(),l=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=f1(),g=p1(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},D=this.longPollingOptions.timeoutSeconds;void 0!==D&&(_.longPollingTimeout=Math.round(1e3*D)),this.useFetchStreams&&(_.xmlHttpFactory=new Sb({})),this.Eo(_.initMessageHeaders,t,r),_.encodeInitMessageHeaders=!0;const S=l.join("");Pe(Vs,`Creating RPC '${e}' stream ${i}: ${S}`,_);const F=c.createWebChannel(S,_);let Z=!1,re=!1;const de=new ZP({ro:Se=>{re?Pe(Vs,`Not sending because RPC '${e}' stream ${i} is closed:`,Se):(Z||(Pe(Vs,`Opening RPC '${e}' stream ${i} transport.`),F.open(),Z=!0),Pe(Vs,`RPC '${e}' stream ${i} sending:`,Se),F.send(Se))},oo:()=>F.close()}),Oe=(Se,wt,It)=>{Se.listen(wt,ht=>{try{It(ht)}catch(Ct){setTimeout(()=>{throw Ct},0)}})};return Oe(F,zp.EventType.OPEN,()=>{re||Pe(Vs,`RPC '${e}' stream ${i} transport opened.`)}),Oe(F,zp.EventType.CLOSE,()=>{re||(re=!0,Pe(Vs,`RPC '${e}' stream ${i} transport closed`),de.wo())}),Oe(F,zp.EventType.ERROR,Se=>{re||(re=!0,io(Vs,`RPC '${e}' stream ${i} transport errored:`,Se),de.wo(new Ve(fe.UNAVAILABLE,"The operation could not be completed")))}),Oe(F,zp.EventType.MESSAGE,Se=>{var wt;if(!re){const It=Se.data[0];At(!!It);const Ct=It.error||(null===(wt=It[0])||void 0===wt?void 0:wt.error);if(Ct){Pe(Vs,`RPC '${e}' stream ${i} received error:`,Ct);const tn=Ct.status;let _n=function(Ta){const Iy=gi[Ta];if(void 0!==Iy)return X1(Iy)}(tn),Fi=Ct.message;void 0===_n&&(_n=fe.INTERNAL,Fi="Unknown error status: "+tn+" with message "+Ct.message),re=!0,de.wo(new Ve(_n,Fi)),F.close()}else Pe(Vs,`RPC '${e}' stream ${i} received:`,It),de._o(It)}}),Oe(g,uv.STAT_EVENT,Se=>{Se.stat===g1.PROXY?Pe(Vs,`RPC '${e}' stream ${i} detected buffering proxy`):Se.stat===g1.NOPROXY&&Pe(Vs,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{de.fo()},0),de}}function ox(){return typeof window<"u"?window:null}function YC(){return typeof document<"u"?document:null}function c0(n){return new rD(n,!0)}class kD{constructor(e,t,r=1e3,i=1.5,l=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=i,this.Vo=l,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,t-r);i>0&&Pe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class ax{constructor(e,t,r,i,l,c,g,_){this.ii=e,this.$o=r,this.Oo=i,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new kD(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,Ce.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,Ce.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return(0,Ce.Z)(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===fe.RESOURCE_EXHAUSTED?(ui(t.toString()),ui("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===fe.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===t&&this.Zo(r,i)},r=>{e(()=>{const i=new Ve(fe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No((0,Ce.Z)(function*(){e.state=0,e.start()}))}tu(e){return Pe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Pe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class YP extends ax{constructor(e,t,r,i,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,c),this.serializer=l}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function Wv(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:pt(),i=e.targetChange.targetIds||[],l=function(_,D){return _.useProto3Json?(At(void 0===D||"string"==typeof D),ci.fromBase64String(D||"")):(At(void 0===D||D instanceof Uint8Array),ci.fromUint8Array(D||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,g=c&&function(_){const D=void 0===_.code?fe.UNKNOWN:X1(_.code);return new Ve(D,_.message||"")}(c);t=new CC(r,i,l,g||null)}else if("documentChange"in e){const r=e.documentChange,i=zo(n,r.document.name),l=Zr(r.document.updateTime),c=r.document.createTime?Zr(r.document.createTime):xt.min(),g=new Ni({mapValue:{fields:r.document.fields}}),_=dr.newFoundDocument(i,l,c,g);t=new zv(r.targetIds||[],r.removedTargetIds||[],_.key,_)}else if("documentDelete"in e){const r=e.documentDelete,i=zo(n,r.document),l=r.readTime?Zr(r.readTime):xt.min(),c=dr.newNoDocument(i,l);t=new zv([],r.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const r=e.documentRemove,i=zo(n,r.document);t=new zv([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return pt();{const r=e.filter,{count:i=0,unchangedNames:l}=r,c=new BS(i,l);t=new eD(r.targetId,c)}}var _;return t}(this.serializer,e),r=function(i){if(!("targetChange"in i))return xt.min();const l=i.targetChange;return l.targetIds&&l.targetIds.length?xt.min():l.readTime?Zr(l.readTime):xt.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=as(this.serializer),t.addTarget=function(i,l){let c;const g=l.target;if(c=uf(g)?{documents:Zv(i,g)}:{query:Km(i,g)},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=DC(i,l.resumeToken);const _=Gv(i,l.expectedCount);null!==_&&(c.expectedCount=_)}else if(l.snapshotVersion.compareTo(xt.min())>0){c.readTime=hg(i,l.snapshotVersion.toTimestamp());const _=Gv(i,l.expectedCount);null!==_&&(c.expectedCount=_)}return c}(this.serializer,e);const r=function PC(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pt()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=as(this.serializer),t.removeTarget=e,this.Wo(t)}}class QP extends ax{constructor(e,t,r,i,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,c),this.serializer=l,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(At(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function oD(n,e){return n&&n.length>0?(At(void 0!==e),n.map(t=>function(r,i){let l=Zr(r.updateTime?r.updateTime:i);return l.isEqual(xt.min())&&(l=Zr(i)),new pC(l,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Zr(e.commitTime);return this.listener.cu(r,t)}return At(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=as(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>mf(this.serializer,r))};this.Wo(t)}}class JP extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new Ve(fe.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,l])=>this.connection.Io(e,t,r,i,l)).catch(i=>{throw"FirebaseError"===i.name?(i.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ve(fe.UNKNOWN,i.toString())})}vo(e,t,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.vo(e,t,r,l,c,i)).catch(l=>{throw"FirebaseError"===l.name?(l.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ve(fe.UNKNOWN,l.toString())})}terminate(){this.lu=!0}}class eO{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(ui(t),this.mu=!1):Pe("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class tO{constructor(e,t,r,i,l){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=l,this.Pu.Yr(g=>{r.enqueueAndForget((0,Ce.Z)(function*(){var _;Ef(c)&&(Pe("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,Ce.Z)(function*(D){const S=st(D);S.vu.add(4),yield sy(S),S.bu.set("Unknown"),S.vu.delete(4),yield d0(S)}),function(D){return _.apply(this,arguments)})(c))}))}),this.bu=new eO(r,i)}}function d0(n){return FD.apply(this,arguments)}function FD(){return FD=(0,Ce.Z)(function*(n){if(Ef(n))for(const e of n.Ru)yield e(!0)}),FD.apply(this,arguments)}function sy(n){return LD.apply(this,arguments)}function LD(){return LD=(0,Ce.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),LD.apply(this,arguments)}function QC(n,e){const t=st(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),BD(t)?UD(t):ay(t).Ko()&&VD(t,e))}function h0(n,e){const t=st(n),r=ay(t);t.Au.delete(e),r.Ko()&&lx(t,e),0===t.Au.size&&(r.Ko()?r.jo():Ef(t)&&t.bu.set("Unknown"))}function VD(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ay(n).su(e)}function lx(n,e){n.Vu.qt(e),ay(n).iu(e)}function UD(n){n.Vu=new qm({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),ay(n).start(),n.bu.gu()}function BD(n){return Ef(n)&&!ay(n).Uo()&&n.Au.size>0}function Ef(n){return 0===st(n).vu.size}function ux(n){n.Vu=void 0}function nO(n){return $D.apply(this,arguments)}function $D(){return $D=(0,Ce.Z)(function*(n){n.Au.forEach((e,t)=>{VD(n,e)})}),$D.apply(this,arguments)}function rO(n,e){return jD.apply(this,arguments)}function jD(){return jD=(0,Ce.Z)(function*(n,e){ux(n),BD(n)?(n.bu.Iu(e),UD(n)):n.bu.set("Unknown")}),jD.apply(this,arguments)}function iO(n,e,t){return HD.apply(this,arguments)}function HD(){return HD=(0,Ce.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof CC&&2===e.state&&e.cause)try{yield(r=(0,Ce.Z)(function*(i,l){const c=l.cause;for(const g of l.targetIds)i.Au.has(g)&&(yield i.remoteSyncer.rejectListen(g,c),i.Au.delete(g),i.Vu.removeTarget(g))}),function(i,l){return r.apply(this,arguments)})(n,e)}catch(r){Pe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield JC(n,r)}else if(e instanceof zv?n.Vu.Ht(e):e instanceof eD?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(xt.min()))try{const r=yield DD(n.localStore);t.compareTo(r)>=0&&(yield function(i,l){const c=i.Vu.ce(l);return c.targetChanges.forEach((g,_)=>{if(g.resumeToken.approximateByteSize()>0){const D=i.Au.get(_);D&&i.Au.set(_,D.withResumeToken(g.resumeToken,l))}}),c.targetMismatches.forEach((g,_)=>{const D=i.Au.get(g);if(!D)return;i.Au.set(g,D.withResumeToken(ci.EMPTY_BYTE_STRING,D.snapshotVersion)),lx(i,g);const S=new ou(D.target,g,_,D.sequenceNumber);VD(i,S)}),i.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){Pe("RemoteStore","Failed to raise snapshot:",r),yield JC(n,r)}var r}),HD.apply(this,arguments)}function JC(n,e,t){return zD.apply(this,arguments)}function zD(){return zD=(0,Ce.Z)(function*(n,e,t){if(!Bo(e))throw e;n.vu.add(1),yield sy(n),n.bu.set("Offline"),t||(t=()=>DD(n.localStore)),n.asyncQueue.enqueueRetryable((0,Ce.Z)(function*(){Pe("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield d0(n)}))}),zD.apply(this,arguments)}function cx(n,e){return e().catch(t=>JC(n,t,e))}function oy(n){return GD.apply(this,arguments)}function GD(){return GD=(0,Ce.Z)(function*(n){const e=st(n),t=If(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;sO(e);)try{const i=yield HP(e.localStore,r);if(null===i){0===e.Eu.length&&t.jo();break}r=i.batchId,oO(e,i)}catch(i){yield JC(e,i)}dx(e)&&hx(e)}),GD.apply(this,arguments)}function sO(n){return Ef(n)&&n.Eu.length<10}function oO(n,e){n.Eu.push(e);const t=If(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function dx(n){return Ef(n)&&!If(n).Uo()&&n.Eu.length>0}function hx(n){If(n).start()}function aO(n){return qD.apply(this,arguments)}function qD(){return qD=(0,Ce.Z)(function*(n){If(n).hu()}),qD.apply(this,arguments)}function lO(n){return WD.apply(this,arguments)}function WD(){return WD=(0,Ce.Z)(function*(n){const e=If(n);for(const t of n.Eu)e.uu(t.mutations)}),WD.apply(this,arguments)}function uO(n,e,t){return ZD.apply(this,arguments)}function ZD(){return ZD=(0,Ce.Z)(function*(n,e,t){const r=n.Eu.shift(),i=vC.from(r,e,t);yield cx(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield oy(n)}),ZD.apply(this,arguments)}function cO(n,e){return KD.apply(this,arguments)}function KD(){return KD=(0,Ce.Z)(function*(n,e){var t;e&&If(n).ou&&(yield(t=(0,Ce.Z)(function*(r,i){if(J1(l=i.code)&&l!==fe.ABORTED){const c=r.Eu.shift();If(r).Qo(),yield cx(r,()=>r.remoteSyncer.rejectFailedWrite(c.batchId,i)),yield oy(r)}var l}),function(r,i){return t.apply(this,arguments)})(n,e)),dx(n)&&hx(n)}),KD.apply(this,arguments)}function fx(n,e){return YD.apply(this,arguments)}function YD(){return YD=(0,Ce.Z)(function*(n,e){const t=st(n);t.asyncQueue.verifyOperationInProgress(),Pe("RemoteStore","RemoteStore received new credentials");const r=Ef(t);t.vu.add(3),yield sy(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield d0(t)}),YD.apply(this,arguments)}function QD(n,e){return JD.apply(this,arguments)}function JD(){return JD=(0,Ce.Z)(function*(n,e){const t=st(n);e?(t.vu.delete(2),yield d0(t)):e||(t.vu.add(2),yield sy(t),t.bu.set("Unknown"))}),JD.apply(this,arguments)}function ay(n){return n.Su||(n.Su=function(e,t,r){const i=st(e);return i.fu(),new YP(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:nO.bind(null,n),ao:rO.bind(null,n),nu:iO.bind(null,n)}),n.Ru.push(function(){var e=(0,Ce.Z)(function*(t){t?(n.Su.Qo(),BD(n)?UD(n):n.bu.set("Unknown")):(yield n.Su.stop(),ux(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function If(n){return n.Du||(n.Du=function(e,t,r){const i=st(e);return i.fu(),new QP(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:aO.bind(null,n),ao:cO.bind(null,n),au:lO.bind(null,n),cu:uO.bind(null,n)}),n.Ru.push(function(){var e=(0,Ce.Z)(function*(t){t?(n.Du.Qo(),yield oy(n)):(yield n.Du.stop(),n.Eu.length>0&&(Pe("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class XD{constructor(e,t,r,i,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=l,this.deferred=new fi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,r,i,l){const c=Date.now()+r,g=new XD(e,t,c,i,l);return g.start(r),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ve(fe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ly(n,e){if(ui("AsyncQueue",`${e}: ${n}`),Bo(n))return new Ve(fe.UNAVAILABLE,`${e}: ${n}`);throw n}class uy{constructor(e){this.comparator=e?(t,r)=>e(t,r)||rt.comparator(t.key,r.key):(t,r)=>rt.comparator(t.key,r.key),this.keyedMap=nu(),this.sortedSet=new Un(this.comparator)}static emptySet(e){return new uy(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof uy)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,l=r.getNext().key;if(!i.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new uy;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class px{constructor(){this.Cu=new Un(rt.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):pt():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class cy{constructor(e,t,r,i,l,c,g,_,D){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=D}static fromInitialDocuments(e,t,r,i,l){const c=[];return t.forEach(g=>{c.push({type:0,doc:g})}),new cy(e,t,uy.emptySet(t),c,r,i,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&og(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class dO{constructor(){this.Nu=void 0,this.listeners=[]}}class hO{constructor(){this.queries=new mc(e=>Mv(e),og),this.onlineState="Unknown",this.ku=new Set}}function eT(n,e){return tT.apply(this,arguments)}function tT(){return tT=(0,Ce.Z)(function*(n,e){const t=st(n),r=e.query;let i=!1,l=t.queries.get(r);if(l||(i=!0,l=new dO),i)try{l.Nu=yield t.onListen(r)}catch(c){const g=ly(c,`Initialization of query '${Pv(e.query)}' failed`);return void e.onError(g)}t.queries.set(r,l),l.listeners.push(e),e.Mu(t.onlineState),l.Nu&&e.$u(l.Nu)&&iT(t)}),tT.apply(this,arguments)}function nT(n,e){return rT.apply(this,arguments)}function rT(){return rT=(0,Ce.Z)(function*(n,e){const t=st(n),r=e.query;let i=!1;const l=t.queries.get(r);if(l){const c=l.listeners.indexOf(e);c>=0&&(l.listeners.splice(c,1),i=0===l.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),rT.apply(this,arguments)}function fO(n,e){const t=st(n);let r=!1;for(const i of e){const c=t.queries.get(i.query);if(c){for(const g of c.listeners)g.$u(i)&&(r=!0);c.Nu=i}}r&&iT(t)}function pO(n,e,t){const r=st(n),i=r.queries.get(e);if(i)for(const l of i.listeners)l.onError(t);r.queries.delete(e)}function iT(n){n.ku.forEach(e=>{e.next()})}class sT{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new cy(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=cy.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class gO{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class gx{constructor(e){this.serializer=e}rr(e){return zo(this.serializer,e)}ur(e){return e.metadata.exists?xC(this.serializer,e.document,!1):dr.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return Zr(e)}}class mO{constructor(e,t,r){this.ju=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=mx(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const r=An.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,r=new gx(this.serializer);for(const i of e)if(i.metadata.queries){const l=r.rr(i.metadata.name);for(const c of i.metadata.queries){const g=(t.get(c)||fn()).add(l);t.set(c,g)}}return t}complete(){var e=this;return(0,Ce.Z)(function*(){const t=yield function zP(n,e,t,r){return AD.apply(this,arguments)}(e.localStore,new gx(e.serializer),e.documents,e.ju.id),r=e.Wu(e.documents);for(const i of e.queries)yield GP(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function mx(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class yx{constructor(e){this.key=e}}class _x{constructor(e){this.key=e}}class vx{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=fn(),this.mutatedKeys=fn(),this.tc=uC(e),this.ec=new uy(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new px,i=t?t.ec:this.ec;let l=t?t.mutatedKeys:this.mutatedKeys,c=i,g=!1;const _="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,D="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((S,F)=>{const Z=i.get(S),re=pi(this.query,F)?F:null,de=!!Z&&this.mutatedKeys.has(Z.key),Oe=!!re&&(re.hasLocalMutations||this.mutatedKeys.has(re.key)&&re.hasCommittedMutations);let Se=!1;Z&&re?Z.data.isEqual(re.data)?de!==Oe&&(r.track({type:3,doc:re}),Se=!0):this.rc(Z,re)||(r.track({type:2,doc:re}),Se=!0,(_&&this.tc(re,_)>0||D&&this.tc(re,D)<0)&&(g=!0)):!Z&&re?(r.track({type:0,doc:re}),Se=!0):Z&&!re&&(r.track({type:1,doc:Z}),Se=!0,(_||D)&&(g=!0)),Se&&(re?(c=c.add(re),l=Oe?l.add(S):l.delete(S)):(c=c.delete(S),l=l.delete(S)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const S="F"===this.query.limitType?c.last():c.first();c=c.delete(S.key),l=l.delete(S.key),r.track({type:1,doc:S})}return{ec:c,ic:r,zi:g,mutatedKeys:l}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const l=e.ic.xu();l.sort((D,S)=>function(F,Z){const re=de=>{switch(de){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt()}};return re(F)-re(Z)}(D.type,S.type)||this.tc(D.doc,S.doc)),this.oc(r);const c=t?this.uc():[],g=0===this.Zu.size&&this.current?1:0,_=g!==this.Xu;return this.Xu=g,0!==l.length||_?{snapshot:new cy(this.query,e.ec,i,l,e.mutatedKeys,0===g,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:c}:{cc:c}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new px,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=fn(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new _x(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new yx(r))}),t}hc(e){this.Yu=e.ir,this.Zu=fn();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return cy.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class yO{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class _O{constructor(e){this.key=e,this.fc=!1}}class vO{constructor(e,t,r,i,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.dc={},this.wc=new mc(g=>Mv(g),og),this._c=new Map,this.mc=new Set,this.gc=new Un(rt.comparator),this.yc=new Map,this.Ic=new GC,this.Tc={},this.Ec=new Map,this.Ac=Cc.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function wO(n,e){return oT.apply(this,arguments)}function oT(){return oT=(0,Ce.Z)(function*(n,e){const t=xT(n);let r,i;const l=t.wc.get(e);if(l)r=l.targetId,t.sharedClientState.addLocalQueryTarget(r),i=l.view.lc();else{const c=yield ry(t.localStore,ws(e)),g=t.sharedClientState.addLocalQueryTarget(c.targetId);r=c.targetId,i=yield aT(t,e,r,"current"===g,c.resumeToken),t.isPrimaryClient&&QC(t.remoteStore,c)}return i}),oT.apply(this,arguments)}function aT(n,e,t,r,i){return lT.apply(this,arguments)}function lT(){return lT=(0,Ce.Z)(function*(n,e,t,r,i){n.Rc=(F,Z,re)=>{return(de=(0,Ce.Z)(function*(Oe,Se,wt,It){let ht=Se.view.sc(wt);ht.zi&&(ht=yield qC(Oe.localStore,Se.query,!1).then(({documents:_n})=>Se.view.sc(_n,ht)));const Ct=It&&It.targetChanges.get(Se.targetId),tn=Se.view.applyChanges(ht,Oe.isPrimaryClient,Ct);return _T(Oe,Se.targetId,tn.cc),tn.snapshot}),function(Oe,Se,wt,It){return de.apply(this,arguments)})(n,F,Z,re);var de};const l=yield qC(n.localStore,e,!0),c=new vx(e,l.ir),g=c.sc(l.documents),_=dg.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),D=c.applyChanges(g,n.isPrimaryClient,_);_T(n,t,D.cc);const S=new yO(e,t,c);return n.wc.set(e,S),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),D.snapshot}),lT.apply(this,arguments)}function bO(n,e){return uT.apply(this,arguments)}function uT(){return uT=(0,Ce.Z)(function*(n,e){const t=st(n),r=t.wc.get(e),i=t._c.get(r.targetId);if(i.length>1)return t._c.set(r.targetId,i.filter(l=>!og(l,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield iy(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),h0(t.remoteStore,r.targetId),dy(t,r.targetId)}).catch(lc))):(dy(t,r.targetId),yield iy(t.localStore,r.targetId,!0))}),uT.apply(this,arguments)}function cT(){return cT=(0,Ce.Z)(function*(n,e,t){const r=MT(n);try{const i=yield function(l,c){const g=st(l),_=Dr.now(),D=c.reduce((Z,re)=>Z.add(re.key),fn());let S,F;return g.persistence.runTransaction("Locally write mutations","readwrite",Z=>{let re=bs(),de=fn();return g.Zi.getEntries(Z,D).next(Oe=>{re=Oe,re.forEach((Se,wt)=>{wt.isValidDocument()||(de=de.add(Se))})}).next(()=>g.localDocuments.getOverlayedDocuments(Z,re)).next(Oe=>{S=Oe;const Se=[];for(const wt of c){const It=gC(wt,S.get(wt.key).overlayedDocument);null!=It&&Se.push(new fl(wt.key,It,Av(It.value.mapValue),yr.exists(!0)))}return g.mutationQueue.addMutationBatch(Z,_,Se,c)}).next(Oe=>{F=Oe;const Se=Oe.applyToLocalDocumentSet(S,de);return g.documentOverlayCache.saveOverlays(Z,Oe.batchId,Se)})}).then(()=>({batchId:F.batchId,changes:cC(S)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,c,g){let _=l.Tc[l.currentUser.toKey()];_||(_=new Un(Jt)),_=_.insert(c,g),l.Tc[l.currentUser.toKey()]=_}(r,i.batchId,t),yield Nd(r,i.changes),yield oy(r.remoteStore)}catch(i){const l=ly(i,"Failed to persist write");t.reject(l)}}),cT.apply(this,arguments)}function wx(n,e){return dT.apply(this,arguments)}function dT(){return dT=(0,Ce.Z)(function*(n,e){const t=st(n);try{const r=yield function jP(n,e){const t=st(n),r=e.snapshotVersion;let i=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.Zi.newChangeBuffer({trackRemovals:!0});i=t.Ji;const g=[];e.targetChanges.forEach((S,F)=>{const Z=i.get(F);if(!Z)return;g.push(t.Bs.removeMatchingKeys(l,S.removedDocuments,F).next(()=>t.Bs.addMatchingKeys(l,S.addedDocuments,F)));let re=Z.withSequenceNumber(l.currentSequenceNumber);var de,Oe,Se;null!==e.targetMismatches.get(F)?re=re.withResumeToken(ci.EMPTY_BYTE_STRING,xt.min()).withLastLimboFreeSnapshotVersion(xt.min()):S.resumeToken.approximateByteSize()>0&&(re=re.withResumeToken(S.resumeToken,r)),i=i.insert(F,re),Oe=re,Se=S,(0===(de=Z).resumeToken.approximateByteSize()||Oe.snapshotVersion.toMicroseconds()-de.snapshotVersion.toMicroseconds()>=3e8||Se.addedDocuments.size+Se.modifiedDocuments.size+Se.removedDocuments.size>0)&&g.push(t.Bs.updateTargetData(l,re))});let _=bs(),D=fn();if(e.documentUpdates.forEach(S=>{e.resolvedLimboDocuments.has(S)&&g.push(t.persistence.referenceDelegate.updateLimboDocument(l,S))}),g.push(JS(l,c,e.documentUpdates).next(S=>{_=S.nr,D=S.sr})),!r.isEqual(xt.min())){const S=t.Bs.getLastRemoteSnapshotVersion(l).next(F=>t.Bs.setTargetsMetadata(l,l.currentSequenceNumber,r));g.push(S)}return le.waitFor(g).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,_,D)).next(()=>_)}).then(l=>(t.Ji=i,l))}(t.localStore,e);e.targetChanges.forEach((i,l)=>{const c=t.yc.get(l);c&&(At(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?c.fc=!0:i.modifiedDocuments.size>0?At(c.fc):i.removedDocuments.size>0&&(At(c.fc),c.fc=!1))}),yield Nd(t,r,e)}catch(r){yield lc(r)}}),dT.apply(this,arguments)}function bx(n,e,t){const r=st(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.wc.forEach((l,c)=>{const g=c.view.Mu(e);g.snapshot&&i.push(g.snapshot)}),function(l,c){const g=st(l);g.onlineState=c;let _=!1;g.queries.forEach((D,S)=>{for(const F of S.listeners)F.Mu(c)&&(_=!0)}),_&&iT(g)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function EO(n,e,t){return hT.apply(this,arguments)}function hT(){return hT=(0,Ce.Z)(function*(n,e,t){const r=st(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.yc.get(e),l=i&&i.key;if(l){let c=new Un(rt.comparator);c=c.insert(l,dr.newNoDocument(l,xt.min()));const g=fn().add(l),_=new gf(xt.min(),new Map,new Un(Jt),c,g);yield wx(r,_),r.gc=r.gc.remove(l),r.yc.delete(e),vT(r)}else yield iy(r.localStore,e,!1).then(()=>dy(r,e,t)).catch(lc)}),hT.apply(this,arguments)}function IO(n,e){return fT.apply(this,arguments)}function fT(){return fT=(0,Ce.Z)(function*(n,e){const t=st(n),r=e.batch.batchId;try{const i=yield function ei(n,e){const t=st(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),l=t.Zi.newChangeBuffer({trackRemovals:!0});return function(c,g,_,D){const S=_.batch,F=S.keys();let Z=le.resolve();return F.forEach(re=>{Z=Z.next(()=>D.getEntry(g,re)).next(de=>{const Oe=_.docVersions.get(re);At(null!==Oe),de.version.compareTo(Oe)<0&&(S.applyToRemoteDocument(de,_),de.isValidDocument()&&(de.setReadTime(_.commitVersion),D.addEntry(de)))})}),Z.next(()=>c.mutationQueue.removeMutationBatch(g,S))}(t,r,e,l).next(()=>l.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let g=fn();for(let _=0;_<c.mutationResults.length;++_)c.mutationResults[_].transformResults.length>0&&(g=g.add(c.batch.mutations[_].key));return g}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);yT(t,r,null),mT(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Nd(t,i)}catch(i){yield lc(i)}}),fT.apply(this,arguments)}function DO(n,e,t){return pT.apply(this,arguments)}function pT(){return pT=(0,Ce.Z)(function*(n,e,t){const r=st(n);try{const i=yield function(l,c){const g=st(l);return g.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let D;return g.mutationQueue.lookupMutationBatch(_,c).next(S=>(At(null!==S),D=S.keys(),g.mutationQueue.removeMutationBatch(_,S))).next(()=>g.mutationQueue.performConsistencyCheck(_)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(_,D,c)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,D)).next(()=>g.localDocuments.getDocuments(_,D))})}(r.localStore,e);yT(r,e,t),mT(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Nd(r,i)}catch(i){yield lc(i)}}),pT.apply(this,arguments)}function gT(){return gT=(0,Ce.Z)(function*(n,e){const t=st(n);Ef(t.remoteStore)||Pe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(l){const c=st(l);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",g=>c.mutationQueue.getHighestUnacknowledgedBatchId(g))}(t.localStore);if(-1===r)return void e.resolve();const i=t.Ec.get(r)||[];i.push(e),t.Ec.set(r,i)}catch(r){const i=ly(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),gT.apply(this,arguments)}function mT(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function yT(n,e,t){const r=st(n);let i=r.Tc[r.currentUser.toKey()];if(i){const l=i.get(e);l&&(t?l.reject(t):l.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function dy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||Cx(n,r)})}function Cx(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(h0(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),vT(n))}function _T(n,e,t){for(const r of t)r instanceof yx?(n.Ic.addReference(r.key,e),AO(n,r)):r instanceof _x?(Pe("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||Cx(n,r.key)):pt()}function AO(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(Pe("SyncEngine","New document in limbo: "+t),n.mc.add(r),vT(n))}function vT(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new rt(An.fromString(e)),r=n.Ac.next();n.yc.set(r,new _O(t)),n.gc=n.gc.insert(t,r),QC(n.remoteStore,new ou(ws(Ed(t.path)),r,"TargetPurposeLimboResolution",so.ct))}}function Nd(n,e,t){return wT.apply(this,arguments)}function wT(){return wT=(0,Ce.Z)(function*(n,e,t){const r=st(n),i=[],l=[],c=[];var g;r.wc.isEmpty()||(r.wc.forEach((g,_)=>{c.push(r.Rc(_,e,t).then(D=>{if((D||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(_.targetId,D?.fromCache?"not-current":"current"),D){i.push(D);const S=it.Li(_.targetId,D);l.push(S)}}))}),yield Promise.all(c),r.dc.nu(i),yield(g=(0,Ce.Z)(function*(_,D){const S=st(_);try{yield S.persistence.runTransaction("notifyLocalViewChanges","readwrite",F=>le.forEach(D,Z=>le.forEach(Z.Fi,re=>S.persistence.referenceDelegate.addReference(F,Z.targetId,re)).next(()=>le.forEach(Z.Bi,re=>S.persistence.referenceDelegate.removeReference(F,Z.targetId,re)))))}catch(F){if(!Bo(F))throw F;Pe("LocalStore","Failed to update sequence numbers: "+F)}for(const F of D){const Z=F.targetId;if(!F.fromCache){const re=S.Ji.get(Z),Oe=re.withLastLimboFreeSnapshotVersion(re.snapshotVersion);S.Ji=S.Ji.insert(Z,Oe)}}}),function(_,D){return g.apply(this,arguments)})(r.localStore,l))}),wT.apply(this,arguments)}function SO(n,e){return bT.apply(this,arguments)}function bT(){return bT=(0,Ce.Z)(function*(n,e){const t=st(n);if(!t.currentUser.isEqual(e)){Pe("SyncEngine","User change. New user:",e.toKey());const r=yield ln(t.localStore,e);t.currentUser=e,(i=t).Ec.forEach(c=>{c.forEach(g=>{g.reject(new Ve(fe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Nd(t,r.er)}var i}),bT.apply(this,arguments)}function xO(n,e){const t=st(n),r=t.yc.get(e);if(r&&r.fc)return fn().add(r.key);{let i=fn();const l=t._c.get(e);if(!l)return i;for(const c of l){const g=t.wc.get(c);i=i.unionWith(g.view.nc)}return i}}function MO(n,e){return CT.apply(this,arguments)}function CT(){return CT=(0,Ce.Z)(function*(n,e){const t=st(n),r=yield qC(t.localStore,e.query,!0),i=e.view.hc(r);return t.isPrimaryClient&&_T(t,e.targetId,i.cc),i}),CT.apply(this,arguments)}function PO(n,e){return ET.apply(this,arguments)}function ET(){return ET=(0,Ce.Z)(function*(n,e){const t=st(n);return ex(t.localStore,e).then(r=>Nd(t,r))}),ET.apply(this,arguments)}function OO(n,e,t,r){return IT.apply(this,arguments)}function IT(){return IT=(0,Ce.Z)(function*(n,e,t,r){const i=st(n),l=yield function(c,g){const _=st(c),D=st(_.mutationQueue);return _.persistence.runTransaction("Lookup mutation documents","readonly",S=>D.Sn(S,g).next(F=>F?_.localDocuments.getDocuments(S,F):le.resolve(null)))}(i.localStore,e);var g;null!==l?("pending"===t?yield oy(i.remoteStore):"acknowledged"===t||"rejected"===t?(yT(i,e,r||null),mT(i,e),g=e,st(st(i.localStore).mutationQueue).Cn(g)):pt(),yield Nd(i,l)):Pe("SyncEngine","Cannot apply mutation batch with id: "+e)}),IT.apply(this,arguments)}function DT(){return DT=(0,Ce.Z)(function*(n,e){const t=st(n);if(xT(t),MT(t),!0===e&&!0!==t.vc){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield Ex(t,r.toArray());t.vc=!0,yield QD(t.remoteStore,!0);for(const l of i)QC(t.remoteStore,l)}else if(!1===e&&!1!==t.vc){const r=[];let i=Promise.resolve();t._c.forEach((l,c)=>{t.sharedClientState.isLocalQueryTarget(c)?r.push(c):i=i.then(()=>(dy(t,c),iy(t.localStore,c,!0))),h0(t.remoteStore,c)}),yield i,yield Ex(t,r),function(l){const c=st(l);c.yc.forEach((g,_)=>{h0(c.remoteStore,_)}),c.Ic.Ts(),c.yc=new Map,c.gc=new Un(rt.comparator)}(t),t.vc=!1,yield QD(t.remoteStore,!1)}}),DT.apply(this,arguments)}function Ex(n,e,t){return TT.apply(this,arguments)}function TT(){return TT=(0,Ce.Z)(function*(n,e,t){const r=st(n),i=[],l=[];for(const c of e){let g;const _=r._c.get(c);if(_&&0!==_.length){g=yield ry(r.localStore,ws(_[0]));for(const D of _){const S=r.wc.get(D),F=yield MO(r,S);F.snapshot&&l.push(F.snapshot)}}else{const D=yield XS(r.localStore,c);g=yield ry(r.localStore,D),yield aT(r,Ix(D),c,!1,g.resumeToken)}i.push(g)}return r.dc.nu(l),i}),TT.apply(this,arguments)}function Ix(n){return lC(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function kO(n){const e=st(n);return st(st(e.localStore).persistence).$i()}function NO(n,e,t,r){return AT.apply(this,arguments)}function AT(){return AT=(0,Ce.Z)(function*(n,e,t,r){const i=st(n);if(i.vc)return void Pe("SyncEngine","Ignoring unexpected query state notification.");const l=i._c.get(e);if(l&&l.length>0)switch(t){case"current":case"not-current":{const c=yield ex(i.localStore,Id(l[0])),g=gf.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,ci.EMPTY_BYTE_STRING);yield Nd(i,c,g);break}case"rejected":yield iy(i.localStore,e,!0),dy(i,e,r);break;default:pt()}}),AT.apply(this,arguments)}function FO(n,e,t){return ST.apply(this,arguments)}function ST(){return ST=(0,Ce.Z)(function*(n,e,t){const r=xT(n);if(r.vc){for(const i of e){if(r._c.has(i)){Pe("SyncEngine","Adding an already active target "+i);continue}const l=yield XS(r.localStore,i),c=yield ry(r.localStore,l);yield aT(r,Ix(l),c.targetId,!1,c.resumeToken),QC(r.remoteStore,c)}for(const i of t)r._c.has(i)&&(yield iy(r.localStore,i,!1).then(()=>{h0(r.remoteStore,i),dy(r,i)}).catch(lc))}}),ST.apply(this,arguments)}function xT(n){const e=st(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=wx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=xO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=EO.bind(null,e),e.dc.nu=fO.bind(null,e.eventManager),e.dc.Pc=pO.bind(null,e.eventManager),e}function MT(n){const e=st(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=IO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=DO.bind(null,e),e}class f0{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Ce.Z)(function*(){t.serializer=c0(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return je(this.persistence,new bt,e.initialUser,this.serializer)}createPersistence(e){return new p(C.zs,this.serializer)}createSharedClientState(e){return new ix}terminate(){var e=this;return(0,Ce.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class PT extends f0{constructor(e,t,r){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,Ce.Z)(function*(){yield t().call(r,e),yield r.Vc.initialize(r,e),yield MT(r.Vc.syncEngine),yield oy(r.Vc.remoteStore),yield r.persistence.Ii(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return je(this.persistence,new bt,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new ty(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const r=new $b(t,this.persistence);return new I1(e.asyncQueue,r)}createPersistence(e){const t=Ze(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Cs.withCacheSize(this.cacheSizeBytes):Cs.DEFAULT;return new X(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,ox(),YC(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new ix}}class Dx extends PT{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,Ce.Z)(function*(){yield t().call(r,e);const i=r.Vc.syncEngine;r.sharedClientState instanceof OD&&(r.sharedClientState.syncEngine={jr:OO.bind(null,i),zr:NO.bind(null,i),Wr:FO.bind(null,i),$i:kO.bind(null,i),Qr:PO.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.Ii(function(){var l=(0,Ce.Z)(function*(c){yield function RO(n,e){return DT.apply(this,arguments)}(r.Vc.syncEngine,c),r.gcScheduler&&(c&&!r.gcScheduler.started?r.gcScheduler.start():c||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(c&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():c||r.indexBackfillerScheduler.stop())});return function(c){return l.apply(this,arguments)}}())})()}createSharedClientState(e){const t=ox();if(!OD.D(t))throw new Ve(fe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=Ze(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new OD(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class hy{initialize(e,t){var r=this;return(0,Ce.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>bx(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=SO.bind(null,r.syncEngine),yield QD(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new hO}createDatastore(e){const t=c0(e.databaseInfo.databaseId),r=new KP(e.databaseInfo);return new JP(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,l=g=>bx(this.syncEngine,g,0),c=sx.D()?new sx:new qP,new tO(t,r,i,l,c);var t,r,i,l,c}createSyncEngine(e,t){return function(r,i,l,c,g,_,D){const S=new vO(r,i,l,c,g,_);return D&&(S.vc=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Ce.Z)(function*(t){const r=st(t);Pe("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield sy(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Tx(n,e=10240){let t=0;return{read:()=>(0,Ce.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,Ce.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class XC{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):ui("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class UO{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new fi,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(r=>{r&&r.Qu()?this.metadata.resolve(r.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Gu)}`))},r=>this.metadata.reject(r))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,Ce.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,Ce.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,Ce.Z)(function*(){const t=yield e.kc();if(null===t)return null;const r=e.xc.decode(t),i=Number(r);isNaN(i)&&e.Mc(`length string (${r}) is not valid number`);const l=yield e.$c(i);return new gO(JSON.parse(l),t.length+i)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,Ce.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}$c(e){var t=this;return(0,Ce.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const r=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,Ce.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class BO{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Ce.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Ve(fe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,Ce.Z)(function*(l,c){const g=st(l),_=as(g.serializer)+"/documents",D={documents:c.map(re=>fg(g.serializer,re))},S=yield g.vo("BatchGetDocuments",_,D,c.length),F=new Map;S.forEach(re=>{const de=function sD(n,e){return"found"in e?function(t,r){At(!!r.found);const i=zo(t,r.found.name),l=Zr(r.found.updateTime),c=r.found.createTime?Zr(r.found.createTime):xt.min(),g=new Ni({mapValue:{fields:r.found.fields}});return dr.newFoundDocument(i,l,c,g)}(n,e):"missing"in e?function(t,r){At(!!r.missing),At(!!r.readTime);const i=zo(t,r.missing),l=Zr(r.readTime);return dr.newNoDocument(i,l)}(n,e):pt()}(g.serializer,re);F.set(de.key.toString(),de)});const Z=[];return c.forEach(re=>{const de=F.get(re.toString());At(!!de),Z.push(de)}),Z}),function(l,c){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new ff(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Ce.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const l=rt.fromPath(i);e.mutations.push(new _C(l,e.precondition(l)))}),yield(r=(0,Ce.Z)(function*(i,l){const c=st(i),g=as(c.serializer)+"/documents",_={writes:l.map(D=>mf(c.serializer,D))};yield c.Io("Commit",g,_)}),function(i,l){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw pt();t=xt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Ve(fe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(xt.min())?yr.exists(!1):yr.updateTime(t):yr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(xt.min()))throw new Ve(fe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return yr.updateTime(t)}return yr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class $O{constructor(e,t,r,i,l){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=l,this.Bc=r.maxAttempts,this.qo=new kD(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,Ce.Z)(function*(){const t=new BO(e.datastore),r=e.qc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(l=>{e.Uc(l)}))}).catch(i=>{e.Uc(i)})}))}qc(e){try{const t=this.updateFunction(e);return!wd(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!J1(t)}return!1}}class jO{constructor(e,t,r,i){var l=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Ri.UNAUTHENTICATED,this.clientId=Xh.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var c=(0,Ce.Z)(function*(g){Pe("FirestoreClient","Received user=",g.uid),yield l.authCredentialListener(g),l.user=g});return function(g){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(r,c=>(Pe("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,Ce.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ve(fe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new fi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ce.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=ly(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function eE(n,e){return OT.apply(this,arguments)}function OT(){return OT=(0,Ce.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Pe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,Ce.Z)(function*(l){r.isEqual(l)||(yield ln(e.localStore,l),r=l)});return function(l){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),OT.apply(this,arguments)}function RT(n,e){return kT.apply(this,arguments)}function kT(){return kT=(0,Ce.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield NT(n);Pe("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>fx(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,l)=>fx(e.remoteStore,l)),n._onlineComponents=e}),kT.apply(this,arguments)}function Ax(n){return"FirebaseError"===n.name?n.code===fe.FAILED_PRECONDITION||n.code===fe.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function NT(n){return FT.apply(this,arguments)}function FT(){return FT=(0,Ce.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Pe("FirestoreClient","Using user provided OfflineComponentProvider");try{yield eE(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!Ax(t))throw t;io("Error using user provided cache. Falling back to memory cache: "+t),yield eE(n,new f0)}}else Pe("FirestoreClient","Using default OfflineComponentProvider"),yield eE(n,new f0);return n._offlineComponents}),FT.apply(this,arguments)}function tE(n){return LT.apply(this,arguments)}function LT(){return LT=(0,Ce.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Pe("FirestoreClient","Using user provided OnlineComponentProvider"),yield RT(n,n._uninitializedComponentsProvider._online)):(Pe("FirestoreClient","Using default OnlineComponentProvider"),yield RT(n,new hy))),n._onlineComponents}),LT.apply(this,arguments)}function Sx(n){return NT(n).then(e=>e.persistence)}function nE(n){return NT(n).then(e=>e.localStore)}function xx(n){return tE(n).then(e=>e.remoteStore)}function VT(n){return tE(n).then(e=>e.syncEngine)}function fy(n){return UT.apply(this,arguments)}function UT(){return UT=(0,Ce.Z)(function*(n){const e=yield tE(n),t=e.eventManager;return t.onListen=wO.bind(null,e.syncEngine),t.onUnlisten=bO.bind(null,e.syncEngine),t}),UT.apply(this,arguments)}function Px(n,e,t={}){const r=new fi;return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return function(i,l,c,g,_){const D=new XC({next:F=>{l.enqueueAndForget(()=>nT(i,S));const Z=F.docs.has(c);!Z&&F.fromCache?_.reject(new Ve(fe.UNAVAILABLE,"Failed to get document because the client is offline.")):Z&&F.fromCache&&g&&"server"===g.source?_.reject(new Ve(fe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(F)},error:F=>_.reject(F)}),S=new sT(Ed(c.path),D,{includeMetadataChanges:!0,Ku:!0});return eT(i,S)}(yield fy(n),n.asyncQueue,e,t,r)})),r.promise}function Ox(n,e,t={}){const r=new fi;return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return function(i,l,c,g,_){const D=new XC({next:F=>{l.enqueueAndForget(()=>nT(i,S)),F.fromCache&&"server"===g.source?_.reject(new Ve(fe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(F)},error:F=>_.reject(F)}),S=new sT(c,D,{includeMetadataChanges:!0,Ku:!0});return eT(i,S)}(yield fy(n),n.asyncQueue,e,t,r)})),r.promise}function Rx(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const kx=new Map;function BT(n,e,t){if(!t)throw new Ve(fe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Nx(n,e,t,r){if(!0===e&&!0===r)throw new Ve(fe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Fx(n){if(!rt.isDocumentKey(n))throw new Ve(fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Lx(n){if(rt.isDocumentKey(n))throw new Ve(fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function rE(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":pt()}function Mn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ve(fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=rE(n);throw new Ve(fe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Vx(n,e){if(e<=0)throw new Ve(fe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class Ux{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new Ve(fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ve(fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Nx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Rx(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new Ve(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Ve(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Ve(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class p0{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ux({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ve(fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ve(fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ux(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Gp;switch(t.type){case"firstParty":return new Cm(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Ve(fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=kx.get(e);t&&(Pe("ComponentProvider","Removing Datastore"),kx.delete(e),t.terminate())}(this),Promise.resolve()}}function Bx(n,e,t,r={}){var i;const l=(n=Mn(n,p0))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==e&&io("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},l),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let c,g;if("string"==typeof r.mockUserToken)c=r.mockUserToken,g=Ri.MOCK_USER;else{c=(0,pn.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new Ve(fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Ri(_)}n._authCredentials=new m1(new Pb(c,g))}}class Vr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ec(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vr(this.firestore,e,this._key)}}class Es{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Es(this.firestore,e,this._query)}}class Ec extends Es{constructor(e,t,r){super(e,t,Ed(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vr(this.firestore,null,new rt(e))}withConverter(e){return new Ec(this.firestore,e,this._path)}}function $x(n,e,...t){if(n=(0,pn.m9)(n),BT("collection","path",e),n instanceof p0){const r=An.fromString(e,...t);return Lx(r),new Ec(n,null,r)}{if(!(n instanceof Vr||n instanceof Ec))throw new Ve(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(An.fromString(e,...t));return Lx(r),new Ec(n.firestore,null,r)}}function iE(n,e,...t){if(n=(0,pn.m9)(n),1===arguments.length&&(e=Xh.A()),BT("doc","path",e),n instanceof p0){const r=An.fromString(e,...t);return Fx(r),new Vr(n,null,new rt(r))}{if(!(n instanceof Vr||n instanceof Ec))throw new Ve(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(An.fromString(e,...t));return Fx(r),new Vr(n.firestore,n instanceof Ec?n.converter:null,new rt(r))}}function jx(n,e){return n=(0,pn.m9)(n),e=(0,pn.m9)(e),(n instanceof Vr||n instanceof Ec)&&(e instanceof Vr||e instanceof Ec)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function $T(n,e){return n=(0,pn.m9)(n),e=(0,pn.m9)(e),n instanceof Es&&e instanceof Es&&n.firestore===e.firestore&&og(n._query,e._query)&&n.converter===e.converter}class JO{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new kD(this,"async_queue_retry"),this.Xc=()=>{const t=YC();t&&Pe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=YC();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=YC();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new fi;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,Ce.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Bo(t))throw t;Pe("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,ui("INTERNAL UNHANDLED ERROR: ",function(l){let c=l.message||"";return l.stack&&(c=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),c}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const i=XD.createAndSchedule(this,e,t,r,l=>this.na(l));return this.zc.push(i),i}Zc(){this.Wc&&pt()}verifyOperationInProgress(){}sa(){var e=this;return(0,Ce.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function jT(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class XO{constructor(){this._progressObserver={},this._taskCompletionResolver=new fi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Ur extends p0{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new JO,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Hx(this),this._firestoreClient.terminate()}}function tR(n,e){const t="object"==typeof n?n:(0,vs.getApp)(),r="string"==typeof n?n:e||"(default)",i=(0,vs._getProvider)(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const l=(0,pn.P0)("firestore");l&&Bx(i,...l)}return i}function mi(n){return n._firestoreClient||Hx(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function Hx(n){var e,t,r;const i=n._freezeSettings(),l=(g=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new U1(n._databaseId,g,n._persistenceKey,(D=i).host,D.ssl,D.experimentalForceLongPolling,D.experimentalAutoDetectLongPolling,Rx(D.experimentalLongPollingOptions),D.useFetchStreams));var g,D;n._firestoreClient=new jO(n._authCredentials,n._appCheckCredentials,n._queue,l),null!==(t=i.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function zx(n,e,t){const r=new fi;return n.asyncQueue.enqueue((0,Ce.Z)(function*(){try{yield eE(n,t),yield RT(n,e),r.resolve()}catch(i){const l=i;if(!Ax(l))throw l;io("Error enabling indexeddb cache. Falling back to memory cache: "+l),r.reject(l)}})).then(()=>r.promise)}function Gx(n){if(n._initialized||n._terminated)throw new Ve(fe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ic{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ic(ci.fromBase64String(e))}catch(t){throw new Ve(fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ic(ci.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Fd{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ve(fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class wg{constructor(e){this._methodName=e}}class sE{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ve(fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ve(fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Jt(this._lat,e._lat)||Jt(this._long,e._long)}}const dR=/^__.*__$/;class hR{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new fl(e,this.data,this.fieldMask,t,this.fieldTransforms):new Td(e,this.data,t,this.fieldTransforms)}}class qx{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new fl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Wx(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pt()}}class oE{constructor(e,t,r,i,l,c){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===l&&this.ua(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new oE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return uE(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(Wx(this.ca)&&dR.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class fR{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||c0(e)}ya(e,t,r,i=!1){return new oE({ca:e,methodName:t,ga:r,path:Fr.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function bg(n){const e=n._freezeSettings(),t=c0(n._databaseId);return new fR(n._databaseId,!!e.ignoreUndefinedProperties,t)}function aE(n,e,t,r,i,l={}){const c=n.ya(l.merge||l.mergeFields?2:0,e,t,i);qT("Data must be an object, but it was:",c,r);const g=Yx(r,c);let _,D;if(l.merge)_=new Ls(c.fieldMask),D=c.fieldTransforms;else if(l.mergeFields){const S=[];for(const F of l.mergeFields){const Z=y0(e,F,t);if(!c.contains(Z))throw new Ve(fe.INVALID_ARGUMENT,`Field '${Z}' is specified in your field mask but missing from your input data.`);Jx(S,Z)||S.push(Z)}_=new Ls(S),D=c.fieldTransforms.filter(F=>_.covers(F.field))}else _=null,D=c.fieldTransforms;return new hR(new Ni(g),_,D)}class m0 extends wg{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof m0}}function Zx(n,e,t){return new oE({ca:3,ga:e.settings.ga,methodName:n._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class HT extends wg{_toFieldTransform(e){return new lg(e.path,new Da)}isEqual(e){return e instanceof HT}}class pR extends wg{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=Zx(this,e,!0),r=this.pa.map(l=>Cg(l,t)),i=new Dd(r);return new lg(e.path,i)}isEqual(e){return this===e}}class gR extends wg{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=Zx(this,e,!0),r=this.pa.map(l=>Cg(l,t)),i=new ru(r);return new lg(e.path,i)}isEqual(e){return this===e}}class mR extends wg{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new hf(e.serializer,jm(e.serializer,this.Ia));return new lg(e.path,t)}isEqual(e){return this===e}}function zT(n,e,t,r){const i=n.ya(1,e,t);qT("Data must be an object, but it was:",i,r);const l=[],c=Ni.empty();cc(r,(_,D)=>{const S=lE(e,_,t);D=(0,pn.m9)(D);const F=i.da(S);if(D instanceof m0)l.push(S);else{const Z=Cg(D,F);null!=Z&&(l.push(S),c.set(S,Z))}});const g=new Ls(l);return new qx(c,g,i.fieldTransforms)}function GT(n,e,t,r,i,l){const c=n.ya(1,e,t),g=[y0(e,r,t)],_=[i];if(l.length%2!=0)throw new Ve(fe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Z=0;Z<l.length;Z+=2)g.push(y0(e,l[Z])),_.push(l[Z+1]);const D=[],S=Ni.empty();for(let Z=g.length-1;Z>=0;--Z)if(!Jx(D,g[Z])){const re=g[Z];let de=_[Z];de=(0,pn.m9)(de);const Oe=c.da(re);if(de instanceof m0)D.push(re);else{const Se=Cg(de,Oe);null!=Se&&(D.push(re),S.set(re,Se))}}const F=new Ls(D);return new qx(S,F,c.fieldTransforms)}function Kx(n,e,t,r=!1){return Cg(t,n.ya(r?4:3,e))}function Cg(n,e){if(Qx(n=(0,pn.m9)(n)))return qT("Unsupported field value:",e,n),Yx(n,e);if(n instanceof wg)return function(t,r){if(!Wx(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const i=[];let l=0;for(const c of t){let g=Cg(c,r.wa(l));null==g&&(g={nullValue:"NULL_VALUE"}),i.push(g),l++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,pn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return jm(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Dr.fromDate(t);return{timestampValue:hg(r.serializer,i)}}if(t instanceof Dr){const i=new Dr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:hg(r.serializer,i)}}if(t instanceof sE)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ic)return{bytesValue:DC(r.serializer,t._byteString)};if(t instanceof Vr){const i=r.databaseId,l=t.firestore._databaseId;if(!l.isEqual(i))throw r._a(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:AC(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${rE(t)}`)}(n,e)}function Yx(n,e){const t={};return vv(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):cc(n,(r,i)=>{const l=Cg(i,e.ha(r));null!=l&&(t[r]=l)}),{mapValue:{fields:t}}}function Qx(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Dr||n instanceof sE||n instanceof Ic||n instanceof Vr||n instanceof wg)}function qT(n,e,t){if(!Qx(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=rE(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function y0(n,e,t){if((e=(0,pn.m9)(e))instanceof Fd)return e._internalPath;if("string"==typeof e)return lE(n,e);throw uE("Field path arguments must be of type string or ",n,!1,void 0,t)}const yR=new RegExp("[~\\*/\\[\\]]");function lE(n,e,t){if(e.search(yR)>=0)throw uE(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Fd(...e.split("."))._internalPath}catch{throw uE(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function uE(n,e,t,r,i){const l=r&&!r.isEmpty(),c=void 0!==i;let g=`Function ${e}() called with invalid data`;t&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(l||c)&&(_+=" (found",l&&(_+=` in field ${r}`),c&&(_+=` in document ${i}`),_+=")"),new Ve(fe.INVALID_ARGUMENT,g+n+_)}function Jx(n,e){return n.some(t=>t.isEqual(e))}class _0{constructor(e,t,r,i,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Vr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new _R(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(cE("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class _R extends _0{data(){return super.data()}}function cE(n,e){return"string"==typeof e?lE(n,e):e instanceof Fd?e._internalPath:e._delegate._internalPath}function Xx(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ve(fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class WT{}class v0 extends WT{}function Df(n,e,...t){let r=[];e instanceof WT&&r.push(e),r=r.concat(t),function(i){const l=i.filter(g=>g instanceof py).length,c=i.filter(g=>g instanceof w0).length;if(l>1||l>0&&c>0)throw new Ve(fe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class w0 extends v0{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new w0(e,t,r)}_apply(e){const t=this._parse(e);return r2(e._query,t),new Es(e.firestore,e.converter,Um(e._query,t))}_parse(e){const t=bg(e.firestore);return function(i,l,c,g,_,D,S){let F;if(_.isKeyField()){if("array-contains"===D||"array-contains-any"===D)throw new Ve(fe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${D}' queries on documentId().`);if("in"===D||"not-in"===D){n2(S,D);const Z=[];for(const re of S)Z.push(t2(g,i,re));F={arrayValue:{values:Z}}}else F=t2(g,i,S)}else"in"!==D&&"not-in"!==D&&"array-contains-any"!==D||n2(S,D),F=Kx(c,"where",S,"in"===D||"not-in"===D);return Dn.create(_,D,F)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class py extends WT{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new py(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:Nn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,i){let l=r;const c=i.getFlattenedFilters();for(const g of c)r2(l,g),l=Um(l,g)}(e._query,t),new Es(e.firestore,e.converter,Um(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class ZT extends v0{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new ZT(e,t)}_apply(e){const t=function(r,i,l){if(null!==r.startAt)throw new Ve(fe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Ve(fe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new Cd(i,l);return function(g,_){if(null===Fm(g)){const D=Lm(g);null!==D&&i2(0,D,_.field)}}(r,c),c}(e._query,this._field,this._direction);return new Es(e.firestore,e.converter,function(r,i){const l=r.explicitOrderBy.concat([i]);return new tu(r.path,r.collectionGroup,l,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class dE extends v0{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new dE(e,t,r)}_apply(e){return new Es(e.firestore,e.converter,sg(e._query,this._limit,this._limitType))}}class hE extends v0{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new hE(e,t,r)}_apply(e){const t=e2(e,this.type,this._docOrFields,this._inclusive);return new Es(e.firestore,e.converter,(i=t,new tu((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class fE extends v0{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new fE(e,t,r)}_apply(e){const t=e2(e,this.type,this._docOrFields,this._inclusive);return new Es(e.firestore,e.converter,(i=t,new tu((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function e2(n,e,t,r){if(t[0]=(0,pn.m9)(t[0]),t[0]instanceof _0)return function(i,l,c,g,_){if(!g)throw new Ve(fe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const D=[];for(const S of gc(i))if(S.field.isKeyField())D.push(fc(l,g.key));else{const F=g.data.field(S.field);if(Kp(F))throw new Ve(fe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+S.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===F){const Z=S.field.canonicalString();throw new Ve(fe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Z}' (used as the orderBy) does not exist.`)}D.push(F)}return new pc(D,_)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=bg(n.firestore);return function(l,c,g,_,D,S){const F=l.explicitOrderBy;if(D.length>F.length)throw new Ve(fe.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Z=[];for(let re=0;re<D.length;re++){const de=D[re];if(F[re].field.isKeyField()){if("string"!=typeof de)throw new Ve(fe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof de}`);if(!Vm(l)&&-1!==de.indexOf("/"))throw new Ve(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${de}' contains a slash.`);const Oe=l.path.child(An.fromString(de));if(!rt.isDocumentKey(Oe))throw new Ve(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${Oe}' is not because it contains an odd number of segments.`);const Se=new rt(Oe);Z.push(fc(c,Se))}else{const Oe=Kx(g,_,de);Z.push(Oe)}}return new pc(Z,S)}(n._query,n.firestore._databaseId,i,e,t,r)}}function t2(n,e,t){if("string"==typeof(t=(0,pn.m9)(t))){if(""===t)throw new Ve(fe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Vm(e)&&-1!==t.indexOf("/"))throw new Ve(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(An.fromString(t));if(!rt.isDocumentKey(r))throw new Ve(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return fc(n,new rt(r))}if(t instanceof Vr)return fc(n,t._key);throw new Ve(fe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${rE(t)}.`)}function n2(n,e){if(!Array.isArray(n)||0===n.length)throw new Ve(fe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function r2(n,e){if(e.isInequality()){const r=Lm(n),i=e.field;if(null!==r&&!r.isEqual(i))throw new Ve(fe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const l=Fm(n);null!==l&&i2(0,i,l)}const t=function(r,i){for(const l of r)for(const c of l.getFlattenedFilters())if(i.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Ve(fe.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function i2(n,e,t){if(!t.isEqual(e))throw new Ve(fe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class KT{convertValue(e,t="none"){switch(Xl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Lr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(dl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw pt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return cc(e,(i,l)=>{r[i]=this.convertValue(l,t)}),r}convertGeoPoint(e){return new sE(Lr(e.latitude),Lr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Pm(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Yp(e));default:return null}}convertTimestamp(e){const t=Ql(e);return new Dr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=An.fromString(e);At(lD(r));const i=new hc(r.get(1),r.get(3)),l=new rt(r.popFirst(5));return i.isEqual(t)||ui(`Document ${l} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function pE(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class AR extends KT{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ic(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Vr(this.firestore,null,t)}}class Eg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ld extends _0{constructor(e,t,r,i,l,c){super(e,t,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new b0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(cE("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class b0 extends Ld{data(e={}){return super.data(e)}}class Tf{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Eg(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new b0(this._firestore,this._userDataWriter,r.key,r,new Eg(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ve(fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(c=>({type:"added",doc:new b0(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Eg(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:l++}))}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>i||3!==c.type).map(c=>{const g=new b0(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Eg(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let _=-1,D=-1;return 0!==c.type&&(_=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),1!==c.type&&(l=l.add(c.doc),D=l.indexOf(c.doc.key)),{type:xR(c.type),doc:g,oldIndex:_,newIndex:D}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function xR(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pt()}}function o2(n,e){return n instanceof Ld&&e instanceof Ld?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Tf&&e instanceof Tf&&n._firestore===e._firestore&&$T(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Af extends KT{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ic(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Vr(this.firestore,null,t)}}function a2(n,e,t){n=Mn(n,Vr);const r=Mn(n.firestore,Ur),i=pE(n.converter,e,t);return gy(r,[aE(bg(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,yr.none())])}function l2(n,e,t,...r){n=Mn(n,Vr);const i=Mn(n.firestore,Ur),l=bg(i);let c;return c="string"==typeof(e=(0,pn.m9)(e))||e instanceof Fd?GT(l,"updateDoc",n._key,e,t,r):zT(l,"updateDoc",n._key,e),gy(i,[c.toMutation(n._key,yr.exists(!0))])}function u2(n,...e){var t,r,i;n=(0,pn.m9)(n);let l={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||jT(e[c])||(l=e[c],c++);const g={includeMetadataChanges:l.includeMetadataChanges};if(jT(e[c])){const F=e[c];e[c]=null===(t=F.next)||void 0===t?void 0:t.bind(F),e[c+1]=null===(r=F.error)||void 0===r?void 0:r.bind(F),e[c+2]=null===(i=F.complete)||void 0===i?void 0:i.bind(F)}let _,D,S;if(n instanceof Vr)D=Mn(n.firestore,Ur),S=Ed(n._key.path),_={next:F=>{e[c]&&e[c](YT(D,n,F))},error:e[c+1],complete:e[c+2]};else{const F=Mn(n,Es);D=Mn(F.firestore,Ur),S=F._query;const Z=new Af(D);_={next:re=>{e[c]&&e[c](new Tf(D,Z,F,re))},error:e[c+1],complete:e[c+2]},Xx(n._query)}return function(F,Z,re,de){const Oe=new XC(de),Se=new sT(Z,Oe,re);return F.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return eT(yield fy(F),Se)})),()=>{Oe.Dc(),F.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return nT(yield fy(F),Se)}))}}(mi(D),S,g,_)}function gy(n,e){return function(t,r){const i=new fi;return t.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return function CO(n,e,t){return cT.apply(this,arguments)}(yield VT(t),r,i)})),i.promise}(mi(n),e)}function YT(n,e,t){const r=t.docs.get(e._key),i=new Af(n);return new Ld(n,i,e._key,r,new Eg(t.hasPendingWrites,t.fromCache),e.converter)}const WR={maxAttempts:5};class c2{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=bg(e)}set(e,t,r){this._verifyNotCommitted();const i=Sf(e,this._firestore),l=pE(i.converter,t,r),c=aE(this._dataReader,"WriteBatch.set",i._key,l,null!==i.converter,r);return this._mutations.push(c.toMutation(i._key,yr.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const l=Sf(e,this._firestore);let c;return c="string"==typeof(t=(0,pn.m9)(t))||t instanceof Fd?GT(this._dataReader,"WriteBatch.update",l._key,t,r,i):zT(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(c.toMutation(l._key,yr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Sf(e,this._firestore);return this._mutations=this._mutations.concat(new ff(t._key,yr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ve(fe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Sf(n,e){if((n=(0,pn.m9)(n)).firestore!==e)throw new Ve(fe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class ZR extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=bg(e)}get(e){const t=Sf(e,this._firestore),r=new AR(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return pt();const l=i[0];if(l.isFoundDocument())return new _0(this._firestore,r,l.key,l,t.converter);if(l.isNoDocument())return new _0(this._firestore,r,t._key,null,t.converter);throw pt()})}set(e,t,r){const i=Sf(e,this._firestore),l=pE(i.converter,t,r),c=aE(this._dataReader,"Transaction.set",i._key,l,null!==i.converter,r);return this._transaction.set(i._key,c),this}update(e,t,r,...i){const l=Sf(e,this._firestore);let c;return c="string"==typeof(t=(0,pn.m9)(t))||t instanceof Fd?GT(this._dataReader,"Transaction.update",l._key,t,r,i):zT(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,c),this}delete(e){const t=Sf(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Sf(e,this._firestore),r=new Af(this._firestore);return super.get(e).then(i=>new Ld(this._firestore,r,t._key,i._document,new Eg(!1,!1),t.converter))}}!function(n,e=!0){Ia=vs.SDK_VERSION,(0,vs._registerComponent)(new fp.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const l=t.getProvider("app").getImmediate(),c=new Ur(new y1(t.getProvider("auth-internal")),new Ob(t.getProvider("app-check-internal")),function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new Ve(fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hc(g.options.projectId,_)}(l,r),l);return i=Object.assign({useFetchStreams:e},i),c._setSettings(i),c},"PUBLIC").setMultipleInstances(!0)),(0,vs.registerVersion)(xb,"3.12.1",n),(0,vs.registerVersion)(xb,"3.12.1","esm2017")}();function QT(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ve("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function h2(){if(typeof Uint8Array>"u")throw new Ve("unimplemented","Uint8Arrays are not available in this environment.")}function f2(){if(!function V1(){return typeof atob<"u"}())throw new Ve("unimplemented","Blobs are unavailable in Firestore in this environment.")}class C0{constructor(e){this._delegate=e}static fromBase64String(e){return f2(),new C0(Ic.fromBase64String(e))}static fromUint8Array(e){return h2(),new C0(Ic.fromUint8Array(e))}toBase64(){return f2(),this._delegate.toBase64()}toUint8Array(){return h2(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function JT(n){return function rk(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class ik{enableIndexedDbPersistence(e,t){return function nR(n,e){Gx(n=Mn(n,Ur));const t=mi(n);if(t._uninitializedComponentsProvider)throw new Ve(fe.FAILED_PRECONDITION,"SDK cache is already specified.");io("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=n._freezeSettings(),i=new hy;return zx(t,i,new PT(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function rR(n){Gx(n=Mn(n,Ur));const e=mi(n);if(e._uninitializedComponentsProvider)throw new Ve(fe.FAILED_PRECONDITION,"SDK cache is already specified.");io("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),r=new hy;return zx(e,r,new Dx(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function iR(n){if(n._initialized&&!n._terminated)throw new Ve(fe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new fi;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Ce.Z)(function*(){try{yield(t=(0,Ce.Z)(function*(r){if(!Uo.D())return Promise.resolve();const i=r+"main";yield Uo.delete(i)}),function(r){return t.apply(this,arguments)})(Ze(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class p2{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof hc||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&io("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){Bx(this._delegate,e,t,r)}enableNetwork(){return function oR(n){return function HO(n){return n.asyncQueue.enqueue((0,Ce.Z)(function*(){const e=yield Sx(n),t=yield xx(n);return e.setNetworkEnabled(!0),function(r){const i=st(r);return i.vu.delete(0),d0(i)}(t)}))}(mi(n=Mn(n,Ur)))}(this._delegate)}disableNetwork(){return function aR(n){return function zO(n){return n.asyncQueue.enqueue((0,Ce.Z)(function*(){const e=yield Sx(n),t=yield xx(n);return e.setNetworkEnabled(!1),(r=(0,Ce.Z)(function*(i){const l=st(i);l.vu.add(0),yield sy(l),l.bu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(mi(n=Mn(n,Ur)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,Nx("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function sR(n){return function(e){const t=new fi;return e.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return function TO(n,e){return gT.apply(this,arguments)}(yield VT(e),t)})),t.promise}(mi(n=Mn(n,Ur)))}(this._delegate)}onSnapshotsInSync(e){return function VR(n,e){return function WO(n,e){const t=new XC(e);return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return r=yield fy(n),i=t,st(r).ku.add(i),void i.next();var r,i})),()=>{t.Dc(),n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return r=yield fy(n),i=t,void st(r).ku.delete(i);var r,i}))}}(mi(n=Mn(n,Ur)),jT(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ve("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new my(this,$x(this._delegate,e))}catch(t){throw oo(t,"collection()","Firestore.collection()")}}doc(e){try{return new ml(this,iE(this._delegate,e))}catch(t){throw oo(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new ao(this,function QO(n,e){if(n=Mn(n,p0),BT("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ve(fe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Es(n,null,(t=e,new tu(An.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw oo(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function KR(n,e,t){n=Mn(n,Ur);const r=Object.assign(Object.assign({},WR),t);return function(i){if(i.maxAttempts<1)throw new Ve(fe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,l,c){const g=new fi;return i.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){const _=yield function Mx(n){return tE(n).then(e=>e.datastore)}(i);new $O(i.asyncQueue,_,c,l,g).run()})),g.promise}(mi(n),i=>e(new ZR(n,i)),r)}(this._delegate,t=>e(new g2(this,t)))}batch(){return mi(this._delegate),new m2(new c2(this._delegate,e=>gy(this._delegate,e)))}loadBundle(e){return function lR(n,e){const t=mi(n=Mn(n,Ur)),r=new XO;return function ZO(n,e,t,r){const i=function(l,c){let g;return g="string"==typeof l?$v().encode(l):l,_=function(_,D){if(_ instanceof Uint8Array)return Tx(_,D);if(_ instanceof ArrayBuffer)return Tx(new Uint8Array(_),D);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(g),new UO(_,c);var _}(t,c0(e));n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){!function LO(n,e,t){const r=st(n);var i;(i=(0,Ce.Z)(function*(l,c,g){try{const _=yield c.getMetadata();if(yield function(Z,re){const de=st(Z),Oe=Zr(re.createTime);return de.persistence.runTransaction("hasNewerBundle","readonly",Se=>de.qs.getBundleMetadata(Se,re.id)).then(Se=>!!Se&&Se.createTime.compareTo(Oe)>=0)}(l.localStore,_))return yield c.close(),g._completeWith({taskState:"Success",documentsLoaded:(Z=_).totalDocuments,bytesLoaded:Z.totalBytes,totalDocuments:Z.totalDocuments,totalBytes:Z.totalBytes}),Promise.resolve(new Set);g._updateProgress(mx(_));const D=new mO(_,l.localStore,c.serializer);let S=yield c.bc();for(;S;){const Z=yield D.zu(S);Z&&g._updateProgress(Z),S=yield c.bc()}const F=yield D.complete();return yield Nd(l,F.Ju,void 0),yield function(Z,re){const de=st(Z);return de.persistence.runTransaction("Save bundle","readwrite",Oe=>de.qs.saveBundleMetadata(Oe,re))}(l.localStore,_),g._completeWith(F.progress),Promise.resolve(F.Hu)}catch(_){return io("SyncEngine",`Loading bundle failed with ${_}`),g._failWith(_),Promise.resolve(new Set)}var Z}),function(l,c,g){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield VT(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function uR(n,e){return function KO(n,e){return n.asyncQueue.enqueue((0,Ce.Z)(function*(){return function(t,r){const i=st(t);return i.persistence.runTransaction("Get named query","readonly",l=>i.qs.getNamedQuery(l,r))}(yield nE(n),e)}))}(mi(n=Mn(n,Ur)),e).then(t=>t?new Es(n,null,t.query):null)}(this._delegate,e).then(t=>t?new ao(this,t):null)}}class gE extends KT{constructor(e){super(),this.firestore=e}convertBytes(e){return new C0(new Ic(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ml.forKey(t,this.firestore,null)}}class g2{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new gE(e)}get(e){const t=Dg(e);return this._delegate.get(t).then(r=>new E0(this._firestore,new Ld(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=Dg(e);return r?(QT("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const l=Dg(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...i),this}delete(e){const t=Dg(e);return this._delegate.delete(t),this}}class m2{constructor(e){this._delegate=e}set(e,t,r){const i=Dg(e);return r?(QT("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const l=Dg(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...i),this}delete(e){const t=Dg(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Ig{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new b0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new I0(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Ig.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let l=i.get(t);return l||(l=new Ig(e,new gE(e),t),i.set(t,l)),l}}Ig.INSTANCES=new WeakMap;class ml{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new gE(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Ve("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ml(t,new Vr(t._delegate,r,new rt(e)))}static forKey(e,t,r){return new ml(t,new Vr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new my(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new my(this.firestore,$x(this._delegate,e))}catch(t){throw oo(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,pn.m9)(e))instanceof Vr&&jx(this._delegate,e)}set(e,t){t=QT("DocumentReference.set",t);try{return t?a2(this._delegate,e,t):a2(this._delegate,e)}catch(r){throw oo(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?l2(this._delegate,e):l2(this._delegate,e,t,...r)}catch(i){throw oo(i,"updateDoc()","DocumentReference.update()")}}delete(){return function FR(n){return gy(Mn(n.firestore,Ur),[new ff(n._key,yr.none())])}(this._delegate)}onSnapshot(...e){const t=y2(e),r=_2(e,i=>new E0(this.firestore,new Ld(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return u2(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function PR(n){n=Mn(n,Vr);const e=Mn(n.firestore,Ur),t=mi(e),r=new Af(e);return function GO(n,e){const t=new fi;return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return(r=(0,Ce.Z)(function*(i,l,c){try{const g=yield function(_,D){const S=st(_);return S.persistence.runTransaction("read document","readonly",F=>S.localDocuments.getDocument(F,D))}(i,l);g.isFoundDocument()?c.resolve(g):g.isNoDocument()?c.resolve(null):c.reject(new Ve(fe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(g){const _=ly(g,`Failed to get document '${l} from cache`);c.reject(_)}}),function(i,l,c){return r.apply(this,arguments)})(yield nE(n),e,t);var r})),t.promise}(t,n._key).then(i=>new Ld(e,r,n._key,i,new Eg(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function OR(n){n=Mn(n,Vr);const e=Mn(n.firestore,Ur);return Px(mi(e),n._key,{source:"server"}).then(t=>YT(e,n,t))}(this._delegate):function MR(n){n=Mn(n,Vr);const e=Mn(n.firestore,Ur);return Px(mi(e),n._key).then(t=>YT(e,n,t))}(this._delegate),t.then(r=>new E0(this.firestore,new Ld(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new ml(this.firestore,this._delegate.withConverter(e?Ig.getInstance(this.firestore,e):null))}}function oo(n,e,t){return n.message=n.message.replace(e,t),n}function y2(n){for(const e of n)if("object"==typeof e&&!JT(e))return e;return{}}function _2(n,e){var t,r;let i;return i=JT(n[0])?n[0]:JT(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:l=>{i.next&&i.next(e(l))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class E0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ml(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return o2(this._delegate,e._delegate)}}class I0 extends E0{data(e){const t=this._delegate.data(e);return function Mb(n,e){n||pt()}(void 0!==t),t}}class ao{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new gE(e)}where(e,t,r){try{return new ao(this.firestore,Df(this._delegate,function vR(n,e,t){const r=e,i=cE("where",n);return w0._create(i,r,t)}(e,t,r)))}catch(i){throw oo(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new ao(this.firestore,Df(this._delegate,function wR(n,e="asc"){const t=e,r=cE("orderBy",n);return ZT._create(r,t)}(e,t)))}catch(r){throw oo(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new ao(this.firestore,Df(this._delegate,function bR(n){return Vx("limit",n),dE._create("limit",n,"F")}(e)))}catch(t){throw oo(t,"limit()","Query.limit()")}}limitToLast(e){try{return new ao(this.firestore,Df(this._delegate,function CR(n){return Vx("limitToLast",n),dE._create("limitToLast",n,"L")}(e)))}catch(t){throw oo(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new ao(this.firestore,Df(this._delegate,function ER(...n){return hE._create("startAt",n,!0)}(...e)))}catch(t){throw oo(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new ao(this.firestore,Df(this._delegate,function IR(...n){return hE._create("startAfter",n,!1)}(...e)))}catch(t){throw oo(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new ao(this.firestore,Df(this._delegate,function DR(...n){return fE._create("endBefore",n,!1)}(...e)))}catch(t){throw oo(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new ao(this.firestore,Df(this._delegate,function TR(...n){return fE._create("endAt",n,!0)}(...e)))}catch(t){throw oo(t,"endAt()","Query.endAt()")}}isEqual(e){return $T(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function kR(n){n=Mn(n,Es);const e=Mn(n.firestore,Ur),t=mi(e),r=new Af(e);return function qO(n,e){const t=new fi;return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return(r=(0,Ce.Z)(function*(i,l,c){try{const g=yield qC(i,l,!0),_=new vx(l,g.ir),D=_.sc(g.documents),S=_.applyChanges(D,!1);c.resolve(S.snapshot)}catch(g){const _=ly(g,`Failed to execute query '${l} against cache`);c.reject(_)}}),function(i,l,c){return r.apply(this,arguments)})(yield nE(n),e,t);var r})),t.promise}(t,n._query).then(i=>new Tf(e,r,n,i))}(this._delegate):"server"===e?.source?function NR(n){n=Mn(n,Es);const e=Mn(n.firestore,Ur),t=mi(e),r=new Af(e);return Ox(t,n._query,{source:"server"}).then(i=>new Tf(e,r,n,i))}(this._delegate):function RR(n){n=Mn(n,Es);const e=Mn(n.firestore,Ur),t=mi(e),r=new Af(e);return Xx(n._query),Ox(t,n._query).then(i=>new Tf(e,r,n,i))}(this._delegate),t.then(r=>new XT(this.firestore,new Tf(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=y2(e),r=_2(e,i=>new XT(this.firestore,new Tf(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return u2(this._delegate,t,r)}withConverter(e){return new ao(this.firestore,this._delegate.withConverter(e?Ig.getInstance(this.firestore,e):null))}}class ok{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new I0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class XT{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new ao(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new I0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new ok(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new I0(this._firestore,r))})}isEqual(e){return o2(this._delegate,e._delegate)}}class my extends ao{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ml(this.firestore,e):null}doc(e){try{return new ml(this.firestore,void 0===e?iE(this._delegate):iE(this._delegate,e))}catch(t){throw oo(t,"doc()","CollectionReference.doc()")}}add(e){return function LR(n,e){const t=Mn(n.firestore,Ur),r=iE(n),i=pE(n.converter,e);return gy(t,[aE(bg(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,yr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new ml(this.firestore,t))}isEqual(e){return jx(this._delegate,e._delegate)}withConverter(e){return new my(this.firestore,this._delegate.withConverter(e?Ig.getInstance(this.firestore,e):null))}}function Dg(n){return Mn(n,Vr)}class eA{constructor(...e){this._delegate=new Fd(...e)}static documentId(){return new eA(Fr.keyField().canonicalString())}isEqual(e){return(e=(0,pn.m9)(e))instanceof Fd&&this._delegate._internalPath.isEqual(e._internalPath)}}class Tg{constructor(e){this._delegate=e}static serverTimestamp(){const e=function QR(){return new HT("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Tg(e)}static delete(){const e=function YR(){return new m0("deleteField")}();return e._methodName="FieldValue.delete",new Tg(e)}static arrayUnion(...e){const t=function JR(...n){return new pR("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Tg(t)}static arrayRemove(...e){const t=function XR(...n){return new gR("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Tg(t)}static increment(e){const t=function ek(n){return new mR("increment",n)}(e);return t._methodName="FieldValue.increment",new Tg(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const ak={Firestore:p2,GeoPoint:sE,Timestamp:Dr,Blob:C0,Transaction:g2,WriteBatch:m2,DocumentReference:ml,DocumentSnapshot:E0,Query:ao,QueryDocumentSnapshot:I0,QuerySnapshot:XT,CollectionReference:my,FieldPath:eA,FieldValue:Tg,setLogLevel:function sk(n){!function wm(n){oc.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function uk(n){(function lk(n,e){n.INTERNAL.registerComponent(new fp.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},ak)))})(n,(e,t)=>new p2(e,t,new ik)),n.registerVersion("@firebase/firestore-compat","0.3.10")}(Vw.Z);var ck=U(6451),mE=U(5363),dk=U(6063);class hk extends gs.x{constructor(e=1/0,t=1/0,r=dk.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:l,_windowTime:c}=this;t||(r.push(e),!i&&r.push(l.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,l=i.slice();for(let c=0;c<l.length&&!e.closed;c+=r?1:2)e.next(l[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,l=(i?1:2)*e;if(e<1/0&&l<r.length&&r.splice(0,r.length-l),!i){const c=t.now();let g=0;for(let _=1;_<r.length&&r[_]<=c;_+=2)g=_;g&&r.splice(0,g+1)}}}var fk=U(3099);function v2(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,fk.B)({connector:()=>new hk(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function w2(n,e){return(0,Yc.m)(e)?lr(()=>n,e):lr(()=>n)}var tA=U(9468),Vd=U(259);class Ag{constructor(e){return e}}class yE{constructor(){return(0,Vd.C6)()}}const nA=new u.OlP("angularfire2._apps"),gk={provide:Ag,useFactory:function pk(n){return n&&1===n.length?n[0]:new Ag((0,Vd.Mq)())},deps:[[new u.FiY,nA]]},mk={provide:yE,deps:[[new u.FiY,nA]]};function yk(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Ag(r)}}let _k=(()=>{class n{constructor(t){(0,Vd.KN)("angularfire",yn.q4.full,"core"),(0,Vd.KN)("angularfire",yn.q4.full,"app"),(0,Vd.KN)("angular",u.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.Lbi))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[gk,mk]}),n})();function vk(n,...e){return{ngModule:_k,providers:[{provide:nA,useFactory:yk(n),multi:!0,deps:[u.R0b,u.zs3,yn.HU,...e]}]}}const wk=(0,yn.u3)(Vd.ZF,!0),rA=new Map,b2={activated:!1,tokenObservers:[]},bk={initialized:!1,enabled:!1};function di(n){return rA.get(n)||Object.assign({},b2)}function _E(){return bk}const iA="https://content-firebaseappcheck.googleapis.com/v1",Dk="exchangeDebugToken",C2={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Ak{constructor(e,t,r,i,l){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=i,i>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Ce.Z)(function*(){t.stop();try{t.pending=new pn.BH,yield function Sk(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new pn.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Is=new pn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function sA(n){if(!di(n).activated)throw Is.create("use-before-activation",{appName:n.name})}function bE(n,e){return aA.apply(this,arguments)}function aA(){return aA=(0,Ce.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const F=yield i.getHeartbeatsHeader();F&&(r["X-Firebase-Client"]=F)}const l={method:"POST",body:JSON.stringify(e),headers:r};let c,g;try{c=yield fetch(n,l)}catch(F){throw Is.create("fetch-network-error",{originalErrorMessage:F?.message})}if(200!==c.status)throw Is.create("fetch-status-error",{httpStatus:c.status});try{g=yield c.json()}catch(F){throw Is.create("fetch-parse-error",{originalErrorMessage:F?.message})}const _=g.ttl.match(/^([\d.]+)(s)$/);if(!_||!_[2]||isNaN(Number(_[1])))throw Is.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${g.ttl}`});const D=1e3*Number(_[1]),S=Date.now();return{token:g.token,expireTimeMillis:S+D,issuedAtTimeMillis:S}}),aA.apply(this,arguments)}function E2(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${iA}/projects/${t}/apps/${r}:${Dk}?key=${i}`,body:{debug_token:e}}}const Ok="firebase-app-check-database",Rk=1,D0="firebase-app-check-store";let CE=null;function lA(){return lA=(0,Ce.Z)(function*(n,e){const r=(yield function D2(){return CE||(CE=new Promise((n,e)=>{try{const t=indexedDB.open(Ok,Rk);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Is.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(D0,{keyPath:"compositeKey"})}}catch(t){e(Is.create("storage-open",{originalErrorMessage:t?.message}))}}),CE)}()).transaction(D0,"readwrite"),l=r.objectStore(D0).put({compositeKey:n,value:e});return new Promise((c,g)=>{l.onsuccess=_=>{c()},r.onerror=_=>{var D;g(Is.create("storage-set",{originalErrorMessage:null===(D=_.target.error)||void 0===D?void 0:D.message}))}})}),lA.apply(this,arguments)}const T0=new Wl.Yd("@firebase/app-check");function dA(n,e){return(0,pn.hl)()?function Nk(n,e){return function T2(n,e){return lA.apply(this,arguments)}(function S2(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{T0.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function fA(){return _E().enabled}function pA(){return gA.apply(this,arguments)}function gA(){return gA=(0,Ce.Z)(function*(){const n=_E();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),gA.apply(this,arguments)}const $k={error:"UNKNOWN_ERROR"};function jk(n){return pn.US.encodeString(JSON.stringify(n),!1)}function EE(n){return mA.apply(this,arguments)}function mA(){return mA=(0,Ce.Z)(function*(n,e=!1){const t=n.app;sA(t);const r=di(t);let l,i=r.token;if(i&&!yy(i)&&(r.token=void 0,i=void 0),!i){const _=yield r.cachedTokenPromise;_&&(yy(_)?i=_:yield dA(t,void 0))}if(!e&&i&&yy(i))return{token:i.token};let g,c=!1;if(fA()){r.exchangeTokenPromise||(r.exchangeTokenPromise=bE(E2(t,yield pA()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),c=!0);const _=yield r.exchangeTokenPromise;return yield dA(t,_),r.token=_,{token:_.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),c=!0),i=yield di(t).exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?T0.warn(_.message):T0.error(_),l=_}return i?l?g=yy(i)?{token:i.token,internalError:l}:O2(l):(g={token:i.token},r.token=i,yield dA(t,i)):g=O2(l),c&&function P2(n,e){const t=di(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,g),g}),mA.apply(this,arguments)}function yA(){return yA=(0,Ce.Z)(function*(n){const e=n.app;sA(e);const{provider:t}=di(e);if(fA()){const r=yield pA(),{token:i}=yield bE(E2(e,r),n.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield t.getToken();return{token:r}}}),yA.apply(this,arguments)}function vA(n,e){const t=di(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function M2(n){const{app:e}=n,t=di(e);let r=t.tokenRefresher;r||(r=function Hk(n){const{app:e}=n;return new Ak((0,Ce.Z)(function*(){let r;if(r=di(e).token?yield EE(n,!0):yield EE(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=di(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},C2.RETRIAL_MIN_WAIT,C2.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function yy(n){return n.expireTimeMillis-Date.now()>0}function O2(n){return{token:jk($k),error:n}}class zk{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=di(this.app);for(const t of e)vA(this.app,t.next);return Promise.resolve()}}const B2="app-check-internal";!function iN(){(0,vs._registerComponent)(new fp.wA("app-check",n=>function Gk(n,e){return new zk(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(B2).initialize()})),(0,vs._registerComponent)(new fp.wA(B2,n=>function qk(n){return{getToken:e=>EE(n,e),getLimitedUseToken:()=>function x2(n){return yA.apply(this,arguments)}(n),addTokenListener:e=>function _A(n,e,t,r){const{app:i}=n,l=di(i);if(l.tokenObservers=[...l.tokenObservers,{next:t,error:r,type:e}],l.token&&yy(l.token)){const g=l.token;Promise.resolve().then(()=>{t({token:g.token}),M2(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>M2(n))}(n,"INTERNAL",e),removeTokenListener:e=>vA(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,vs.registerVersion)("@firebase/app-check","0.8.0")}();class _y{constructor(){return(0,yn.vb)("app-check")}}typeof window<"u"&&window;var A0=U(9260);const j2=new u.OlP("angularfire2.auth.use-emulator"),H2=new u.OlP("angularfire2.auth.settings"),z2=new u.OlP("angularfire2.auth.tenant-id"),G2=new u.OlP("angularfire2.auth.langugage-code"),q2=new u.OlP("angularfire2.auth.use-device-language"),W2=new u.OlP("angularfire.auth.persistence"),Z2=(n,e,t,r,i,l,c,g)=>(0,eo.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=e.runOutsideAngular(()=>n.auth());if(t&&_.useEmulator(...t),r&&(_.tenantId=r),_.languageCode=i,l&&_.useDeviceLanguage(),c)for(const[D,S]of Object.entries(c))_.settings[D]=S;return g&&_.setPersistence(g),_},[t,r,i,l,c,g]);let IA=(()=>{class n{constructor(t,r,i,l,c,g,_,D,S,F,Z,re){const de=new gs.x,Oe=mt(void 0).pipe((0,mE.Q)(c.outsideAngular),lr(()=>l.runOutsideAngular(()=>Promise.resolve().then(U.bind(U,9568)))),(0,Rt.U)(()=>(0,eo.on)(t,l,r)),(0,Rt.U)(Se=>Z2(Se,l,g,D,S,F,_,Z)),v2({bufferSize:1,refCount:!1}));if(yo(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=mt(null);else{Oe.pipe(ms()).subscribe();const wt=Oe.pipe(lr(Ct=>Ct.getRedirectResult().then(tn=>tn,()=>null)),yn.iC,v2({bufferSize:1,refCount:!1})),It=Oe.pipe(lr(Ct=>new Ai.y(tn=>({unsubscribe:l.runOutsideAngular(()=>Ct.onAuthStateChanged(_n=>tn.next(_n),_n=>tn.error(_n),()=>tn.complete()))})))),ht=Oe.pipe(lr(Ct=>new Ai.y(tn=>({unsubscribe:l.runOutsideAngular(()=>Ct.onIdTokenChanged(_n=>tn.next(_n),_n=>tn.error(_n),()=>tn.complete()))}))));this.authState=wt.pipe(w2(It),(0,tA.R)(c.outsideAngular),(0,mE.Q)(c.insideAngular)),this.user=wt.pipe(w2(ht),(0,tA.R)(c.outsideAngular),(0,mE.Q)(c.insideAngular)),this.idToken=this.user.pipe(lr(Ct=>Ct?(0,Tn.D)(Ct.getIdToken()):mt(null))),this.idTokenResult=this.user.pipe(lr(Ct=>Ct?(0,Tn.D)(Ct.getIdTokenResult()):mt(null))),this.credential=(0,ck.T)(wt,de,this.authState.pipe($i(Ct=>!Ct))).pipe((0,Rt.U)(Ct=>Ct?.user?Ct:null),(0,tA.R)(c.outsideAngular),(0,mE.Q)(c.insideAngular))}return(0,eo.pX)(this,Oe,l,{spy:{apply:(Se,wt,It)=>{(Se.startsWith("signIn")||Se.startsWith("createUser"))&&It.then(ht=>de.next(ht))}}})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(eo.Dh),u.LFG(eo.xv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(yn.HU),u.LFG(j2,8),u.LFG(H2,8),u.LFG(z2,8),u.LFG(G2,8),u.LFG(q2,8),u.LFG(W2,8),u.LFG(_y,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function K2(n,e){return function cN(n,e=hp.z){return new Ai.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function DA(n,e){return K2(n,e).pipe((0,Rt.U)(t=>({payload:t,type:"query"})))}function DE(n,e){return DA(n,e).pipe(ha(void 0),Mh(),(0,Rt.U)(([t,r])=>{const i=r.payload.docChanges(),l=i.map(c=>({type:c.type,payload:c}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((c,g)=>{const _=i.find(S=>S.doc.ref.isEqual(c.ref)),D=t?.payload.docs.find(S=>S.ref.isEqual(c.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(c.metadata)||!_&&D&&JSON.stringify(D.metadata)===JSON.stringify(c.metadata)||l.push({type:"modified",payload:{oldIndex:g,newIndex:g,type:"modified",doc:c}})}),l}))}function Y2(n,e,t){return DE(n,t).pipe(Hu((r,i)=>function hN(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function fN(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return TA(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return TA(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return TA(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(l=>l.payload),e),[]),function Fw(n,e=Ga.y){return n=n??f_,(0,hi.e)((t,r)=>{let i,l=!0;t.subscribe((0,oi.x)(r,c=>{const g=e(c);(l||!n(i,g))&&(l=!1,i=g,r.next(c))}))})}(),(0,Rt.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function TA(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function Q2(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class J2{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=DE(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Rt.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(ha(void 0),Mh(),$i(([r,i])=>i.length>0||!r),(0,Rt.U)(([r,i])=>i),yn.iC)}auditTrail(e){return this.stateChanges(e).pipe(Hu((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=Q2(e);return Y2(this.query,t,this.afs.schedulers.outsideAngular).pipe(yn.iC)}valueChanges(e={}){return DA(this.query,this.afs.schedulers.outsideAngular).pipe((0,Rt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),yn.iC)}get(e){return(0,Tn.D)(this.query.get(e)).pipe(yn.iC)}add(e){return this.ref.add(e)}doc(e){return new X2(this.ref.doc(e),this.afs)}}class X2{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:l}=eM(r,t);return new J2(i,l,this.afs)}snapshotChanges(){return function dN(n,e){return K2(n,e).pipe(ha(void 0),Mh(),(0,Rt.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(yn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Rt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Tn.D)(this.ref.get(e)).pipe(yn.iC)}}class pN{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?DE(this.query,this.afs.schedulers.outsideAngular).pipe((0,Rt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),$i(t=>t.length>0),yn.iC):DE(this.query,this.afs.schedulers.outsideAngular).pipe(yn.iC)}auditTrail(e){return this.stateChanges(e).pipe(Hu((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=Q2(e);return Y2(this.query,t,this.afs.schedulers.outsideAngular).pipe(yn.iC)}valueChanges(e={}){return DA(this.query,this.afs.schedulers.outsideAngular).pipe((0,Rt.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),yn.iC)}get(e){return(0,Tn.D)(this.query.get(e)).pipe(yn.iC)}}const gN=new u.OlP("angularfire2.enableFirestorePersistence"),mN=new u.OlP("angularfire2.firestore.persistenceSettings"),yN=new u.OlP("angularfire2.firestore.settings"),_N=new u.OlP("angularfire2.firestore.use-emulator");function eM(n,e=(t=>t)){return{query:e(n),ref:n}}let vN=(()=>{class n{constructor(t,r,i,l,c,g,_,D,S,F,Z,re,de,Oe,Se,wt,It){this.schedulers=_;const ht=(0,eo.on)(t,g,r),Ct=S;F&&Z2(ht,g,Z,de,Oe,Se,re,wt),[this.firestore,this.persistenceEnabled$]=(0,eo.cc)(`${ht.name}.firestore`,"AngularFirestore",ht.name,()=>{const tn=g.runOutsideAngular(()=>ht.firestore());if(l&&tn.settings(l),Ct&&tn.useEmulator(...Ct),i&&!yo(c)){const _n=()=>{try{return(0,Tn.D)(tn.enablePersistence(D||void 0).then(()=>!0,()=>!1))}catch(Fi){return typeof console<"u"&&console.warn(Fi),mt(!1)}};return[tn,g.runOutsideAngular(_n)]}return[tn,mt(!1)]},[l,Ct,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:l,query:c}=eM(i,r),g=this.schedulers.ngZone.run(()=>l);return new J2(g,c,this)}collectionGroup(t,r){const i=r||(c=>c),l=this.firestore.collectionGroup(t);return new pN(i(l),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new X2(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(eo.Dh),u.LFG(eo.xv,8),u.LFG(gN,8),u.LFG(yN,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(yn.HU),u.LFG(mN,8),u.LFG(_N,8),u.LFG(IA,8),u.LFG(j2,8),u.LFG(H2,8),u.LFG(z2,8),u.LFG(G2,8),u.LFG(q2,8),u.LFG(W2,8),u.LFG(_y,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();var wN=U(5226),bN=U.n(wN);let S0=(()=>{class n{constructor(){}crearSwal(t,r,i){return bN().fire(r,t,i)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vy=(()=>{class n{constructor(t,r,i){this.angularFirestore=t,this.angularFireAuth=r,this.swalService=i,this.images=[]}guardar(t){this.angularFireAuth.createUserWithEmailAndPassword(t.mail,t.password).then(r=>{r.user?.sendEmailVerification();const i=this.angularFirestore.doc("pacientes/"+this.angularFirestore.createId());i.set({uid:i.ref.id,nombre:t.nombre,apellido:t.apellido,edad:t.edad,dni:t.dni,obraSocial:t.obraSocial,mail:t.mail,password:t.password,fotos:t.fotos}),this.swalService.crearSwal("Datos subidos correctamente","EXCELENTE","success")}).catch(r=>{const i=this.createMessage(r.code);this.swalService.crearSwal(i,"ERROR","error")})}traer(){return this.angularFirestore.collection("pacientes").valueChanges()}guardarEsp(t){this.angularFireAuth.createUserWithEmailAndPassword(t.mail,t.password).then(r=>{r.user?.sendEmailVerification();const i=this.angularFirestore.doc("especialistas/"+this.angularFirestore.createId());i.set({uid:i.ref.id,nombre:t.nombre,apellido:t.apellido,edad:t.edad,dni:t.dni,especialidad:t.especialidad,mail:t.mail,password:t.password,fotos:t.fotos,habilitado:t.habilitado}),this.swalService.crearSwal("Datos subidos correctamente","EXCELENTE","success")}).catch(r=>{const i=this.createMessage(r.code);this.swalService.crearSwal(i,"ERROR","error")})}traerEsp(){return this.angularFirestore.collection("especialistas").valueChanges()}setEspecialidad(t){const r=this.angularFirestore.doc("especialidades/"+this.angularFirestore.createId());r.set({uid:r.ref.id,nombre:t})}traerEspecialidades(){return this.angularFirestore.collection("especialidades").valueChanges()}guardarAdmin(t){this.angularFireAuth.createUserWithEmailAndPassword(t.mail,t.password).then(r=>{r.user?.sendEmailVerification();const i=this.angularFirestore.doc("administradores/"+this.angularFirestore.createId());i.set({uid:i.ref.id,nombre:t.nombre,apellido:t.apellido,edad:t.edad,dni:t.dni,mail:t.mail,password:t.password,fotos:t.fotos}),this.swalService.crearSwal("Datos subidos correctamente","EXCELENTE","success")}).catch(r=>{const i=this.createMessage(r.code);this.swalService.crearSwal(i,"ERROR","error")})}traerAdmin(){return this.angularFirestore.collection("administradores").valueChanges()}traerUsuariosCombinados(){return Bu([this.angularFirestore.collection("pacientes").valueChanges(),this.angularFirestore.collection("especialistas").valueChanges(),this.angularFirestore.collection("administradores").valueChanges()]).pipe((0,Rt.U)(([l,c,g])=>{const __pacientes=l,__especialidades=c,__administradores=g,D=[];for(const S of __pacientes)D.push(S);for(const S of __especialidades)D.push(S);for(const S of __administradores)D.push(S);return D}))}updateEspecialista(t){this.angularFirestore.doc(`especialistas/${t.uid}`).update(t).then(()=>{}).catch(r=>{})}createMessage(t){let r="";switch(t){case"auth/internal-error":r="Los campos estan vacios";break;case"auth/operation-not-allowed":r="La operaci\xf3n no est\xe1 permitida.";break;case"auth/email-already-in-use":r="El email ya est\xe1 registrado.";break;case"auth/invalid-email":r="El email no es valido.";break;case"auth/weak-password":r="La contrase\xf1a debe tener al menos 6 caracteres";break;default:r="Error al crear el usuario."}return r}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(vN),u.LFG(IA),u.LFG(S0))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tM=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n}),n})(),Sg=(()=>{class n extends tM{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,features:[u.qOj]}),n})();const Dc=new u.OlP("NgValueAccessor"),EN={provide:Dc,useExisting:(0,u.Gpc)(()=>TE),multi:!0};let TE=(()=>{class n extends Sg{writeValue(t){this.setProperty("checked",t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,r){1&t&&u.NdJ("change",function(l){return r.onChange(l.target.checked)})("blur",function(){return r.onTouched()})},features:[u._Bn([EN]),u.qOj]}),n})();const IN={provide:Dc,useExisting:(0,u.Gpc)(()=>wy),multi:!0},TN=new u.OlP("CompositionEventMode");let wy=(()=>{class n extends tM{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function DN(){const n=R()?R().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(TN,8))},n.\u0275dir=u.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&u.NdJ("input",function(l){return r._handleInput(l.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(l){return r._compositionEnd(l.target.value)})},features:[u._Bn([IN]),u.qOj]}),n})();const AN=!1;function xf(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function nM(n){return null!=n&&"number"==typeof n.length}const Us=new u.OlP("NgValidators"),Mf=new u.OlP("NgAsyncValidators"),SN=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class jn{static min(e){return function rM(n){return e=>{if(xf(e.value)||xf(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function iM(n){return e=>{if(xf(e.value)||xf(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return sM(e)}static requiredTrue(e){return function oM(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function aM(n){return xf(n.value)||SN.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function lM(n){return e=>xf(e.value)||!nM(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function uM(n){return e=>nM(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return cM(e)}static nullValidator(e){return null}static compose(e){return mM(e)}static composeAsync(e){return yM(e)}}function sM(n){return xf(n.value)?{required:!0}:null}function cM(n){if(!n)return AE;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(xf(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function AE(n){return null}function dM(n){return null!=n}function hM(n){const e=(0,u.QGY)(n)?(0,Tn.D)(n):n;if(AN&&!(0,u.CqO)(e)){let t="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(t+=" Are you using a synchronous validator where an async validator is expected?"),new u.vHH(-1101,t)}return e}function fM(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function pM(n,e){return e.map(t=>t(n))}function gM(n){return n.map(e=>function xN(n){return!n.validate}(e)?e:t=>e.validate(t))}function mM(n){if(!n)return null;const e=n.filter(dM);return 0==e.length?null:function(t){return fM(pM(t,e))}}function AA(n){return null!=n?mM(gM(n)):null}function yM(n){if(!n)return null;const e=n.filter(dM);return 0==e.length?null:function(t){return function CN(...n){const e=(0,ps.jO)(n),{args:t,keys:r}=Wc(n),i=new Ai.y(l=>{const{length:c}=t;if(!c)return void l.complete();const g=new Array(c);let _=c,D=c;for(let S=0;S<c;S++){let F=!1;(0,Ul.Xf)(t[S]).subscribe((0,oi.x)(l,Z=>{F||(F=!0,D--),g[S]=Z},()=>_--,void 0,()=>{(!_||!F)&&(D||l.next(r?Uu(r,g):g),l.complete())}))}});return e?i.pipe(ns(e)):i}(pM(t,e).map(hM)).pipe((0,Rt.U)(fM))}}function SA(n){return null!=n?yM(gM(n)):null}function _M(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function vM(n){return n._rawValidators}function wM(n){return n._rawAsyncValidators}function xA(n){return n?Array.isArray(n)?n:[n]:[]}function SE(n,e){return Array.isArray(n)?n.includes(e):n===e}function bM(n,e){const t=xA(e);return xA(n).forEach(i=>{SE(t,i)||t.push(i)}),t}function CM(n,e){return xA(e).filter(t=>!SE(n,t))}class EM{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=AA(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=SA(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class lo extends EM{get formDirective(){return null}get path(){return null}}class Pf extends EM{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class IM{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let xE=(()=>{class n extends IM{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Pf,2))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&u.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[u.qOj]}),n})(),MA=(()=>{class n extends IM{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(lo,10))},n.\u0275dir=u.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&u.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[u.qOj]}),n})();function DM(n,e){return n?`with name: '${e}'`:`at index: ${e}`}const RA=!1,x0="VALID",PE="INVALID",by="PENDING",M0="DISABLED";function kA(n){return(OE(n)?n.validators:n)||null}function NA(n,e){return(OE(e)?e.asyncValidators:n)||null}function OE(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function TM(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new u.vHH(1e3,RA?function RN(n){return`\n    There are no form controls registered with this ${n?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(e):"");if(!r[t])throw new u.vHH(1001,RA?function kN(n,e){return`Cannot find form control ${DM(n,e)}`}(e,t):"")}function AM(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new u.vHH(1002,RA?function NN(n,e){return`Must supply a value for form control ${DM(n,e)}`}(e,i):"")})}class RE{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===x0}get invalid(){return this.status===PE}get pending(){return this.status==by}get disabled(){return this.status===M0}get enabled(){return this.status!==M0}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(bM(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(bM(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(CM(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(CM(e,this._rawAsyncValidators))}hasValidator(e){return SE(this._rawValidators,e)}hasAsyncValidator(e){return SE(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=by,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=M0,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=x0,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===x0||this.status===by)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?M0:x0}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=by,this._hasOwnPendingAsyncValidator=!0;const t=hM(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}_calculateStatus(){return this._allControlsDisabled()?M0:this.errors?PE:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(by)?by:this._anyControlsHaveStatus(PE)?PE:x0}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){OE(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function FN(n){return Array.isArray(n)?AA(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function LN(n){return Array.isArray(n)?SA(n):n||null}(this._rawAsyncValidators)}}class P0 extends RE{constructor(e,t,r){super(kA(t),NA(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){AM(this,!0,e),Object.keys(e).forEach(r=>{TM(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,l)=>{r=t(r,i,l)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class SM extends P0{}const xg=new u.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>O0}),O0="always";function kE(n,e){return[...e.path,n]}function R0(n,e,t=O0){FA(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function UN(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&xM(n,e)})}(n,e),function $N(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function BN(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&xM(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function VN(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function NE(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),LE(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function FE(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function FA(n,e){const t=vM(n);null!==e.validator?n.setValidators(_M(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=wM(n);null!==e.asyncValidator?n.setAsyncValidators(_M(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();FE(e._rawValidators,i),FE(e._rawAsyncValidators,i)}function LE(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=vM(n);if(Array.isArray(i)&&i.length>0){const l=i.filter(c=>c!==e.validator);l.length!==i.length&&(t=!0,n.setValidators(l))}}if(null!==e.asyncValidator){const i=wM(n);if(Array.isArray(i)&&i.length>0){const l=i.filter(c=>c!==e.asyncValidator);l.length!==i.length&&(t=!0,n.setAsyncValidators(l))}}}const r=()=>{};return FE(e._rawValidators,r),FE(e._rawAsyncValidators,r),t}function xM(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function VA(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function UA(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(l=>{l.constructor===wy?t=l:function zN(n){return Object.getPrototypeOf(n.constructor)===Sg}(l)?r=l:i=l}),i||r||t||null}function OM(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function RM(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const N0=class extends RE{constructor(e=null,t,r){super(kA(t),NA(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),OE(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=RM(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){OM(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){OM(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){RM(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},KN={provide:Pf,useExisting:(0,u.Gpc)(()=>F0)},FM=(()=>Promise.resolve())();let F0=(()=>{class n extends Pf{constructor(t,r,i,l,c,g){super(),this._changeDetectorRef=c,this.callSetDisabledState=g,this.control=new N0,this._registered=!1,this.update=new u.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=UA(0,l)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),VA(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){R0(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){FM.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&(0,u.D6c)(r);FM.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?kE(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(lo,9),u.Y36(Us,10),u.Y36(Mf,10),u.Y36(Dc,10),u.Y36(u.sBO,8),u.Y36(xg,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[u._Bn([KN]),u.qOj,u.TTD]}),n})(),$A=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const YN={provide:Dc,useExisting:(0,u.Gpc)(()=>VE),multi:!0};let VE=(()=>{class n extends Sg{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&u.NdJ("input",function(l){return r.onChange(l.target.value)})("blur",function(){return r.onTouched()})},features:[u._Bn([YN]),u.qOj]}),n})(),LM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const jA=new u.OlP("NgModelWithFormControlWarning"),tF={provide:lo,useExisting:(0,u.Gpc)(()=>L0)};let L0=(()=>{class n extends lo{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new u.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(LE(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return R0(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){NE(t.control||null,t,!1),function GN(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function PM(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(NE(r||null,t),(n=>n instanceof N0)(i)&&(R0(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function MM(n,e){FA(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function jN(n,e){return LE(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){FA(this.form,this),this._oldForm&&LE(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Us,10),u.Y36(Mf,10),u.Y36(xg,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&u.NdJ("submit",function(l){return r.onSubmit(l)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([tF]),u.qOj,u.TTD]}),n})();const iF={provide:Pf,useExisting:(0,u.Gpc)(()=>UE)};let UE=(()=>{class n extends Pf{set isDisabled(t){}constructor(t,r,i,l,c){super(),this._ngModelWarningConfig=c,this._added=!1,this.update=new u.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=UA(0,l)}ngOnChanges(t){this._added||this._setUpControl(),VA(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return kE(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(u.Y36(lo,13),u.Y36(Us,10),u.Y36(Mf,10),u.Y36(Dc,10),u.Y36(jA,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[u._Bn([iF]),u.qOj,u.TTD]}),n})(),Mg=(()=>{class n{constructor(){this._validator=AE}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):AE,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,features:[u.TTD]}),n})();const fF={provide:Us,useExisting:(0,u.Gpc)(()=>V0),multi:!0};let V0=(()=>{class n extends Mg{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=u.D6c,this.createValidator=t=>sM}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&u.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[u._Bn([fF]),u.qOj]}),n})();const _F={provide:Us,useExisting:(0,u.Gpc)(()=>WA),multi:!0};let WA=(()=>{class n extends Mg{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=t=>t,this.createValidator=t=>cM(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&u.uIk("pattern",r._enabled?r.pattern:null)},inputs:{pattern:"pattern"},features:[u._Bn([_F]),u.qOj]}),n})(),JM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[LM]}),n})();class XM extends RE{constructor(e,t,r){super(kA(t),NA(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){AM(this,!1,e),e.forEach((r,i)=>{TM(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function eP(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let tP=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const i=this._reduceControls(t);let l={};return eP(r)?l=r:null!==r&&(l.validators=r.validator,l.asyncValidators=r.asyncValidator),new P0(i,l)}record(t,r=null){const i=this._reduceControls(t);return new SM(i,r)}control(t,r,i){let l={};return this.useNonNullable?(eP(r)?l=r:(l.validators=r,l.asyncValidators=i),new N0(t,{...l,nonNullable:!0})):new N0(t,r,i)}array(t,r,i){const l=t.map(c=>this._createControl(c));return new XM(l,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof N0||t instanceof RE?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vF=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:xg,useValue:t.callSetDisabledState??O0}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[JM]}),n})(),wF=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:jA,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:xg,useValue:t.callSetDisabledState??O0}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[JM]}),n})();class nP{constructor(e,t,r,i,l,c,g,_){this.nombre=e,this.apellido=t,this.edad=r,this.dni=i,this.obraSocial=l,this.mail=c,this.password=g,this.fotos=_}}var bF=U(1389);class ZA{constructor(e){return e}}class KA{constructor(){return(0,yn.vb)("auth")}}const YA=new u.OlP("angularfire2.auth-instances");function EF(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new ZA(r)}}const IF={provide:KA,deps:[[new u.FiY,YA]]},DF={provide:ZA,useFactory:function CF(n,e){const t=(0,yn.JM)("auth",n,e);return t&&new ZA(t)},deps:[[new u.FiY,YA],Ag]};let TF=(()=>{class n{constructor(){(0,Vd.KN)("angularfire",yn.q4.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[DF,IF]}),n})();function AF(n,...e){return{ngModule:TF,providers:[{provide:YA,useFactory:EF(n),multi:!0,deps:[u.R0b,u.zs3,yn.HU,yE,[new u.FiY,_y],...e]}]}}const SF=(0,yn.u3)(bF.o,!0),iP="firebasestorage.googleapis.com",sP="storageBucket";class ti extends pn.ZR{constructor(e,t,r=0){super(QA(e),`Firebase Storage: ${t} (${QA(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ti.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return QA(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Ar=(()=>(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(Ar||(Ar={})),Ar))();function QA(n){return"storage/"+n}function JA(){return new ti(Ar.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function XA(n){return new ti(Ar.INVALID_ARGUMENT,n)}function uP(){return new ti(Ar.APP_DELETED,"The Firebase app was deleted.")}function U0(n,e){return new ti(Ar.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function B0(n){throw new ti(Ar.INTERNAL_ERROR,"Internal error: "+n)}class uo{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=uo.makeFromUrl(e,t)}catch{return new uo(e,"")}if(""===r.path)return r;throw function VF(n){return new ti(Ar.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)",g=new RegExp("^gs://"+i+"(/(.*))?$","i");function D(Ct){Ct.path_=decodeURIComponent(Ct.path)}const F=t.replace(/[.]/g,"\\."),ht=[{regex:g,indices:{bucket:1,path:3},postModify:function l(Ct){"/"===Ct.path.charAt(Ct.path.length-1)&&(Ct.path_=Ct.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${F}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:D},{regex:new RegExp(`^https?://${t===iP?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:D}];for(let Ct=0;Ct<ht.length;Ct++){const tn=ht[Ct],_n=tn.regex.exec(e);if(_n){let Ta=_n[tn.indices.path];Ta||(Ta=""),r=new uo(_n[tn.indices.bucket],Ta),tn.postModify(r);break}}if(null==r)throw function LF(n){return new ti(Ar.INVALID_URL,"Invalid URL '"+n+"'.")}(e);return r}}class zF{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function BE(n){return"string"==typeof n||n instanceof String}function cP(n){return eS()&&n instanceof Blob}function eS(){return typeof Blob<"u"&&!(0,pn.UG)()}function tS(n,e,t,r){if(r<e)throw XA(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw XA(`Invalid value for '${n}'. Expected ${t} or less.`)}function Ud(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function dP(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}var Of=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(Of||(Of={})),Of))();class YF{constructor(e,t,r,i,l,c,g,_,D,S,F,Z=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=g,this.errorCallback_=_,this.timeout_=D,this.progressCallback_=S,this.connectionFactory_=F,this.retry=Z,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((re,de)=>{this.resolve_=re,this.reject_=de,this.start_()})}start_(){const t=(r,i)=>{const l=this.resolve_,c=this.reject_,g=i.connection;if(i.wasSuccessCode)try{const _=this.callback_(g,g.getResponse());!function WF(n){return void 0!==n}(_)?l():l(_)}catch(_){c(_)}else if(null!==g){const _=JA();_.serverResponse=g.getErrorText(),c(this.errorCallback_?this.errorCallback_(g,_):_)}else c(i.canceled?this.appDelete_?uP():function aP(){return new ti(Ar.CANCELED,"User canceled the upload/download.")}():function oP(){return new ti(Ar.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())};this.canceled_?t(0,new $E(!1,null,!0)):this.backoffId_=function GF(n,e,t){let r=1,i=null,l=null,c=!1,g=0;function _(){return 2===g}let D=!1;function S(...Se){D||(D=!0,e.apply(null,Se))}function F(Se){i=setTimeout(()=>{i=null,n(re,_())},Se)}function Z(){l&&clearTimeout(l)}function re(Se,...wt){if(D)return void Z();if(Se)return Z(),void S.call(null,Se,...wt);if(_()||c)return Z(),void S.call(null,Se,...wt);let ht;r<64&&(r*=2),1===g?(g=2,ht=0):ht=1e3*(r+Math.random()),F(ht)}let de=!1;function Oe(Se){de||(de=!0,Z(),!D&&(null!==i?(Se||(g=2),clearTimeout(i),F(0)):Se||(g=1)))}return F(0),l=setTimeout(()=>{c=!0,Oe(!0)},t),Oe}((r,i)=>{if(i)return void r(!1,new $E(!1,null,!0));const l=this.connectionFactory_();this.pendingConnection_=l;const c=g=>{null!==this.progressCallback_&&this.progressCallback_(g.loaded,g.lengthComputable?g.total:-1)};null!==this.progressCallback_&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const g=l.getErrorCode()===Of.NO_ERROR,_=l.getStatus();if(!g||function hP(n,e){const t=n>=500&&n<600,i=-1!==[408,429].indexOf(n),l=-1!==e.indexOf(n);return t||i||l}(_,this.additionalRetryCodes_)&&this.retry){const S=l.getErrorCode()===Of.ABORT;return void r(!1,new $E(!1,null,S))}const D=-1!==this.successCodes_.indexOf(_);r(!0,new $E(D,l))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function qF(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class $E{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function rL(...n){const e=function nL(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(eS())return new Blob(n);throw new ti(Ar.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const au={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class nS{constructor(e,t){this.data=e,this.contentType=t||null}}function pP(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function gP(n,e){switch(n){case au.BASE64:{const i=-1!==e.indexOf("-"),l=-1!==e.indexOf("_");if(i||l)throw U0(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case au.BASE64URL:{const i=-1!==e.indexOf("+"),l=-1!==e.indexOf("/");if(i||l)throw U0(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function sL(n){if(typeof atob>"u")throw function jF(n){return new ti(Ar.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(e)}catch(i){throw i.message.includes("polyfill")?i:U0(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class mP{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw U0(au.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function uL(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class Bd{constructor(e,t){let r=0,i="";cP(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(cP(this.data_)){const i=function iL(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===i?null:new Bd(i)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new Bd(r,!0)}}static getBlob(...e){if(eS()){const t=e.map(r=>r instanceof Bd?r.data_:r);return new Bd(rL.apply(null,t))}{const t=e.map(c=>BE(c)?function fP(n,e){switch(n){case au.RAW:return new nS(pP(e));case au.BASE64:case au.BASE64URL:return new nS(gP(n,e));case au.DATA_URL:return new nS(function aL(n){const e=new mP(n);return e.base64?gP(au.BASE64,e.rest):function oL(n){let e;try{e=decodeURIComponent(n)}catch{throw U0(au.DATA_URL,"Malformed data URL.")}return pP(e)}(e.rest)}(e),function lL(n){return new mP(n).contentType}(e))}throw JA()}(au.RAW,c).data:c.data_);let r=0;t.forEach(c=>{r+=c.byteLength});const i=new Uint8Array(r);let l=0;return t.forEach(c=>{for(let g=0;g<c.length;g++)i[l++]=c[g]}),new Bd(i,!0)}}uploadData(){return this.data_}}function rS(n){let e;try{e=JSON.parse(n)}catch{return null}return function KF(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function yP(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function hL(n,e){return e}class co{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||hL}}let jE=null;function $0(){if(jE)return jE;const n=[];n.push(new co("bucket")),n.push(new co("generation")),n.push(new co("metageneration")),n.push(new co("name","fullPath",!0));const t=new co("name");t.xform=function e(l,c){return function fL(n){return!BE(n)||n.length<2?n:yP(n)}(c)},n.push(t);const i=new co("size");return i.xform=function r(l,c){return void 0!==c?Number(c):c},n.push(i),n.push(new co("timeCreated")),n.push(new co("updated")),n.push(new co("md5Hash",null,!0)),n.push(new co("cacheControl",null,!0)),n.push(new co("contentDisposition",null,!0)),n.push(new co("contentEncoding",null,!0)),n.push(new co("contentLanguage",null,!0)),n.push(new co("contentType",null,!0)),n.push(new co("metadata","customMetadata",!0)),jE=n,jE}function _P(n,e,t){const r=rS(e);return null===r?null:function gL(n,e,t){const r={type:"file"},i=t.length;for(let l=0;l<i;l++){const c=t[l];r[c.local]=c.xform(r,e[c.server])}return function pL(n,e){Object.defineProperty(n,"ref",{get:function t(){const l=new uo(n.bucket,n.fullPath);return e._makeStorageReference(l)}})}(r,n),r}(n,r,t)}class Tc{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Ac(n){if(!n)throw JA()}function Cy(n){return function e(t,r){let i;return i=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function NF(){return new ti(Ar.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function kF(){return new ti(Ar.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function RF(n){return new ti(Ar.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function FF(n){return new ti(Ar.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):r,i.status=t.getStatus(),i.serverResponse=r.serverResponse,i}}function IP(n,e,t,r,i){const l=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"},_=function g(){let ht="";for(let Ct=0;Ct<2;Ct++)ht+=Math.random().toString().slice(2);return ht}();c["Content-Type"]="multipart/related; boundary="+_;const D=function EP(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function DL(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}(e,r,i),S=function iS(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const l=e[i];l.writable&&(t[l.server]=n[l.local])}return JSON.stringify(t)}(D,t),re=Bd.getBlob("--"+_+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+S+"\r\n--"+_+"\r\nContent-Type: "+D.contentType+"\r\n\r\n",r,"\r\n--"+_+"--");if(null===re)throw function lP(){return new ti(Ar.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}();const de={name:D.fullPath},Oe=Ud(l,n.host,n._protocol),wt=n.maxUploadRetryTime,It=new Tc(Oe,"POST",function HE(n,e){return function t(r,i){const l=_P(n,i,e);return Ac(null!==l),l}}(n,t),wt);return It.urlParams=de,It.headers=c,It.body=re.uploadData(),It.errorHandler=Cy(e),It}let TP=null;class ML{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Of.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Of.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Of.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw B0("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==i)for(const l in i)i.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,i[l].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw B0("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw B0("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw B0("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw B0("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class PL extends ML{initXhr(){this.xhr_.responseType="text"}}function lu(){return TP?TP():new PL}class Pg{constructor(e,t){this._service=e,this._location=t instanceof uo?t:uo.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Pg(e,t)}get root(){const e=new uo(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return yP(this._location.path)}get storage(){return this._service}get parent(){const e=function cL(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new uo(this._location.bucket,e);return new Pg(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function HF(n){return new ti(Ar.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function zL(n){n._throwIfRoot("getDownloadURL");const e=function CL(n,e,t){const i=Ud(e.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,g=new Tc(i,"GET",function wL(n,e){return function t(r,i){const l=_P(n,i,e);return Ac(null!==l),function mL(n,e,t,r){const i=rS(e);if(null===i||!BE(i.downloadTokens))return null;const l=i.downloadTokens;if(0===l.length)return null;const c=encodeURIComponent;return l.split(",").map(D=>{const F=n.fullPath;return Ud("/b/"+c(n.bucket)+"/o/"+c(F),t,r)+dP({alt:"media",token:D})})[0]}(l,i,n.host,n._protocol)}}(n,t),c);return g.errorHandler=function j0(n){const e=Cy(n);return function t(r,i){let l=e(r,i);return 404===r.getStatus()&&(l=function OF(n){return new ti(Ar.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),l.serverResponse=i.serverResponse,l}}(e),g}(n.storage,n._location,$0());return n.storage.makeRequestWithTokens(e,lu).then(t=>{if(null===t)throw function $F(){return new ti(Ar.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return t})}function PP(n,e){if(n instanceof lS){const t=n;if(null==t._bucket)throw function UF(){return new ti(Ar.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+sP+"' property when initializing the app?")}();const r=new Pg(t,t._bucket);return null!=e?PP(r,e):r}return void 0!==e?function MP(n,e){const t=function dL(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new uo(n._location.bucket,t);return new Pg(n.storage,r)}(n,e):n}function OP(n,e){const t=e?.[sP];return null==t?null:uo.makeFromBucketSpec(t,n)}class lS{constructor(e,t,r,i,l){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=l,this._bucket=null,this._host=iP,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?uo.makeFromBucketSpec(i,this._host):OP(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?uo.makeFromBucketSpec(this._url,e):OP(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){tS("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){tS("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,Ce.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,Ce.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Pg(this,e)}_makeRequest(e,t,r,i,l=!0){if(this._deleted)return new zF(uP());{const c=function tL(n,e,t,r,i,l,c=!0){const g=dP(n.urlParams),_=n.url+g,D=Object.assign({},n.headers);return function XF(n,e){e&&(n["X-Firebase-GMPID"]=e)}(D,e),function QF(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(D,t),function JF(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(D,l),function eL(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(D,r),new YF(_,n.method,D,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,c)}(e,this._appId,r,i,t,this._firebaseVersion,l);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}makeRequestWithTokens(e,t){var r=this;return(0,Ce.Z)(function*(){const[i,l]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,i,l).getPromise()})()}}const RP="@firebase/storage",NP="storage";function YL(n,e,t){return function AP(n,e,t){n._throwIfRoot("uploadBytes");const r=IP(n.storage,n._location,$0(),new Bd(e,!0),t);return n.storage.makeRequestWithTokens(r,lu).then(i=>({metadata:i,ref:n}))}(n=(0,pn.m9)(n),e,t)}function QL(n){return zL(n=(0,pn.m9)(n))}function JL(n,e){return function ZL(n,e){if(e&&function qL(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof lS)return function WL(n,e){return new Pg(n,e)}(n,e);throw XA("To use ref(service, url), the first argument must be a Storage instance.")}return PP(n,e)}(n=(0,pn.m9)(n),e)}function XL(n=(0,vs.getApp)(),e){n=(0,pn.m9)(n);const r=(0,vs._getProvider)(n,NP).getImmediate({identifier:e}),i=(0,pn.P0)("storage");return i&&function e3(n,e,t,r={}){!function KL(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken="string"==typeof i?i:(0,pn.Sg)(i,n.app.options.projectId))}(n,e,t,r)}(r,...i),r}function t3(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new lS(t,r,i,e,vs.SDK_VERSION)}!function n3(){(0,vs._registerComponent)(new fp.wA(NP,t3,"PUBLIC").setMultipleInstances(!0)),(0,vs.registerVersion)(RP,"0.11.2",""),(0,vs.registerVersion)(RP,"0.11.2","esm2017")}();class H0{constructor(e){return e}}const FP="storage",uS=new u.OlP("angularfire2.storage-instances");function s3(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new H0(r)}}const o3={provide:class r3{constructor(){return(0,yn.vb)(FP)}},deps:[[new u.FiY,uS]]},a3={provide:H0,useFactory:function i3(n,e){const t=(0,yn.JM)(FP,n,e);return t&&new H0(t)},deps:[[new u.FiY,uS],Ag]};let l3=(()=>{class n{constructor(){(0,Vd.KN)("angularfire",yn.q4.full,"gcs")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[a3,o3]}),n})();function u3(n,...e){return{ngModule:l3,providers:[{provide:uS,useFactory:s3(n),multi:!0,deps:[u.R0b,u.zs3,yn.HU,yE,[new u.FiY,KA],[new u.FiY,_y],...e]}]}}const cS=(0,yn.u3)(QL,!0),c3=(0,yn.u3)(XL,!0),dS=(0,yn.u3)(JL,!0),hS=(0,yn.u3)(YL,!0);let GE=(()=>{class n{constructor(t,r){this.router=t,this.swalService=r,this.token="",this.sePudo=!1,this.esconderBotonCierre=!0,this.nombreLogueado="",this.emailLogueado="",this.esAdmin=!1}login(t,r,i,l,c){var g=this;A0.Z.auth().signInWithEmailAndPassword(t,r).then(_=>{A0.Z.auth().currentUser?.getIdToken().then(D=>{A0.Z.auth().currentUser?.emailVerified?(this.emailLogueado=t,this.token=D,this.sePudo=!0,this.esconderBotonCierre=!1,this.esAdmin=c,this.fotoLogueado=i,null!=l&&(this.nombreLogueado=l),this.router.navigate(["/home"]),this.swalService.crearSwal("Ingreso exitoso","Bienvenido "+l+"!","success")):this.swalService.crearSwal("Por favor revise su correo","Mail no verificado!","error")})}).catch(function(){var _=(0,Ce.Z)(function*(D){let S=D.message;S=S.includes("correo","password")||!t.valid&&!r.valid?"Debe ingresar un correo y contrase\xf1a correcta":S.includes("password")||!r.valid?"Por favor, ingrese una contrase\xf1a v\xe1lida.":"Usuario inexistente",g.swalService.crearSwal(S,"ERROR","error")});return function(D){return _.apply(this,arguments)}}())}desloguear(){A0.Z.auth().signOut(),this.esAdmin=!1,this.token="",this.swalService.crearSwal("Cierre de sesi\xf3n exitoso!","EXCELENTE","success"),this.router.navigate(["home"]),this.esconderBotonCierre=!0,this.sePudo=!1}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(xi),u.LFG(S0))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function d3(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",6)(1,"button",7),u.NdJ("click",function(){const l=u.CHM(t).$implicit,c=u.oxw();return u.KtG(c.clickListado(l))}),u._UZ(2,"img",8),u.qZA(),u.TgZ(3,"label",9),u._uU(4),u.qZA()()}if(2&n){const t=e.$implicit;u.xp6(2),u.s9C("src",t.fotos,u.LSH),u.xp6(2),u.Oqu(t.nombre)}}function h3(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",6)(1,"button",7),u.NdJ("click",function(){const l=u.CHM(t).$implicit,c=u.oxw();return u.KtG(c.clickListado(l))}),u._UZ(2,"img",8),u.qZA(),u.TgZ(3,"label",9),u._uU(4),u.qZA()()}if(2&n){const t=e.$implicit;u.xp6(2),u.s9C("src",t.fotos,u.LSH),u.xp6(2),u.Oqu(t.nombre)}}function f3(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",6)(1,"button",7),u.NdJ("click",function(){const l=u.CHM(t).$implicit,c=u.oxw();return u.KtG(c.clickListado(l))}),u._UZ(2,"img",8),u.qZA(),u.TgZ(3,"label",9),u._uU(4),u.qZA()()}if(2&n){const t=e.$implicit;u.xp6(2),u.s9C("src",t.fotos,u.LSH),u.xp6(2),u.Oqu(t.nombre)}}let LP=(()=>{class n{constructor(t){this.firestoreService=t,this.botonClickeadoUsuarios=new u.vpe,this.listaPacientes=[],this.listaEspecialistas=[],this.listaAdmin=[]}ngOnInit(){this.firestoreService.traer().subscribe(t=>{this.listaPacientes=t}),this.firestoreService.traerEsp().subscribe(t=>{this.listaEspecialistas=t}),this.firestoreService.traerAdmin().subscribe(t=>{this.listaAdmin=t})}clickListado(t){this.botonClickeadoUsuarios.emit(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(vy))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-usuarios"]],outputs:{botonClickeadoUsuarios:"botonClickeadoUsuarios"},decls:19,vars:3,consts:[[1,"main"],[2,"font-size","30px","align-items","center","justify-content","center","display","flex","font-family","'Poppins', sans-serif","margin-top","2%","font-weight","600"],[1,"d-flex","flex-wrap"],[1,"flex-column",2,"flex","3"],[1,"d-flex","flex-wrap",2,"position","relative","margin-right","-500px","margin-left","5%"],["class","user-button",4,"ngFor","ngForOf"],[1,"user-button"],[1,"user-button-nuevo",3,"click"],["alt","Imagen de usuario",1,"user-image",3,"src"],[1,"user-name"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"h3",1),u._uU(2," ACCESO R\xc1PIDO:"),u.qZA(),u.TgZ(3,"div",2)(4,"div",3)(5,"label"),u._uU(6,"PACIENTES"),u.qZA(),u.TgZ(7,"div",4),u.YNc(8,d3,5,2,"div",5),u.qZA()()(),u.TgZ(9,"div",3)(10,"label"),u._uU(11,"ESPECIALISTAS"),u.qZA(),u.TgZ(12,"div",4),u.YNc(13,h3,5,2,"div",5),u.qZA()(),u.TgZ(14,"div",3)(15,"label"),u._uU(16,"ADMINISTRADORES"),u.qZA(),u.TgZ(17,"div",4),u.YNc(18,f3,5,2,"div",5),u.qZA()()()),2&t&&(u.xp6(8),u.Q6J("ngForOf",r.listaPacientes),u.xp6(5),u.Q6J("ngForOf",r.listaEspecialistas),u.xp6(5),u.Q6J("ngForOf",r.listaAdmin))},dependencies:[Li],styles:[".main[_ngcontent-%COMP%]{width:300px;height:800px;background-color:#ffffff21;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);overflow:hidden;border-radius:10px;box-shadow:5px 20px 50px #000;margin-left:30%}.user-button[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;border-radius:50%;height:5%;width:5%;border-color:transparent;margin:12px 12px 12px 3%}.user-button-nuevo[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;text-align:center;border-radius:50%;height:50%;width:50%;border:none;background-color:transparent;outline:none}.user-button-nuevo[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.user-image[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:50%;object-fit:cover;border-color:transparent}.user-name[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;margin-top:3px;font-size:12px;color:#000;text-transform:uppercase}label[_ngcontent-%COMP%]{font-size:15px;align-items:center;justify-content:center;display:flex;font-family:Poppins,sans-serif;margin-top:2%;font-weight:600;margin-bottom:0}button[_ngcontent-%COMP%]:active{border-color:transparent}"]}),n})();function p3(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"input",7),u.NdJ("ngModelChange",function(i){u.CHM(t);const l=u.oxw();return u.KtG(l.registro=i)})("ngModelChange",function(i){u.CHM(t);const l=u.oxw();return u.KtG(l.handleChangeCheckbox(i))}),u.qZA()}if(2&n){const t=u.oxw();u.Q6J("ngModel",t.registro)}}function g3(n,e){1&n&&(u.TgZ(0,"div",28),u._uU(1," Ingrese su nombre "),u.qZA())}function m3(n,e){1&n&&(u.TgZ(0,"small",28),u._uU(1," Ingrese su apellido "),u.qZA())}function y3(n,e){1&n&&(u.TgZ(0,"small",28),u._uU(1," Ingrese su edad "),u.qZA())}function _3(n,e){1&n&&(u.TgZ(0,"small",28),u._uU(1," Ingrese su dni "),u.qZA())}function v3(n,e){1&n&&(u.TgZ(0,"small",29),u._uU(1," Ingrese su obra social "),u.qZA())}function w3(n,e){1&n&&(u.TgZ(0,"small",29),u._uU(1," Ingrese su mail "),u.qZA())}function b3(n,e){1&n&&(u.TgZ(0,"small",29),u._uU(1," Ingrese su clave "),u.qZA())}function C3(n,e){1&n&&(u.TgZ(0,"small",29),u._uU(1," Ingrese 2 im\xe1genes "),u.qZA())}function E3(n,e){1&n&&u._UZ(0,"img",30),2&n&&u.Q6J("src",e.$implicit,u.LSH)}const $d=function(n,e){return{"is-invalid":n,"is-valid":e}};function I3(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"form",8),u.NdJ("ngSubmit",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.guardar())}),u.TgZ(1,"label",9),u._uU(2,"Registrarse"),u.qZA(),u.TgZ(3,"div",10)(4,"div",11)(5,"div")(6,"input",12),u.NdJ("input",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.validarName())}),u.qZA(),u.YNc(7,g3,2,0,"div",13),u.TgZ(8,"input",14),u.NdJ("input",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.validarApellido())}),u.qZA(),u.YNc(9,m3,2,0,"small",13),u.qZA()(),u.TgZ(10,"div",11)(11,"div")(12,"input",15),u.NdJ("input",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.validarEdad())}),u.qZA(),u.YNc(13,y3,2,0,"small",13),u.TgZ(14,"input",16),u.NdJ("input",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.validarDni())}),u.qZA(),u.YNc(15,_3,2,0,"small",13),u.qZA()()(),u.TgZ(16,"input",17),u.NdJ("input",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.validarObraSocial())}),u.qZA(),u.YNc(17,v3,2,0,"small",18),u.TgZ(18,"div",10)(19,"div",19)(20,"input",20),u.NdJ("input",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.validarCorreo())}),u.qZA(),u.YNc(21,w3,2,0,"small",18),u.qZA(),u.TgZ(22,"div",19)(23,"input",21),u.NdJ("input",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.validarPass())}),u.qZA(),u.YNc(24,b3,2,0,"small",18),u.qZA()(),u.TgZ(25,"label",22),u._uU(26,"INGRESE 2 IMAGENES"),u.qZA(),u.TgZ(27,"input",23),u.NdJ("change",function(i){u.CHM(t);const l=u.oxw();return u.KtG(l.handleFileInputChange(i))}),u.qZA(),u.YNc(28,C3,2,0,"small",24),u.TgZ(29,"div",25),u.YNc(30,E3,1,1,"img",26),u.qZA(),u.TgZ(31,"button",27),u._uU(32,"Registrar"),u.qZA()()}if(2&n){const t=u.oxw();u.Q6J("formGroup",t.form),u.xp6(6),u.Q6J("ngClass",u.WLB(17,$d,!t.nameValido,t.nameValido)),u.xp6(1),u.Q6J("ngIf",(null==t.form.controls.nom.value?null:t.form.controls.nom.value.length)>0),u.xp6(1),u.Q6J("ngClass",u.WLB(20,$d,!t.apellidoValido,t.apellidoValido)),u.xp6(1),u.Q6J("ngIf",(null==t.form.controls.ap.value?null:t.form.controls.ap.value.length)>0),u.xp6(3),u.Q6J("ngClass",u.WLB(23,$d,!t.edadValidada,t.edadValidada)),u.xp6(1),u.Q6J("ngIf",(null==t.form.controls.ed.value?null:t.form.controls.ed.value.length)>0),u.xp6(1),u.Q6J("ngClass",u.WLB(26,$d,!t.dniValido,t.dniValido)),u.xp6(1),u.Q6J("ngIf",(null==t.form.controls.dni.value?null:t.form.controls.dni.value.length)>0),u.xp6(1),u.Q6J("ngClass",u.WLB(29,$d,!t.obraSocialValidada,t.obraSocialValidada)),u.xp6(1),u.Q6J("ngIf",(null==t.form.controls.os.errors?null:t.form.controls.os.errors.required)&&t.form.controls.os.touched),u.xp6(3),u.Q6J("ngClass",u.WLB(32,$d,!t.correoValido,t.correoValido)),u.xp6(1),u.Q6J("ngIf",(null==t.form.controls.mail.value?null:t.form.controls.mail.value.length)>0),u.xp6(2),u.Q6J("ngClass",u.WLB(35,$d,!t.passValido,t.passValido)),u.xp6(1),u.Q6J("ngIf",(null==t.form.controls.pw.value?null:t.form.controls.pw.value.length)>0),u.xp6(4),u.Q6J("ngIf",(null==t.form.controls.ft.errors?null:t.form.controls.ft.errors.required)&&t.form.controls.ft.touched),u.xp6(2),u.Q6J("ngForOf",t.images)}}function D3(n,e){1&n&&(u.TgZ(0,"small",29),u._uU(1," Ingrese su mail "),u.qZA())}function T3(n,e){1&n&&(u.TgZ(0,"small",29),u._uU(1," Ingrese su clave "),u.qZA())}const A3=function(n,e){return{login2:n,login:e}};function S3(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",31)(1,"form",8),u.NdJ("ngSubmit",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.loguear())}),u.TgZ(2,"label",9),u._uU(3,"Ingresar"),u.qZA(),u.TgZ(4,"div",10)(5,"div",19)(6,"input",32),u.NdJ("input",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.validarCorreo())}),u.qZA(),u.YNc(7,D3,2,0,"small",18),u.TgZ(8,"input",33),u.NdJ("input",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.validarPass())}),u.qZA(),u.YNc(9,T3,2,0,"small",18),u.qZA()(),u.TgZ(10,"button",27),u._uU(11,"Aceptar"),u.qZA()()()}if(2&n){const t=u.oxw();u.Q6J("ngClass",u.WLB(6,A3,t.login,!t.login)),u.xp6(1),u.Q6J("formGroup",t.formLogin),u.xp6(5),u.Q6J("ngClass",u.WLB(9,$d,!t.correoValido,t.correoValido)),u.xp6(1),u.Q6J("ngIf",(null==t.formLogin.controls.mail.value?null:t.formLogin.controls.mail.value.length)>0),u.xp6(1),u.Q6J("ngClass",u.WLB(12,$d,!t.passValido,t.passValido)),u.xp6(1),u.Q6J("ngIf",(null==t.formLogin.controls.pw.value?null:t.formLogin.controls.pw.value.length)>0)}}function x3(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div")(1,"app-usuarios",34),u.NdJ("botonClickeadoUsuarios",function(i){u.CHM(t);const l=u.oxw();return u.KtG(l.clickListadoUsuarios(i))}),u.qZA()()}}function M3(n,e){1&n&&(u.TgZ(0,"div",35),u._UZ(1,"span",36),u.qZA())}let fS=(()=>{class n{constructor(t,r,i,l,c){this.formBuilder=t,this.firestoreService=r,this.swalService=i,this.storage=l,this.authService=c,this.paciente=new nP("","",0,0,"","","",[]),this.registro=!1,this.autoCheck=!1,this.spinner=!1,this.apellidoValido=!1,this.nameValido=!1,this.edadValidada=!1,this.dniValido=!1,this.obraSocialValidada=!1,this.passValido=!1,this.correoValido=!1,this.passValidoConf=!1,this.images=[]}ngOnChanges(t){t.dondeEsta&&(this.dondeEsta=!this.dondeEsta)}ngOnInit(){this.login&&!this.esPaciente&&(this.registro=!0),this.form=this.formBuilder.group({nom:["",jn.required],ap:["",jn.required],ed:["",jn.required],dni:["",jn.required],os:["",jn.required],mail:["",jn.required],pw:["",jn.required],ft:["",jn.required]}),this.formLogin=this.formBuilder.group({nom:["",jn.required],ap:["",jn.required],ed:["",jn.required],dni:["",jn.required],os:["",jn.required],mail:["",jn.required],pw:["",jn.required],ft:["",jn.required]})}handleChangeCheckbox(t){this.registro=t}guardar(){var t=this;return(0,Ce.Z)(function*(){if(t.form.invalid||2!=t.images.length)t.swalService.crearSwal("Debe ingresar todos los datos","INCOMPLETO","warning");else{t.spinner=!0,t.paciente.nombre=t.form.value.nom,t.paciente.apellido=t.form.value.ap,t.paciente.edad=t.form.value.ed,t.paciente.dni=t.form.value.dni,t.paciente.obraSocial=t.form.value.os,t.paciente.mail=t.form.value.mail,t.paciente.password=t.form.value.pw,t.paciente.fotos=t.form.value.ft;const i=document.getElementById("fileInput").files;if(i){const l=[];for(let c=0;c<i.length;c++){const g=i[c],_=new Date,D=_.getFullYear(),S=(_.getMonth()+1).toString().padStart(2,"0"),F=_.getDate().toString().padStart(2,"0"),Z=_.getHours().toString().padStart(2,"0"),re=_.getMinutes().toString().padStart(2,"0"),de=_.getSeconds().toString().padStart(2,"0"),Se=dS(t.storage,`pacientes/${t.paciente.dni}/img${c}_${D}${S}${F}_${Z}${re}${de}`);yield hS(Se,g);const wt=yield cS(Se);l.push(wt)}t.paciente.fotos=l,t.spinner=!1,t.firestoreService.guardar(t.paciente)}else t.swalService.crearSwal("Debe seleccionar exactamente 2 im\xe1genes","DEBE SUBIR LAS IMAGENES","error");t.limpiar()}})()}limpiar(){this.paciente=new nP("","",0,0,"","","",[]),this.form.reset(),this.images=[]}handleFileInputChange(t){const r=t.target.files;if(2===r.length){this.images=[];for(let i=0;i<r.length;i++){const c=URL.createObjectURL(r[i]);this.images.push(c)}}else this.swalService.crearSwal("Debe subir 2 imagenes","INCOMPLETO","warning")}loguear(){!this.login||this.usuario.hasOwnProperty("obraSocial")||this.usuario.hasOwnProperty("especialidad")?this.authService.login(this.formLogin.value.mail,this.formLogin.value.pw,this.formLogin.value.ft[0],this.formLogin.value.nom,!1):this.authService.login(this.formLogin.value.mail,this.formLogin.value.pw,this.formLogin.value.ft[0],this.formLogin.value.nom,!0)}clickListadoUsuarios(t){this.usuario=t,this.formLogin.patchValue({nom:this.usuario.nombre,ap:this.usuario.apellido,ed:this.usuario.edad,dni:this.usuario.dni,os:this.usuario.obraSocial,mail:this.usuario.mail,pw:this.usuario.password,ft:this.usuario.fotos})}validarDni(){this.dniValido=this.form.value.dni>999999&&this.form.value.dni<1e8}validarApellido(){this.apellidoValido=!!(this.form.value.ap.match(/[a-zA-Z]/)&&this.form.value.ap.length<15&&this.form.value.ap.length>2)}validarObraSocial(){this.obraSocialValidada=!!(this.form.value.os.match(/[a-zA-Z]/)&&this.form.value.os.length<20&&this.form.value.os.length>2)}validarEdad(){this.edadValidada=this.form.value.ed>17&&this.form.value.ed<100}validarName(){this.nameValido=!!(this.form.value.nom.match(/[a-zA-Z]/)&&this.form.value.nom.length<15&&this.form.value.nom.length>2)}validarPass(){this.passValido=!!this.form.value.pw.match(/[0-9a-zA-Z]{6,}/)}validarCorreo(){this.correoValido=!!(this.form.value.mail.match(/^[\w-.]+@([\w-]+.)+[\w-]{2,4}$/)&&this.form.value.mail.length>6)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(tP),u.Y36(vy),u.Y36(S0),u.Y36(H0),u.Y36(GE))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-registro"]],inputs:{usuario:"usuario",dondeEsta:"dondeEsta",login:"login",esPaciente:"esPaciente"},features:[u.TTD],decls:8,vars:5,consts:[[1,"main"],["type","checkbox","id","chk","aria-hidden","true",3,"ngModel","ngModelChange",4,"ngIf"],[1,"signup"],["class","needs-validation","novalidate","",3,"formGroup","ngSubmit",4,"ngIf"],["class","login",3,"ngClass",4,"ngIf"],[4,"ngIf"],["class","spinner-container",4,"ngIf"],["type","checkbox","id","chk","aria-hidden","true",3,"ngModel","ngModelChange"],["novalidate","",1,"needs-validation",3,"formGroup","ngSubmit"],["for","chk","aria-hidden","true"],[1,"d-flex","flex-wrap"],[1,"flex-column",2,"flex","2"],["type","text","name","txt","placeholder","Nombre","required","","formControlName","nom",1,"form-control","text-success",2,"width","80%",3,"ngClass","input"],["class","invalid-feedback","style","color: rgb(226, 53, 53); margin-left: 11%; top:0;",4,"ngIf"],["type","text","name","txt","placeholder","Apellido","required","","formControlName","ap",1,"form-control","text-success",2,"width","80%",3,"ngClass","input"],["type","number","name","nmb","placeholder","Edad","required","","formControlName","ed",1,"form-control","text-success",2,"width","80%",3,"ngClass","input"],["type","number","name","nmb","placeholder","DNI","required","","formControlName","dni",1,"form-control","text-success",2,"width","80%",3,"ngClass","input"],["type","text","name","txt","placeholder","Obra Social","required","","formControlName","os",1,"form-control","text-success",3,"ngClass","input"],["class","invalid-feedback","style","color: rgb(226, 53, 53); margin-left: 20%; top:0;",4,"ngIf"],[1,"flex-column",2,"flex","1"],["type","email","name","email","placeholder","Mail","required","","formControlName","mail",1,"form-control","text-success",2,"width","80%",3,"ngClass","input"],["type","password","name","pswd","placeholder","Clave","required","","formControlName","pw",1,"form-control","text-success",2,"width","80%",3,"ngClass","input"],["for","file",2,"font-size","20px","margin-bottom","-2%"],["type","file","id","fileInput","name","ft","accept","image/*","multiple","","formControlName","ft","required","",1,"form-control","text-success",3,"change"],["class","invalid-feedback","style","color: rgb(226, 53, 53); margin-left: 20%; top: 0;",4,"ngIf"],[1,"images",2,"align-items","center","display","flex","justify-content","center"],["style","width: 100px;height: 100px;",3,"src",4,"ngFor","ngForOf"],["type","submit"],[1,"invalid-feedback",2,"color","rgb(226, 53, 53)","margin-left","11%","top","0"],[1,"invalid-feedback",2,"color","rgb(226, 53, 53)","margin-left","20%","top","0"],[2,"width","100px","height","100px",3,"src"],[1,"login",3,"ngClass"],["type","email","name","email","placeholder","Mail","required","","formControlName","mail",1,"form-control","text-success",2,"width","60%",3,"ngClass","input"],["type","password","name","pswd","placeholder","Clave","required","","formControlName","pw",1,"form-control","text-success",2,"width","60%",3,"ngClass","input"],[3,"botonClickeadoUsuarios"],[1,"spinner-container"],[1,"loader"]],template:function(t,r){1&t&&(u.TgZ(0,"body")(1,"div",0),u.YNc(2,p3,1,1,"input",1),u.TgZ(3,"div",2),u.YNc(4,I3,33,38,"form",3),u.qZA(),u.YNc(5,S3,12,15,"div",4),u.qZA(),u.YNc(6,x3,2,0,"div",5),u.YNc(7,M3,2,0,"div",6),u.qZA()),2&t&&(u.xp6(2),u.Q6J("ngIf",!r.dondeEsta),u.xp6(2),u.Q6J("ngIf",!r.login),u.xp6(1),u.Q6J("ngIf",(r.login||!r.esPaciente)&&!r.dondeEsta),u.xp6(1),u.Q6J("ngIf",r.registro&&(r.login||!r.esPaciente)),u.xp6(1),u.Q6J("ngIf",r.spinner))},dependencies:[$A,wy,VE,TE,xE,MA,V0,F0,qt,Li,_i,L0,UE,LP],styles:['body[_ngcontent-%COMP%]{margin:0;padding:0;display:flex;justify-content:center;align-items:center;min-height:100vh;font-family:Jost,sans-serif;background-size:cover;background-image:url("data:image/svg+xml;utf8,%3Csvg width=%221336%22 height=%22700%22 xmlns=%22http:%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cpath fill=%22%23edf8ee%22 d=%22M0 0h1336v700H0z%22%2F%3E%3Cpath d=%22M0 175h0c17.104-3.887 34.207-7.775 52-4 17.793 3.775 36.274 15.212 53 22s31.697 8.926 49 6 36.938-10.915 54-20c17.062-9.085 31.551-19.265 48-13 16.449 6.265 34.857 28.975 51 37 16.143 8.025 30.02 1.367 48-12s40.06-33.442 57-39c16.94-5.558 28.74 3.4 46 17s39.977 31.843 58 24c18.023-7.843 31.35-41.772 48-46 16.65-4.228 36.62 21.247 55 32 18.38 10.753 35.168 6.786 52 3 16.832-3.786 33.708-7.39 49-6 15.292 1.39 29.001 7.774 46 9s37.286-2.705 56-12 35.853-23.953 52-27c16.147-3.047 31.302 5.518 48 13s34.938 13.88 53 20c18.062 6.12 35.944 11.959 53 15 17.056 3.041 33.285 3.285 51-5 17.715-8.285 36.915-25.098 53-34 16.085-8.902 29.054-9.891 45-9 15.946.891 34.87 3.663 53 12 18.13 8.337 35.466 22.24 53 26 17.534 3.76 35.267-2.62 93-9%22 fill=%22none%22 stroke=%22%23b8e6be%22 stroke-width=%228%22 stroke-linecap=%22round%22%2F%3E%3Cpath d=%22M0 350h0c19.274 5.514 38.549 11.028 55 10 16.451-1.028 30.08-8.599 46-8 15.92.599 34.134 9.368 52 11 17.866 1.632 35.384-3.872 51-6s29.33-.881 48 3c18.67 3.881 42.299 10.396 60 14 17.701 3.604 29.475 4.296 44 0 14.525-4.296 31.802-13.579 51-27s40.316-30.98 58-27c17.684 3.98 31.933 29.502 49 37 17.067 7.498 36.953-3.028 55-8 18.047-4.972 34.255-4.39 49-8 14.745-3.61 28.026-11.414 46-14 17.974-2.586 40.64.044 59 9s32.416 24.236 47 19c14.584-5.236 29.696-30.989 48-26 18.304 4.989 39.798 40.719 59 40 19.202-.719 36.11-37.886 51-40 14.89-2.114 27.759 30.823 44 36s35.854-17.408 54-14c18.146 3.408 34.824 32.81 51 29 16.176-3.81 31.851-40.833 49-51 17.149-10.167 35.772 6.522 53 18s33.061 17.744 50 10 34.982-29.498 53-33c18.018-3.502 36.009 11.25 94 26%22 fill=%22none%22 stroke=%22%236ccc79%22 stroke-width=%228%22 stroke-linecap=%22round%22%2F%3E%3Cpath d=%22M0 525h0c16.007 4.998 32.015 9.997 48 2s31.948-28.99 51-32c19.052-3.01 41.193 11.96 59 20 17.807 8.04 31.279 9.151 46 7s30.692-7.564 48-5 35.952 13.105 53 17c17.048 3.895 32.5 1.146 50 2 17.5.854 37.047 5.313 55 8 17.953 2.687 34.312 3.603 51 2 16.688-1.603 33.703-5.725 52-9 18.297-3.275 37.875-5.702 56-4s34.798 7.534 50 5c15.202-2.534 28.933-13.434 46-23s37.472-17.796 55-7 32.18 40.62 50 39c17.82-1.62 38.807-34.684 55-35 16.193-.316 27.593 32.116 44 41s37.82-5.78 57-11 36.125-.998 53 2 33.678 4.77 50 0c16.322-4.77 32.16-16.084 50-16 17.84.084 37.678 11.567 54 14 16.322 2.433 29.128-4.183 46-15s37.812-25.835 56-29c18.188-3.165 33.625 5.524 50 12s33.687 10.738 91 15%22 fill=%22none%22 stroke=%22%237bd187%22 stroke-width=%228%22 stroke-linecap=%22round%22%2F%3E%3C%2Fsvg%3E")}.main[_ngcontent-%COMP%]{width:600px;height:800px;background-color:#ffffff21;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);overflow:hidden;border-radius:10px;box-shadow:5px 20px 50px #000}#chk[_ngcontent-%COMP%]{display:none}.signup[_ngcontent-%COMP%]{position:relative;width:100%;height:100%}label[_ngcontent-%COMP%]{color:#236f2d;font-size:40px;text-transform:uppercase;font-weight:bolder;justify-content:center;display:flex;margin:25px;cursor:pointer;transition:.3s ease-in-out}input[_ngcontent-%COMP%]{width:60%;height:40px;background:#bbe4bc;justify-content:center;display:flex;margin:15px auto;padding:10px;border:none;outline:none;border-radius:5px}button[_ngcontent-%COMP%]{width:50%;height:40px;margin:20px auto;justify-content:center;display:block;color:#fff;background:#7c7c7c;font-size:1em;font-weight:700;outline:none;border:none;border-radius:5px;transition:.2s ease-in;cursor:pointer}button[_ngcontent-%COMP%]:hover{background:#bbe4bc;color:#000}.login[_ngcontent-%COMP%]{height:800px;background:#236f2d;border-radius:60%/10%;transform:translateY(-120px);transition:.5s ease-in-out}.login[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#bbe4bc;transform:scale(.6)}.login2[_ngcontent-%COMP%]{height:800px;background:#236f2d;border-radius:60%/10%;transform:translateY(-760px)}.login2[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#bbe4bc;transform:scale(.6)}#chk[_ngcontent-%COMP%]:checked ~ .login[_ngcontent-%COMP%]{transform:translateY(-760px)}#chk[_ngcontent-%COMP%]:checked ~ .login[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{transform:scale(1)}#chk[_ngcontent-%COMP%]:checked ~ .signup[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{transform:scale(.6)}.spinner-container[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;width:100%;height:100%;transform:translate(-50%,-50%);display:flex;justify-content:center;align-items:center;z-index:100000000000}.loader[_ngcontent-%COMP%]{position:relative;width:100px;height:130px;background:#fff;border-radius:4px;z-index:1000}.loader[_ngcontent-%COMP%]:before{content:"";position:absolute;width:54px;height:25px;left:50%;top:0;background-image:radial-gradient(ellipse at center,#0000 24%,#de3500 25%,#de3500 64%,#0000 65%),linear-gradient(to bottom,#0000 34%,#de3500 35%);background-size:12px 12px,100% auto;background-repeat:no-repeat;background-position:center top;transform:translate(-50%,-65%);box-shadow:0 -3px #00000040 inset}.loader[_ngcontent-%COMP%]:after{content:"";position:absolute;left:50%;top:20%;transform:translate(-50%);width:66%;height:60%;background:linear-gradient(to bottom,#f79577 30%,#0000 31%);background-size:100% 16px;animation:_ngcontent-%COMP%_writeDown 2s ease-out infinite}@keyframes _ngcontent-%COMP%_writeDown{0%{height:0%;opacity:0}20%{height:0%;opacity:1}80%{height:65%;opacity:1}to{height:65%;opacity:0}}']}),n})();function P3(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"button",3),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.volverMenuPrincipal())}),u._uU(1,"Volver al men\xfa"),u.qZA()}}function O3(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",4)(1,"div",5)(2,"h1",6),u._uU(3," INGRESAR COMO: "),u.qZA()(),u.TgZ(4,"div",7)(5,"div",8)(6,"div",9),u._UZ(7,"img",10),u.TgZ(8,"button",11),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.verificarIngreso(1))}),u._uU(9,"PACIENTE"),u.qZA()(),u.TgZ(10,"div",9),u._UZ(11,"img",12),u.TgZ(12,"button",11),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.verificarIngreso(2))}),u._uU(13,"ESPECIALISTA"),u.qZA()(),u.TgZ(14,"div",9),u._UZ(15,"img",13),u.TgZ(16,"button",11),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.verificarIngreso(3))}),u._uU(17,"ADMINISTRADOR"),u.qZA()()()()()}}function R3(n,e){if(1&n&&(u.TgZ(0,"div"),u._UZ(1,"app-registro",14),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Q6J("login",t.esAdmin)("esPaciente",t.esPaciente)}}let k3=(()=>{class n{constructor(t,r){this.router=t,this.firestoreService=r,this.esPaciente=!1,this.esEspecialista=!1,this.esAdmin=!1,this.sinElegir=!0,this.esPaciente=!1,this.esEspecialista=!1,this.sinElegir=!0,this.listaPacientes=[],this.listaEspecialistas=[],this.listaAdmin=[]}ngOnInit(){this.listaFiltrada=[],this.firestoreService.traerEspecialidades().subscribe(t=>{this.especialidades=t.map(r=>r.nombre),this.listaFiltrada=[...this.especialidades]}),this.firestoreService.traer().subscribe(t=>{this.listaPacientes=t}),this.firestoreService.traerEsp().subscribe(t=>{this.listaEspecialistas=t}),this.firestoreService.traerAdmin().subscribe(t=>{this.listaAdmin=t})}verificarIngreso(t){1==t?(this.esPaciente=!0,this.sinElegir=!1,this.esAdmin=!1,this.router.navigate(["/registro"])):2==t?(this.esEspecialista=!0,this.sinElegir=!1,this.router.navigate(["/registroEspecialista"])):(this.esAdmin=!0,this.sinElegir=!1)}volverMenuPrincipal(){this.router.navigate(["/ingresar"]),this.esAdmin=!1,this.sinElegir=!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(xi),u.Y36(vy))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-ingresar"]],decls:4,vars:3,consts:[["class","btn-menu-volver",3,"click",4,"ngIf"],["class","main",4,"ngIf"],[4,"ngIf"],[1,"btn-menu-volver",3,"click"],[1,"main"],[1,"ingreso"],[1,"entry-title"],[1,"container",2,"position","fixed","top","40%"],[1,"d-flex","flex-wrap"],[1,"flex-column",2,"flex","2","display","flex","justify-content","center","align-items","center"],["src","/assets/usuarios/personas.png","alt","",2,"width","50%"],[1,"boton",3,"click"],["src","/assets/usuarios/medicos.png","alt","",2,"width","50%"],["src","/assets/usuarios/admin.png","alt","",2,"width","50%"],[3,"login","esPaciente"]],template:function(t,r){1&t&&(u.TgZ(0,"body"),u.YNc(1,P3,2,0,"button",0),u.YNc(2,O3,18,0,"div",1),u.YNc(3,R3,2,2,"div",2),u.qZA()),2&t&&(u.xp6(1),u.Q6J("ngIf",r.esAdmin),u.xp6(1),u.Q6J("ngIf",r.sinElegir&&!r.esAdmin),u.xp6(1),u.Q6J("ngIf",r.esAdmin))},dependencies:[_i,fS],styles:['body[_ngcontent-%COMP%]{margin:0;padding:0;display:flex;justify-content:center;align-items:center;min-height:100vh;font-family:Jost,sans-serif;background-size:cover;background-image:url("data:image/svg+xml;utf8,%3Csvg width=%221336%22 height=%22700%22 xmlns=%22http:%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cpath fill=%22%23edf8ee%22 d=%22M0 0h1336v700H0z%22%2F%3E%3Cpath d=%22M0 175h0c17.104-3.887 34.207-7.775 52-4 17.793 3.775 36.274 15.212 53 22s31.697 8.926 49 6 36.938-10.915 54-20c17.062-9.085 31.551-19.265 48-13 16.449 6.265 34.857 28.975 51 37 16.143 8.025 30.02 1.367 48-12s40.06-33.442 57-39c16.94-5.558 28.74 3.4 46 17s39.977 31.843 58 24c18.023-7.843 31.35-41.772 48-46 16.65-4.228 36.62 21.247 55 32 18.38 10.753 35.168 6.786 52 3 16.832-3.786 33.708-7.39 49-6 15.292 1.39 29.001 7.774 46 9s37.286-2.705 56-12 35.853-23.953 52-27c16.147-3.047 31.302 5.518 48 13s34.938 13.88 53 20c18.062 6.12 35.944 11.959 53 15 17.056 3.041 33.285 3.285 51-5 17.715-8.285 36.915-25.098 53-34 16.085-8.902 29.054-9.891 45-9 15.946.891 34.87 3.663 53 12 18.13 8.337 35.466 22.24 53 26 17.534 3.76 35.267-2.62 93-9%22 fill=%22none%22 stroke=%22%23b8e6be%22 stroke-width=%228%22 stroke-linecap=%22round%22%2F%3E%3Cpath d=%22M0 350h0c19.274 5.514 38.549 11.028 55 10 16.451-1.028 30.08-8.599 46-8 15.92.599 34.134 9.368 52 11 17.866 1.632 35.384-3.872 51-6s29.33-.881 48 3c18.67 3.881 42.299 10.396 60 14 17.701 3.604 29.475 4.296 44 0 14.525-4.296 31.802-13.579 51-27s40.316-30.98 58-27c17.684 3.98 31.933 29.502 49 37 17.067 7.498 36.953-3.028 55-8 18.047-4.972 34.255-4.39 49-8 14.745-3.61 28.026-11.414 46-14 17.974-2.586 40.64.044 59 9s32.416 24.236 47 19c14.584-5.236 29.696-30.989 48-26 18.304 4.989 39.798 40.719 59 40 19.202-.719 36.11-37.886 51-40 14.89-2.114 27.759 30.823 44 36s35.854-17.408 54-14c18.146 3.408 34.824 32.81 51 29 16.176-3.81 31.851-40.833 49-51 17.149-10.167 35.772 6.522 53 18s33.061 17.744 50 10 34.982-29.498 53-33c18.018-3.502 36.009 11.25 94 26%22 fill=%22none%22 stroke=%22%236ccc79%22 stroke-width=%228%22 stroke-linecap=%22round%22%2F%3E%3Cpath d=%22M0 525h0c16.007 4.998 32.015 9.997 48 2s31.948-28.99 51-32c19.052-3.01 41.193 11.96 59 20 17.807 8.04 31.279 9.151 46 7s30.692-7.564 48-5 35.952 13.105 53 17c17.048 3.895 32.5 1.146 50 2 17.5.854 37.047 5.313 55 8 17.953 2.687 34.312 3.603 51 2 16.688-1.603 33.703-5.725 52-9 18.297-3.275 37.875-5.702 56-4s34.798 7.534 50 5c15.202-2.534 28.933-13.434 46-23s37.472-17.796 55-7 32.18 40.62 50 39c17.82-1.62 38.807-34.684 55-35 16.193-.316 27.593 32.116 44 41s37.82-5.78 57-11 36.125-.998 53 2 33.678 4.77 50 0c16.322-4.77 32.16-16.084 50-16 17.84.084 37.678 11.567 54 14 16.322 2.433 29.128-4.183 46-15s37.812-25.835 56-29c18.188-3.165 33.625 5.524 50 12s33.687 10.738 91 15%22 fill=%22none%22 stroke=%22%237bd187%22 stroke-width=%228%22 stroke-linecap=%22round%22%2F%3E%3C%2Fsvg%3E")}.main[_ngcontent-%COMP%]{width:700px;height:700px;background-color:#ffffff21;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);overflow:hidden;border-radius:10px;box-shadow:5px 20px 50px #000}.ingreso[_ngcontent-%COMP%]{width:400px;padding:30px;background:#0a6b576f;margin:auto;transition:.3s ease;box-shadow:0 1px 2px #0000004d}.entry-title[_ngcontent-%COMP%]{font-size:34px;display:flex;align-items:center;justify-content:center;color:#fff;font-family:Yanone Kaffeesatz;font-weight:900}.boton[_ngcontent-%COMP%]{position:relative;color:#fff;text-decoration:none;background-color:#0a6b576f;font-family:Yanone Kaffeesatz;font-weight:700;font-size:20px;display:block;padding:4px;border-radius:8px;box-shadow:0 9px #0a6b576f,0 9px 25px #000000b3;margin:50px auto;width:190px;text-align:center;transition:all .1s ease}.boton[_ngcontent-%COMP%]:active{box-shadow:0 3px #3596059c,0 3px 6px #000000e6;position:relative;top:6px}.boton[_ngcontent-%COMP%]:hover{top:2px}.btn-menu-volver[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;width:10rem;position:absolute;left:6%;top:5%;height:3rem;border:groove 3px;background-color:#0e553f;z-index:10000;color:#fff}.btn-menu-volver[_ngcontent-%COMP%]:hover{background-color:#83bf9b;color:#000;font-weight:400}']}),n})();class VP{constructor(e,t,r,i,l,c,g,_,D){this.nombre=e,this.apellido=t,this.edad=r,this.dni=i,this.especialidad=l,this.mail=c,this.password=g,this.fotos=_,this.habilitado=D}}class N3{constructor(e,t,r,i,l,c,g){this.nombre=e,this.apellido=t,this.edad=r,this.dni=i,this.mail=l,this.password=c,this.fotos=g}}function F3(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"button",12),u.NdJ("click",function(){const l=u.CHM(t).$implicit,c=u.oxw(3);return u.KtG(c.clickListado(l))}),u._uU(1),u.qZA()}if(2&n){const t=e.$implicit;u.xp6(1),u.Oqu(t)}}function L3(n,e){if(1&n&&(u.TgZ(0,"div",10),u.YNc(1,F3,2,1,"button",11),u.qZA()),2&n){const t=u.oxw(2);u.xp6(1),u.Q6J("ngForOf",t.especialidades)}}function V3(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"button",12),u.NdJ("click",function(){const l=u.CHM(t).$implicit,c=u.oxw(3);return u.KtG(c.clickListado(l))}),u._uU(1),u.qZA()}if(2&n){const t=e.$implicit;u.xp6(1),u.Oqu(t)}}function U3(n,e){if(1&n&&(u.TgZ(0,"div",10),u.YNc(1,V3,2,1,"button",11),u.qZA()),2&n){const t=u.oxw(2);u.xp6(1),u.Q6J("ngForOf",t.listaFiltrada)}}const B3=function(n,e){return{"is-invalid":n,"is-valid":e}};function $3(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div")(1,"h3",2),u._uU(2," Seleccione una especialidad:"),u.qZA(),u.TgZ(3,"input",3),u.NdJ("ngModelChange",function(i){u.CHM(t);const l=u.oxw();return u.KtG(l.valorInput=i)})("input",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.filtrarLista())})("blur",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.validarEspecialidad())}),u.qZA(),u.TgZ(4,"div",4),u._uU(5," S\xf3lo ingresar letras "),u.qZA(),u.TgZ(6,"div",5),u._uU(7," Especialidad v\xe1lida "),u.qZA(),u.TgZ(8,"button",6),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.agregarItem())}),u._UZ(9,"i",7),u.qZA(),u.TgZ(10,"button",6),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.ayuda())}),u._UZ(11,"i",8),u.qZA(),u.TgZ(12,"ul"),u.YNc(13,L3,2,1,"div",9),u.YNc(14,U3,2,1,"div",9),u.qZA()()}if(2&n){const t=u.oxw();u.xp6(3),u.Q6J("ngModel",t.valorInput)("ngClass",u.WLB(4,B3,!t.inputValidado,t.inputValidado)),u.xp6(10),u.Q6J("ngIf",0==t.listaFiltrada.length),u.xp6(1),u.Q6J("ngIf",t.listaFiltrada.length>0)}}let UP=(()=>{class n{constructor(t,r){this.firestoreService=t,this.swalService=r,this.botonClickeado=new u.vpe,this.especialidades=[],this.listaFiltrada=[],this.inputValidado=!1,this.listaEspecialidades=[],this.nuevaEspecialidad="",this.valorInput=""}ngOnInit(){this.listaFiltrada=[],this.firestoreService.traerEspecialidades().subscribe(t=>{this.especialidades=t.map(r=>r.nombre),this.listaFiltrada=[...this.especialidades]})}validarEspecialidad(){this.valorInput.match(/^[a-zA-Z ]+$/)?(this.inputValidado=!0,this.nuevaEspecialidad=this.valorInput):this.inputValidado=!1,this.valorInput="",this.listaFiltrada=[...this.especialidades]}filtrarLista(){this.listaFiltrada=this.especialidades.filter(t=>t.toLowerCase().includes(this.valorInput.toLowerCase()))}agregarItem(){this.inputValidado?(this.firestoreService.setEspecialidad(this.nuevaEspecialidad),this.swalService.crearSwal("Especialidad agregada con \xe9xito!","AGREGADA","success")):this.swalService.crearSwal("S\xf3lo debe contener letras","FALL\xd3 AL AGREGAR","error")}ayuda(){this.swalService.crearSwal("Si no encuentra su especialidad en la lista, puede agregarla escribiendola y tocando el bot\xf3n '+'","Modo de uso:","info")}clickListado(t){if(!this.listaEspecialidades.includes(t)&&this.listaEspecialidades.length<5)this.listaEspecialidades.push(t),this.botonClickeado.emit(this.listaEspecialidades);else if(this.listaEspecialidades.includes(t)&&this.listaEspecialidades.length<6){let r=this.listaEspecialidades.indexOf(t);this.listaEspecialidades.splice(r,1),this.botonClickeado.emit(this.listaEspecialidades)}}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(vy),u.Y36(S0))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-especialidades"]],outputs:{botonClickeado:"botonClickeado"},decls:2,vars:1,consts:[[1,"main"],[4,"ngIf"],[2,"font-size","20px","align-items","center","justify-content","center","display","flex","font-family","'Poppins', sans-serif","margin-top","2%","font-weight","600"],["type","text","placeholder","Buscar","pattern","[a-zA-Z ]+","title","Solo se permiten letras",2,"width","80%",3,"ngModel","ngClass","ngModelChange","input","blur"],[1,"invalid-feedback"],[1,"valid-feedback"],[2,"width","10%",3,"click"],["aria-hidden","true",1,"fa","fa-plus"],["aria-hidden","true",1,"fa","fa-question"],["style","display: flex; flex-direction: column; align-items: flex-start;height: 20px;font-family: 'Poppins', sans-serif;",4,"ngIf"],[2,"display","flex","flex-direction","column","align-items","flex-start","height","20px","font-family","'Poppins', sans-serif"],["class","btn","style","height: 70px;width: 300px;",3,"click",4,"ngFor","ngForOf"],[1,"btn",2,"height","70px","width","300px",3,"click"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0),u.YNc(1,$3,15,7,"div",1),u.qZA()),2&t&&(u.xp6(1),u.Q6J("ngIf",r.especialidades.length>0))},dependencies:[wy,xE,WA,F0,qt,Li,_i],styles:[".main[_ngcontent-%COMP%]{width:300px;height:800px;background-color:#236f2d72;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);overflow:hidden;margin-left:30%;border-radius:10px;box-shadow:5px 20px 50px #000}.custom-list[_ngcontent-%COMP%]{border:1px solid #ccc;padding:5px}ul[_ngcontent-%COMP%]{list-style-type:style type none;padding:0}li[_ngcontent-%COMP%]{margin-bottom:1px}.btn[_ngcontent-%COMP%]{padding:1;width:100%;background:transparent;border:1px groove rgba(0,0,0,.315);border-radius:0;text-align:left;margin-top:0;height:20px}.btn[_ngcontent-%COMP%]:hover{background-color:#4c7752}"]}),n})();function j3(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"input",26),u.NdJ("ngModelChange",function(i){u.CHM(t);const l=u.oxw();return u.KtG(l.registro=i)})("ngModelChange",function(i){u.CHM(t);const l=u.oxw();return u.KtG(l.handleChangeCheckbox(i))}),u.qZA()}if(2&n){const t=u.oxw();u.Q6J("ngModel",t.registro)}}function H3(n,e){1&n&&(u.TgZ(0,"small",27),u._uU(1," Ingrese su nombre "),u.qZA())}function z3(n,e){1&n&&(u.TgZ(0,"small",27),u._uU(1," Ingrese su apellido "),u.qZA())}function G3(n,e){1&n&&(u.TgZ(0,"small",27),u._uU(1," Ingrese su edad "),u.qZA())}function q3(n,e){1&n&&(u.TgZ(0,"small",27),u._uU(1," Ingrese su dni "),u.qZA())}function W3(n,e){if(1&n&&u._UZ(0,"input",28),2&n){const t=u.oxw();u.Q6J("value",t.especialidad?t.inputEspecialidades:"Elegir especialidad")}}function Z3(n,e){1&n&&(u.TgZ(0,"small",29),u._uU(1," Ingrese su mail "),u.qZA())}function K3(n,e){1&n&&(u.TgZ(0,"small",29),u._uU(1," Ingrese su clave "),u.qZA())}function Y3(n,e){1&n&&(u.TgZ(0,"small",29),u._uU(1," Ingrese una imagen "),u.qZA())}function Q3(n,e){1&n&&u._UZ(0,"img",30),2&n&&u.Q6J("src",e.$implicit,u.LSH)}function J3(n,e){1&n&&(u.TgZ(0,"small",29),u._uU(1," Ingrese su mail "),u.qZA())}function X3(n,e){1&n&&(u.TgZ(0,"small",29),u._uU(1," Ingrese su clave "),u.qZA())}const Rf=function(n,e){return{"is-invalid":n,"is-valid":e}};function e5(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",31)(1,"form",3),u.NdJ("ngSubmit",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.loguear())}),u.TgZ(2,"label",4),u._uU(3,"Ingresar"),u.qZA(),u.TgZ(4,"div",5)(5,"div",13)(6,"input",32),u.NdJ("input",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.validarCorreo())}),u.qZA(),u.YNc(7,J3,2,0,"small",15),u.TgZ(8,"input",33),u.NdJ("input",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.validarPass())}),u.qZA(),u.YNc(9,X3,2,0,"small",15),u.qZA()(),u.TgZ(10,"button",22),u._uU(11,"Aceptar"),u.qZA()()()}if(2&n){const t=u.oxw();u.xp6(1),u.Q6J("formGroup",t.formLogin),u.xp6(5),u.Q6J("ngClass",u.WLB(5,Rf,!t.correoValido,t.correoValido)),u.xp6(1),u.Q6J("ngIf",(null==t.formLogin.controls.mail.value?null:t.formLogin.controls.mail.value.length)>0),u.xp6(1),u.Q6J("ngClass",u.WLB(8,Rf,!t.passValido,t.passValido)),u.xp6(1),u.Q6J("ngIf",(null==t.formLogin.controls.pw.value?null:t.formLogin.controls.pw.value.length)>0)}}function t5(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div")(1,"app-especialidades",34),u.NdJ("botonClickeado",function(i){u.CHM(t);const l=u.oxw();return u.KtG(l.clickListado(i))}),u.qZA()()}}function n5(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div")(1,"app-usuarios",35),u.NdJ("botonClickeadoUsuarios",function(i){u.CHM(t);const l=u.oxw();return u.KtG(l.clickListadoUsuarios(i))}),u.qZA()()}}function r5(n,e){1&n&&(u.TgZ(0,"div",36),u._UZ(1,"span",37),u.qZA())}let BP=(()=>{class n{constructor(t,r,i,l,c){this.formBuilder=t,this.firestoreService=r,this.swalService=i,this.storage=l,this.authService=c,this.administrador=new N3("","",0,0,"","",[]),this.especialista=new VP("","",0,0,"","","",[],!1),this.imageCount=0,this.registro=!1,this.inputEspecialidades="",this.spinner=!1,this.apellidoValido=!1,this.nameValido=!1,this.edadValidada=!1,this.dniValido=!1,this.obraSocialValidada=!1,this.passValido=!1,this.correoValido=!1,this.passValidoConf=!1,this.images=[]}ngOnChanges(t){t.dondeEsta&&(this.dondeEsta=!this.dondeEsta)}ngOnInit(){this.form=this.formBuilder.group({nom:["",jn.required],ap:["",jn.required],ed:["",jn.required],dni:["",jn.required],mail:["",jn.required],pw:["",jn.required],ft:["",jn.required]}),this.formLogin=this.formBuilder.group({nom:["",jn.required],ap:["",jn.required],ed:["",jn.required],dni:["",jn.required],os:["",jn.required],mail:["",jn.required],pw:["",jn.required],ft:["",jn.required],hb:["",jn.required]})}handleChangeCheckbox(t){this.registro=t}guardar(){var t=this;return(0,Ce.Z)(function*(){if(!t.form.invalid&&t.images.length>0){t.spinner=!0,t.especialista.nombre=t.form.value.nom,t.especialista.apellido=t.form.value.ap,t.especialista.edad=t.form.value.ed,t.especialista.dni=t.form.value.dni,t.especialista.mail=t.form.value.mail,t.especialista.password=t.form.value.pw,t.especialista.fotos=t.form.value.ft;const i=document.getElementById("fileInput").files;if(i){const l=i[0],c=new Date,re=[],de=`img1_${c.getFullYear()}${(c.getMonth()+1).toString().padStart(2,"0")}${c.getDate().toString().padStart(2,"0")}_${c.getHours().toString().padStart(2,"0")}${c.getMinutes().toString().padStart(2,"0")}${c.getSeconds().toString().padStart(2,"0")}`;if(t.admin){const Oe=dS(t.storage,`administradores/${t.especialista.dni}/${de}`);yield hS(Oe,l);const Se=yield cS(Oe);re.push(Se),t.especialista.fotos=re,t.administrador.nombre=t.especialista.nombre,t.administrador.apellido=t.especialista.apellido,t.administrador.edad=t.especialista.edad,t.administrador.dni=t.especialista.dni,t.administrador.mail=t.especialista.mail,t.administrador.password=t.especialista.password,t.administrador.fotos=t.especialista.fotos,t.spinner=!1,t.firestoreService.guardarAdmin(t.administrador)}else{const Oe=dS(t.storage,`especialistas/${t.especialista.dni}/${de}`);yield hS(Oe,l);const Se=yield cS(Oe);re.push(Se),t.especialista.especialidad=t.especialidad,t.especialista.habilitado=!1,t.especialista.fotos=re,t.spinner=!1,t.firestoreService.guardarEsp(t.especialista)}}else t.swalService.crearSwal("Debe seleccionar una imagen","DEBE SUBIR UNA IMAGEN","error");t.limpiar()}else t.swalService.crearSwal("Debe ingresar todos los datos","INCOMPLETO","warning")})()}limpiar(){this.especialista=new VP("","",0,0,"","","",[],!1),this.form.reset(),this.images=[],this.especialidad=null}handleFileInputChange(t){const r=t.target.files;if(1===r.length){this.images=[];for(let i=0;i<r.length;i++){const c=URL.createObjectURL(r[i]);this.images.push(c)}}else this.swalService.crearSwal("Debe subir solo una imagen","INCOMPLETO","warning")}clickListado(t){this.inputEspecialidades=t.join(" - "),this.especialidad=t}loguear(){this.usuario.hasOwnProperty("habilitado")?1==this.formLogin.value.hb?this.authService.login(this.formLogin.value.mail,this.formLogin.value.pw,this.formLogin.value.ft[0],this.formLogin.value.nom,!1):this.swalService.crearSwal("Su cuenta no ha sido verificada por el Admin","Error","error"):this.authService.login(this.formLogin.value.mail,this.formLogin.value.pw,this.formLogin.value.ft[0],this.formLogin.value.nom,!0)}clickListadoUsuarios(t){this.usuario=t,this.formLogin.patchValue({nom:this.usuario.nombre,ap:this.usuario.apellido,ed:this.usuario.edad,dni:this.usuario.dni,os:this.usuario.obraSocial,mail:this.usuario.mail,pw:this.usuario.password,ft:this.usuario.fotos,hb:this.usuario.habilitado})}validarDni(){this.dniValido=this.form.value.dni>999999&&this.form.value.dni<1e8}validarApellido(){this.apellidoValido=!!(this.form.value.ap.match(/[a-zA-Z]/)&&this.form.value.ap.length<15&&this.form.value.ap.length>2)}validarEdad(){this.edadValidada=this.form.value.ed>17&&this.form.value.ed<100}validarName(){this.nameValido=!!(this.form.value.nom.match(/[a-zA-Z]/)&&this.form.value.nom.length<15&&this.form.value.nom.length>2)}validarPass(){this.passValido=!!this.form.value.pw.match(/[0-9a-zA-Z]{6,}/)}validarCorreo(){this.correoValido=!!(this.form.value.mail.match(/^[\w-.]+@([\w-]+.)+[\w-]{2,4}$/)&&this.form.value.mail.length>6)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(tP),u.Y36(vy),u.Y36(S0),u.Y36(H0),u.Y36(GE))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-registro-especialista"]],inputs:{especialidad:"especialidad",usuario:"usuario",dondeEsta:"dondeEsta",admin:"admin"},features:[u.TTD],decls:40,vars:39,consts:[[1,"main"],["type","checkbox","id","chk","aria-hidden","true",3,"ngModel","ngModelChange",4,"ngIf"],[1,"signup"],["novalidate","",1,"needs-validation",3,"formGroup","ngSubmit"],["for","chk","aria-hidden","true"],[1,"d-flex","flex-wrap"],[1,"flex-column",2,"flex","2"],["type","text","name","txt","placeholder","Nombre","required","","formControlName","nom",1,"form-control","text-success",2,"width","80%",3,"ngClass","input"],["class","invalid-feedback","style","color: rgb(226, 53, 53); margin-left: 11%; top:0;",4,"ngIf"],["type","text","name","txt","placeholder","Apellido","required","","formControlName","ap",1,"form-control","text-success",2,"width","80%",3,"ngClass","input"],["type","number","name","nmb","placeholder","Edad","required","","formControlName","ed",1,"form-control","text-success",2,"width","80%",3,"ngClass","input"],["type","number","name","nmb","placeholder","DNI","required","","formControlName","dni",1,"form-control","text-success",2,"width","80%",3,"ngClass","input"],["style","width: 95%;","type","text","readonly","","name","txt","placeholder","Especialidad","class","form-control text-success",3,"value",4,"ngIf"],[1,"flex-column",2,"flex","1"],["type","email","name","email","placeholder","Mail","required","","formControlName","mail",1,"form-control","text-success",2,"width","80%",3,"ngClass","input"],["class","invalid-feedback","style","color: rgb(226, 53, 53); margin-left: 20%; top:0;",4,"ngIf"],["type","password","name","pswd","placeholder","Clave","required","","formControlName","pw",1,"form-control","text-success",2,"width","80%",3,"ngClass","input"],["for","file",2,"font-size","20px","margin-bottom","-2%","margin-top","0%"],["type","file","id","fileInput","name","ft","accept","image/*","formControlName","ft","required","",1,"form-control","text-success",3,"change"],["class","invalid-feedback","style","color: rgb(226, 53, 53); margin-left: 20%; top: 0;",4,"ngIf"],[1,"images",2,"align-items","center","display","flex","justify-content","center"],["style","width: 100px;height: 100px;",3,"src",4,"ngFor","ngForOf"],["type","submit"],["class","login",4,"ngIf"],[4,"ngIf"],["class","spinner-container",4,"ngIf"],["type","checkbox","id","chk","aria-hidden","true",3,"ngModel","ngModelChange"],[1,"invalid-feedback",2,"color","rgb(226, 53, 53)","margin-left","11%","top","0"],["type","text","readonly","","name","txt","placeholder","Especialidad",1,"form-control","text-success",2,"width","95%",3,"value"],[1,"invalid-feedback",2,"color","rgb(226, 53, 53)","margin-left","20%","top","0"],[2,"width","100px","height","100px",3,"src"],[1,"login"],["type","email","name","email","placeholder","Mail","required","","formControlName","mail",1,"form-control","text-success",2,"width","60%",3,"ngClass","input"],["type","password","name","pswd","placeholder","Clave","required","","formControlName","pw",1,"form-control","text-success",2,"width","60%",3,"ngClass","input"],[3,"botonClickeado"],[3,"botonClickeadoUsuarios"],[1,"spinner-container"],[1,"loader"]],template:function(t,r){1&t&&(u.TgZ(0,"body")(1,"div",0),u.YNc(2,j3,1,1,"input",1),u.TgZ(3,"div",2)(4,"form",3),u.NdJ("ngSubmit",function(){return r.guardar()}),u.TgZ(5,"label",4),u._uU(6,"Registrarse"),u.qZA(),u.TgZ(7,"div",5)(8,"div",6)(9,"div")(10,"input",7),u.NdJ("input",function(){return r.validarName()}),u.qZA(),u.YNc(11,H3,2,0,"small",8),u.TgZ(12,"input",9),u.NdJ("input",function(){return r.validarApellido()}),u.qZA(),u.YNc(13,z3,2,0,"small",8),u.qZA()(),u.TgZ(14,"div",6)(15,"div")(16,"input",10),u.NdJ("input",function(){return r.validarEdad()}),u.qZA(),u.YNc(17,G3,2,0,"small",8),u.TgZ(18,"input",11),u.NdJ("input",function(){return r.validarDni()}),u.qZA(),u.YNc(19,q3,2,0,"small",8),u.qZA()()(),u.YNc(20,W3,1,1,"input",12),u.TgZ(21,"div",5)(22,"div",13)(23,"input",14),u.NdJ("input",function(){return r.validarCorreo()}),u.qZA(),u.YNc(24,Z3,2,0,"small",15),u.qZA(),u.TgZ(25,"div",13)(26,"input",16),u.NdJ("input",function(){return r.validarPass()}),u.qZA(),u.YNc(27,K3,2,0,"small",15),u.qZA()(),u.TgZ(28,"label",17),u._uU(29,"INGRESE UNA IMAGEN"),u.qZA(),u.TgZ(30,"input",18),u.NdJ("change",function(l){return r.handleFileInputChange(l)}),u.qZA(),u.YNc(31,Y3,2,0,"small",19),u.TgZ(32,"div",20),u.YNc(33,Q3,1,1,"img",21),u.qZA(),u.TgZ(34,"button",22),u._uU(35,"Registrar"),u.qZA()()(),u.YNc(36,e5,12,11,"div",23),u.qZA(),u.YNc(37,t5,2,0,"div",24),u.YNc(38,n5,2,0,"div",24),u.YNc(39,r5,2,0,"div",25),u.qZA()),2&t&&(u.xp6(2),u.Q6J("ngIf",!r.dondeEsta&&!r.admin),u.xp6(2),u.Q6J("formGroup",r.form),u.xp6(6),u.Q6J("ngClass",u.WLB(21,Rf,!r.nameValido,r.nameValido)),u.xp6(1),u.Q6J("ngIf",(null==r.form.controls.nom.value?null:r.form.controls.nom.value.length)>0),u.xp6(1),u.Q6J("ngClass",u.WLB(24,Rf,!r.apellidoValido,r.apellidoValido)),u.xp6(1),u.Q6J("ngIf",(null==r.form.controls.ap.value?null:r.form.controls.ap.value.length)>0),u.xp6(3),u.Q6J("ngClass",u.WLB(27,Rf,!r.edadValidada,r.edadValidada)),u.xp6(1),u.Q6J("ngIf",(null==r.form.controls.ed.value?null:r.form.controls.ed.value.length)>0),u.xp6(1),u.Q6J("ngClass",u.WLB(30,Rf,!r.dniValido,r.dniValido)),u.xp6(1),u.Q6J("ngIf",(null==r.form.controls.dni.value?null:r.form.controls.dni.value.length)>0),u.xp6(1),u.Q6J("ngIf",!r.admin),u.xp6(3),u.Q6J("ngClass",u.WLB(33,Rf,!r.correoValido,r.correoValido)),u.xp6(1),u.Q6J("ngIf",(null==r.form.controls.mail.value?null:r.form.controls.mail.value.length)>0),u.xp6(2),u.Q6J("ngClass",u.WLB(36,Rf,!r.passValido,r.passValido)),u.xp6(1),u.Q6J("ngIf",(null==r.form.controls.pw.value?null:r.form.controls.pw.value.length)>0),u.xp6(4),u.Q6J("ngIf",(null==r.form.controls.ft.errors?null:r.form.controls.ft.errors.required)&&r.form.controls.ft.touched),u.xp6(2),u.Q6J("ngForOf",r.images),u.xp6(3),u.Q6J("ngIf",!r.dondeEsta),u.xp6(1),u.Q6J("ngIf",!r.registro&&!r.admin),u.xp6(1),u.Q6J("ngIf",r.registro&&!r.admin),u.xp6(1),u.Q6J("ngIf",r.spinner))},dependencies:[$A,wy,VE,TE,xE,MA,V0,F0,qt,Li,_i,L0,UE,UP,LP],styles:['body[_ngcontent-%COMP%]{margin:0;padding:0;display:flex;justify-content:center;align-items:center;min-height:100vh;font-family:Jost,sans-serif;background-size:cover;background-image:url("data:image/svg+xml;utf8,%3Csvg width=%221336%22 height=%22700%22 xmlns=%22http:%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cpath fill=%22%23edf8ee%22 d=%22M0 0h1336v700H0z%22%2F%3E%3Cpath d=%22M0 175h0c17.104-3.887 34.207-7.775 52-4 17.793 3.775 36.274 15.212 53 22s31.697 8.926 49 6 36.938-10.915 54-20c17.062-9.085 31.551-19.265 48-13 16.449 6.265 34.857 28.975 51 37 16.143 8.025 30.02 1.367 48-12s40.06-33.442 57-39c16.94-5.558 28.74 3.4 46 17s39.977 31.843 58 24c18.023-7.843 31.35-41.772 48-46 16.65-4.228 36.62 21.247 55 32 18.38 10.753 35.168 6.786 52 3 16.832-3.786 33.708-7.39 49-6 15.292 1.39 29.001 7.774 46 9s37.286-2.705 56-12 35.853-23.953 52-27c16.147-3.047 31.302 5.518 48 13s34.938 13.88 53 20c18.062 6.12 35.944 11.959 53 15 17.056 3.041 33.285 3.285 51-5 17.715-8.285 36.915-25.098 53-34 16.085-8.902 29.054-9.891 45-9 15.946.891 34.87 3.663 53 12 18.13 8.337 35.466 22.24 53 26 17.534 3.76 35.267-2.62 93-9%22 fill=%22none%22 stroke=%22%23b8e6be%22 stroke-width=%228%22 stroke-linecap=%22round%22%2F%3E%3Cpath d=%22M0 350h0c19.274 5.514 38.549 11.028 55 10 16.451-1.028 30.08-8.599 46-8 15.92.599 34.134 9.368 52 11 17.866 1.632 35.384-3.872 51-6s29.33-.881 48 3c18.67 3.881 42.299 10.396 60 14 17.701 3.604 29.475 4.296 44 0 14.525-4.296 31.802-13.579 51-27s40.316-30.98 58-27c17.684 3.98 31.933 29.502 49 37 17.067 7.498 36.953-3.028 55-8 18.047-4.972 34.255-4.39 49-8 14.745-3.61 28.026-11.414 46-14 17.974-2.586 40.64.044 59 9s32.416 24.236 47 19c14.584-5.236 29.696-30.989 48-26 18.304 4.989 39.798 40.719 59 40 19.202-.719 36.11-37.886 51-40 14.89-2.114 27.759 30.823 44 36s35.854-17.408 54-14c18.146 3.408 34.824 32.81 51 29 16.176-3.81 31.851-40.833 49-51 17.149-10.167 35.772 6.522 53 18s33.061 17.744 50 10 34.982-29.498 53-33c18.018-3.502 36.009 11.25 94 26%22 fill=%22none%22 stroke=%22%236ccc79%22 stroke-width=%228%22 stroke-linecap=%22round%22%2F%3E%3Cpath d=%22M0 525h0c16.007 4.998 32.015 9.997 48 2s31.948-28.99 51-32c19.052-3.01 41.193 11.96 59 20 17.807 8.04 31.279 9.151 46 7s30.692-7.564 48-5 35.952 13.105 53 17c17.048 3.895 32.5 1.146 50 2 17.5.854 37.047 5.313 55 8 17.953 2.687 34.312 3.603 51 2 16.688-1.603 33.703-5.725 52-9 18.297-3.275 37.875-5.702 56-4s34.798 7.534 50 5c15.202-2.534 28.933-13.434 46-23s37.472-17.796 55-7 32.18 40.62 50 39c17.82-1.62 38.807-34.684 55-35 16.193-.316 27.593 32.116 44 41s37.82-5.78 57-11 36.125-.998 53 2 33.678 4.77 50 0c16.322-4.77 32.16-16.084 50-16 17.84.084 37.678 11.567 54 14 16.322 2.433 29.128-4.183 46-15s37.812-25.835 56-29c18.188-3.165 33.625 5.524 50 12s33.687 10.738 91 15%22 fill=%22none%22 stroke=%22%237bd187%22 stroke-width=%228%22 stroke-linecap=%22round%22%2F%3E%3C%2Fsvg%3E")}.main[_ngcontent-%COMP%]{width:600px;height:800px;background-color:#ffffff21;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);overflow:hidden;border-radius:10px;box-shadow:5px 20px 50px #000}#chk[_ngcontent-%COMP%]{display:none}.signup[_ngcontent-%COMP%]{position:relative;width:100%;height:100%}label[_ngcontent-%COMP%]{color:#236f2d;font-size:40px;text-transform:uppercase;font-weight:bolder;justify-content:center;display:flex;margin:25px;cursor:pointer;transition:.3s ease-in-out}input[_ngcontent-%COMP%]{width:60%;height:40px;background:#bbe4bc;justify-content:center;display:flex;margin:15px auto;padding:10px;border:none;outline:none;border-radius:5px}button[_ngcontent-%COMP%]{width:50%;height:40px;margin:20px auto;justify-content:center;display:block;color:#fff;background:#7c7c7c;font-size:1em;font-weight:700;outline:none;border:none;border-radius:5px;transition:.2s ease-in;cursor:pointer}button[_ngcontent-%COMP%]:hover{background:#bbe4bc}.login[_ngcontent-%COMP%]{height:800px;background:#236f2d;border-radius:60%/10%;transform:translateY(-120px);transition:.5s ease-in-out}.login[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#bbe4bc;transform:scale(.6)}#chk[_ngcontent-%COMP%]:checked ~ .login[_ngcontent-%COMP%]{transform:translateY(-760px)}#chk[_ngcontent-%COMP%]:checked ~ .login[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{transform:scale(1)}#chk[_ngcontent-%COMP%]:checked ~ .signup[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{transform:scale(.6)}.spinner-container[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;width:100%;height:100%;transform:translate(-50%,-50%);display:flex;justify-content:center;align-items:center;z-index:100000000000}.loader[_ngcontent-%COMP%]{position:relative;width:100px;height:130px;background:#fff;border-radius:4px;z-index:1000}.loader[_ngcontent-%COMP%]:before{content:"";position:absolute;width:54px;height:25px;left:50%;top:0;background-image:radial-gradient(ellipse at center,#0000 24%,#de3500 25%,#de3500 64%,#0000 65%),linear-gradient(to bottom,#0000 34%,#de3500 35%);background-size:12px 12px,100% auto;background-repeat:no-repeat;background-position:center top;transform:translate(-50%,-65%);box-shadow:0 -3px #00000040 inset}.loader[_ngcontent-%COMP%]:after{content:"";position:absolute;left:50%;top:20%;transform:translate(-50%);width:66%;height:60%;background:linear-gradient(to bottom,#f79577 30%,#0000 31%);background-size:100% 16px;animation:_ngcontent-%COMP%_writeDown 2s ease-out infinite}@keyframes _ngcontent-%COMP%_writeDown{0%{height:0%;opacity:0}20%{height:0%;opacity:1}80%{height:65%;opacity:1}to{height:65%;opacity:0}}']}),n})();function i5(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"button",9),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.showCreateUserMenu())}),u._uU(1," REGISTRAR NUEVO USUARIO "),u.qZA()}}function s5(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"button",10),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.showUserList())}),u._uU(1," VOLVER AL LISTADO DE USUARIOS "),u.qZA()}}function o5(n,e){1&n&&(u.TgZ(0,"h3"),u._uU(1,"LISTADO DE USUARIOS"),u.qZA())}function a5(n,e){1&n&&(u.TgZ(0,"td",17)(1,"span"),u._uU(2,"Especialista"),u.qZA()())}function l5(n,e){1&n&&(u.TgZ(0,"td",17)(1,"span"),u._uU(2,"Paciente"),u.qZA()())}function u5(n,e){1&n&&(u.TgZ(0,"td",17)(1,"span"),u._uU(2,"Administrador"),u.qZA()())}function c5(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"button",20),u.NdJ("click",function(){u.CHM(t);const i=u.oxw(2).$implicit,l=u.oxw(2);return u.KtG(l.updateUser(i,1))}),u._uU(1," Habilitar "),u.qZA()}}function d5(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"button",21),u.NdJ("click",function(){u.CHM(t);const i=u.oxw(2).$implicit,l=u.oxw(2);return u.KtG(l.updateUser(i,2))}),u._uU(1," Deshabilitar "),u.qZA()}}function h5(n,e){if(1&n&&(u.TgZ(0,"div"),u.YNc(1,c5,2,0,"button",18),u.YNc(2,d5,2,0,"button",19),u.qZA()),2&n){const t=u.oxw().$implicit;u.xp6(1),u.Q6J("ngIf",!t.habilitado),u.xp6(1),u.Q6J("ngIf",t.habilitado)}}function f5(n,e){if(1&n&&(u.TgZ(0,"tr",15),u.YNc(1,a5,3,0,"td",16),u.YNc(2,l5,3,0,"td",16),u.YNc(3,u5,3,0,"td",16),u.TgZ(4,"td")(5,"span"),u._uU(6),u.qZA()(),u.TgZ(7,"td")(8,"span"),u._uU(9),u.qZA()(),u.TgZ(10,"td"),u.YNc(11,h5,3,2,"div",3),u.qZA()()),2&n){const t=e.$implicit;u.xp6(1),u.Q6J("ngIf",t.hasOwnProperty("especialidad")),u.xp6(1),u.Q6J("ngIf",t.hasOwnProperty("obraSocial")),u.xp6(1),u.Q6J("ngIf",!t.hasOwnProperty("obraSocial")&&!t.hasOwnProperty("especialidad")),u.xp6(3),u.Oqu(t.nombre),u.xp6(3),u.Oqu(t.apellido),u.xp6(2),u.Q6J("ngIf",t.hasOwnProperty("especialidad"))}}function p5(n,e){if(1&n&&(u.TgZ(0,"div",11)(1,"table",12)(2,"thead")(3,"tr")(4,"th",13),u._uU(5,"PERFIL"),u.qZA(),u.TgZ(6,"th",13),u._uU(7,"NOMBRE"),u.qZA(),u.TgZ(8,"th",13),u._uU(9,"APELLIDO"),u.qZA(),u.TgZ(10,"th",13),u._uU(11,"ACCI\xd3N"),u.qZA()()(),u.TgZ(12,"tbody"),u.YNc(13,f5,12,6,"tr",14),u.qZA()()()),2&n){const t=u.oxw();u.xp6(13),u.Q6J("ngForOf",t.usersList)}}function g5(n,e){1&n&&(u.TgZ(0,"div",22),u._UZ(1,"span",23),u.qZA())}function m5(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",24)(1,"div",25),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.goToFormPaciente())}),u.TgZ(2,"div",26)(3,"h2"),u._uU(4,"Paciente"),u.qZA(),u._UZ(5,"img",27),u.qZA()(),u.TgZ(6,"div",25),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.goToFormEspecialista())}),u.TgZ(7,"div",26)(8,"h2"),u._uU(9,"Especialista"),u.qZA(),u._UZ(10,"img",28),u.qZA()(),u.TgZ(11,"div",25),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.goToFormAdministrador())}),u.TgZ(12,"div",26)(13,"h2"),u._uU(14,"Administrador"),u.qZA(),u._UZ(15,"img",29),u.qZA()()()}}function y5(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",30)(1,"button",31),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.goToRegistro())}),u._uU(2," VOLVER "),u.qZA(),u._UZ(3,"app-registro",32),u.qZA()}if(2&n){const t=u.oxw();u.xp6(3),u.Q6J("dondeEsta",t.dondeEsta)}}function _5(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",33)(1,"button",34),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.goToRegistro())}),u._uU(2," VOLVER "),u.qZA(),u.TgZ(3,"div",35),u._UZ(4,"app-registro-especialista",32),u.qZA()()}if(2&n){const t=u.oxw();u.xp6(4),u.Q6J("dondeEsta",t.dondeEsta)}}function v5(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",33)(1,"button",31),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.goToRegistro())}),u._uU(2," VOLVER "),u.qZA(),u._UZ(3,"app-registro-especialista",36),u.qZA()}if(2&n){const t=u.oxw();u.xp6(3),u.Q6J("dondeEsta",t.dondeEsta)("admin",!0)}}const w5=[{path:"adm-usuarios",component:(()=>{class n{constructor(t){this.firestoreService=t,this.dondeEsta=!1,this.usersList=[],this.createrUserMenu=!1,this.formPaciente=!1,this.formEspecialista=!1,this.formAdministrador=!1,this.spinner=!1,this.perfil=""}ngOnInit(){this.listaFiltrada=[],this.firestoreService.traerEspecialidades().subscribe(t=>{this.especialidades=t.map(r=>r.nombre),this.listaFiltrada=[...this.especialidades]}),this.spinner=!0,this.firestoreService.traerUsuariosCombinados().subscribe(t=>{setTimeout(()=>{this.usersList=t,this.spinner=!1},1e3)})}updateUser(t,r){t.hasOwnProperty("especialidad")&&(1==r?(t.habilitado=!0,this.firestoreService.updateEspecialista(t)):2==r&&(t.habilitado=!1,this.firestoreService.updateEspecialista(t)))}showCreateUserMenu(){this.spinner=!0,setTimeout(()=>{this.spinner=!1},1500),this.createrUserMenu=!0}showUserList(){this.createrUserMenu=!1,this.formPaciente=!1,this.formEspecialista=!1,this.formAdministrador=!1}goToFormPaciente(){this.formPaciente=!0}goToFormEspecialista(){this.formEspecialista=!0}goToFormAdministrador(){this.formAdministrador=!0}goToRegistro(){this.formPaciente=!1,this.formEspecialista=!1,this.formAdministrador=!1}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(vy))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-adm-usuarios"]],decls:10,vars:9,consts:[[1,"main"],["class","btn-habilitar btn-nuevo-usuario",3,"click",4,"ngIf"],["class","btn-habilitar btn-menu-volver",3,"click",4,"ngIf"],[4,"ngIf"],["class","tabla-usuario",4,"ngIf"],["class","spinner-container",4,"ngIf"],["class","opcion-registros row",4,"ngIf"],["class","registro-paciente",4,"ngIf"],["class","registro-especialista",4,"ngIf"],[1,"btn-habilitar","btn-nuevo-usuario",3,"click"],[1,"btn-habilitar","btn-menu-volver",3,"click"],[1,"tabla-usuario"],[1,"table"],["scope","col",2,"color","#000"],["class","tr-tabla",4,"ngFor","ngForOf"],[1,"tr-tabla"],["style","text-transform: upperCase",4,"ngIf"],[2,"text-transform","upperCase"],["class","btn-habilitar",3,"click",4,"ngIf"],["class","btn-deshabilitar",3,"click",4,"ngIf"],[1,"btn-habilitar",3,"click"],[1,"btn-deshabilitar",3,"click"],[1,"spinner-container"],[1,"loader"],[1,"opcion-registros","row"],[1,"col",3,"click"],[2,"box-shadow","0px 0px 15px #0000008b"],["src","/assets/usuarios/personas.png","alt","imagen paciente"],["src","/assets/usuarios/medicos.png","alt","imagen especialista"],["src","/assets/usuarios/admin.png","alt","imagen administrador"],[1,"registro-paciente"],[1,"btn-volver",3,"click"],[3,"dondeEsta"],[1,"registro-especialista"],[1,"btn-volver2",3,"click"],[2,"margin-left","15%"],[3,"dondeEsta","admin"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0),u.YNc(1,i5,2,0,"button",1),u.YNc(2,s5,2,0,"button",2),u.YNc(3,o5,2,0,"h3",3),u.YNc(4,p5,14,1,"div",4),u.YNc(5,g5,2,0,"div",5),u.qZA(),u.YNc(6,m5,16,0,"div",6),u.YNc(7,y5,4,1,"div",7),u.YNc(8,_5,5,1,"div",8),u.YNc(9,v5,4,2,"div",8)),2&t&&(u.xp6(1),u.Q6J("ngIf",!r.createrUserMenu),u.xp6(1),u.Q6J("ngIf",r.createrUserMenu),u.xp6(1),u.Q6J("ngIf",!r.createrUserMenu),u.xp6(1),u.Q6J("ngIf",!r.createrUserMenu),u.xp6(1),u.Q6J("ngIf",r.spinner),u.xp6(1),u.Q6J("ngIf",!r.formPaciente&&!r.formEspecialista&&!r.formAdministrador&&r.createrUserMenu),u.xp6(1),u.Q6J("ngIf",r.formPaciente),u.xp6(1),u.Q6J("ngIf",r.formEspecialista),u.xp6(1),u.Q6J("ngIf",r.formAdministrador))},dependencies:[Li,_i,fS,BP],styles:['.main[_ngcontent-%COMP%]{position:absolute;z-index:-1;top:5%;left:5%;width:95%;min-height:100vh;display:block;justify-content:center;align-items:center;background-size:cover;background-repeat:no-repeat;background-position:center;background-image:url("data:image/svg+xml;utf8,%3Csvg width=%221336%22 height=%22700%22 xmlns=%22http:%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cpath fill=%22%23edf8ee%22 d=%22M0 0h1336v700H0z%22%2F%3E%3Cpath d=%22M0 175h0c17.104-3.887 34.207-7.775 52-4 17.793 3.775 36.274 15.212 53 22s31.697 8.926 49 6 36.938-10.915 54-20c17.062-9.085 31.551-19.265 48-13 16.449 6.265 34.857 28.975 51 37 16.143 8.025 30.02 1.367 48-12s40.06-33.442 57-39c16.94-5.558 28.74 3.4 46 17s39.977 31.843 58 24c18.023-7.843 31.35-41.772 48-46 16.65-4.228 36.62 21.247 55 32 18.38 10.753 35.168 6.786 52 3 16.832-3.786 33.708-7.39 49-6 15.292 1.39 29.001 7.774 46 9s37.286-2.705 56-12 35.853-23.953 52-27c16.147-3.047 31.302 5.518 48 13s34.938 13.88 53 20c18.062 6.12 35.944 11.959 53 15 17.056 3.041 33.285 3.285 51-5 17.715-8.285 36.915-25.098 53-34 16.085-8.902 29.054-9.891 45-9 15.946.891 34.87 3.663 53 12 18.13 8.337 35.466 22.24 53 26 17.534 3.76 35.267-2.62 93-9%22 fill=%22none%22 stroke=%22%23b8e6be%22 stroke-width=%228%22 stroke-linecap=%22round%22%2F%3E%3Cpath d=%22M0 350h0c19.274 5.514 38.549 11.028 55 10 16.451-1.028 30.08-8.599 46-8 15.92.599 34.134 9.368 52 11 17.866 1.632 35.384-3.872 51-6s29.33-.881 48 3c18.67 3.881 42.299 10.396 60 14 17.701 3.604 29.475 4.296 44 0 14.525-4.296 31.802-13.579 51-27s40.316-30.98 58-27c17.684 3.98 31.933 29.502 49 37 17.067 7.498 36.953-3.028 55-8 18.047-4.972 34.255-4.39 49-8 14.745-3.61 28.026-11.414 46-14 17.974-2.586 40.64.044 59 9s32.416 24.236 47 19c14.584-5.236 29.696-30.989 48-26 18.304 4.989 39.798 40.719 59 40 19.202-.719 36.11-37.886 51-40 14.89-2.114 27.759 30.823 44 36s35.854-17.408 54-14c18.146 3.408 34.824 32.81 51 29 16.176-3.81 31.851-40.833 49-51 17.149-10.167 35.772 6.522 53 18s33.061 17.744 50 10 34.982-29.498 53-33c18.018-3.502 36.009 11.25 94 26%22 fill=%22none%22 stroke=%22%236ccc79%22 stroke-width=%228%22 stroke-linecap=%22round%22%2F%3E%3Cpath d=%22M0 525h0c16.007 4.998 32.015 9.997 48 2s31.948-28.99 51-32c19.052-3.01 41.193 11.96 59 20 17.807 8.04 31.279 9.151 46 7s30.692-7.564 48-5 35.952 13.105 53 17c17.048 3.895 32.5 1.146 50 2 17.5.854 37.047 5.313 55 8 17.953 2.687 34.312 3.603 51 2 16.688-1.603 33.703-5.725 52-9 18.297-3.275 37.875-5.702 56-4s34.798 7.534 50 5c15.202-2.534 28.933-13.434 46-23s37.472-17.796 55-7 32.18 40.62 50 39c17.82-1.62 38.807-34.684 55-35 16.193-.316 27.593 32.116 44 41s37.82-5.78 57-11 36.125-.998 53 2 33.678 4.77 50 0c16.322-4.77 32.16-16.084 50-16 17.84.084 37.678 11.567 54 14 16.322 2.433 29.128-4.183 46-15s37.812-25.835 56-29c18.188-3.165 33.625 5.524 50 12s33.687 10.738 91 15%22 fill=%22none%22 stroke=%22%237bd187%22 stroke-width=%228%22 stroke-linecap=%22round%22%2F%3E%3C%2Fsvg%3E")}.tabla-usuario[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center}.main[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:2rem;font-weight:bolder;margin-bottom:2%;display:flex;justify-content:center;align-items:center}.tabla-usuario[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{height:100%;width:95%;font-weight:400;border:groove 1px;background-color:#7abc7db5}.tabla-usuario[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#000}.tabla-usuario[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background-color:#d6d6d6c8;font-size:1.2rem;border:groove 1px}.tabla-usuario[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px}.btn-habilitar[_ngcontent-%COMP%]{position:absolute;background-color:green;color:#fff;border:outset 2px;cursor:pointer;width:7%;padding:2px 10px}.btn-deshabilitar[_ngcontent-%COMP%]{position:absolute;background-color:#b60000;color:#fff;border:none;padding:2px 10px;cursor:pointer;border:outset 2px}.tr-tabla[_ngcontent-%COMP%]{text-transform:capitalize}.tr-tabla[_ngcontent-%COMP%]:hover{color:#0ad235}.opcion-registros[_ngcontent-%COMP%]{position:absolute;top:30%;left:10%;width:85%}.col[_ngcontent-%COMP%]{text-align:center;display:flex;justify-content:center;align-items:center}.col[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:50%;width:50%;cursor:pointer}.col[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{background-color:#d6d6d6c8}.btn-volver[_ngcontent-%COMP%], .btn-volver2[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;width:20rem;position:absolute;left:9.8%;height:3rem;border:groove 3px;background-color:#0e553f;top:5%;color:#fff}.btn-volver[_ngcontent-%COMP%]:hover, .btn-volver2[_ngcontent-%COMP%]:hover{background-color:#83bf9b;color:#000;font-weight:400}.btn-nuevo-usuario[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;width:20rem;position:absolute;left:5%;height:3rem;border:groove 3px;background-color:#0e553f}.btn-nuevo-usuario[_ngcontent-%COMP%]:hover{background-color:#83bf9b;color:#000;font-weight:400}.btn-menu-volver[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;width:20rem;position:absolute;left:5%;height:3rem;border:groove 3px;background-color:#0e553f}.btn-menu-volver[_ngcontent-%COMP%]:hover{background-color:#83bf9b;color:#000;font-weight:400}.spinner-container[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;width:100%;height:100%;transform:translate(-50%,-50%);display:flex;justify-content:center;align-items:center;z-index:100000000000}.loader[_ngcontent-%COMP%]{position:relative;width:100px;height:130px;background:#fff;border-radius:4px;z-index:1000}.loader[_ngcontent-%COMP%]:before{content:"";position:absolute;width:54px;height:25px;left:50%;top:0;background-image:radial-gradient(ellipse at center,#0000 24%,#de3500 25%,#de3500 64%,#0000 65%),linear-gradient(to bottom,#0000 34%,#de3500 35%);background-size:12px 12px,100% auto;background-repeat:no-repeat;background-position:center top;transform:translate(-50%,-65%);box-shadow:0 -3px #00000040 inset}.loader[_ngcontent-%COMP%]:after{content:"";position:absolute;left:50%;top:20%;transform:translate(-50%);width:66%;height:60%;background:linear-gradient(to bottom,#f79577 30%,#0000 31%);background-size:100% 16px;animation:_ngcontent-%COMP%_writeDown 2s ease-out infinite}@keyframes _ngcontent-%COMP%_writeDown{0%{height:0%;opacity:0}20%{height:0%;opacity:1}80%{height:65%;opacity:1}to{height:65%;opacity:0}}']}),n})(),canActivate:[(()=>{class n{constructor(t,r){this.userService=t,this.router=r}canActivate(t,r){return this.userService.esAdmin?(console.log("Usuario Admin Logueado CanActivate"),!0):(this.router.navigate(["home"]),!1)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(GE),u.LFG(xi))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()]},{path:"especialidades",component:UP},{path:"registroEspecialista",component:BP},{path:"registro",component:fS},{path:"ingresar",component:k3},{path:"home",component:h_},{path:"",redirectTo:"/home",pathMatch:"full"}];let b5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[HI.forRoot(w5),HI]}),n})();const pS_firebase={projectId:"clinicaonline-e6cdd",appId:"1:333792507749:web:f448f0558530e5f015d38c",storageBucket:"clinicaonline-e6cdd.appspot.com",apiKey:"AIzaSyBbnKnbbnMyCmfPvl30dAqa5dZvyW7l9mM",authDomain:"clinicaonline-e6cdd.firebaseapp.com",messagingSenderId:"333792507749"},C5=[{routeLink:"home",icon:"fa fa-home",label:"Inicio"},{routeLink:"ingresar",icon:"fa fa-user-circle",label:"Ingresar"}];function E5(n,e){1&n&&(u.TgZ(0,"div",13)(1,"ul",14)(2,"li",15),u._UZ(3,"i",16),u.TgZ(4,"a",17),u._uU(5,"Usuarios"),u.qZA()()()())}function I5(n,e){if(1&n&&(u.TgZ(0,"span",18),u._UZ(1,"img",19),u._uU(2),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.s9C("src",t.authService.fotoLogueado,u.LSH),u.xp6(1),u.hij(" ",t.authService.nombreLogueado," ")}}function D5(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"button",20),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.cerrarSesion())}),u._uU(1,"Cerrar sesi\xf3n"),u.qZA()}}function T5(n,e){1&n&&(u.TgZ(0,"div",21),u._uU(1,"Cl\xednica Online"),u.qZA())}function A5(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"button",22),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.closeSidenav())}),u._UZ(1,"i",23),u.qZA()}}function S5(n,e){if(1&n&&(u.TgZ(0,"span",28),u._uU(1),u.qZA()),2&n){const t=u.oxw().$implicit;u.xp6(1),u.Oqu(t.label)}}const x5=function(n){return[n]};function M5(n,e){if(1&n&&(u.TgZ(0,"li",24)(1,"a",25),u._UZ(2,"i",26),u.YNc(3,S5,2,1,"span",27),u.qZA()()),2&n){const t=e.$implicit,r=u.oxw();u.xp6(1),u.Q6J("routerLink",u.VKq(4,x5,t.routeLink)),u.xp6(1),u.Tol(t.icon),u.xp6(1),u.Q6J("ngIf",r.collapsed)}}let P5=(()=>{class n{constructor(t){this.authService=t,this.onToggleSideNav=new u.vpe,this.collapsed=!1,this.navData=C5,this.screenWidth=0,this.nombreUser=t.nombreLogueado,this.fotoUser=t.fotoLogueado,this.fechaHora=new Date,setInterval(()=>{this.fechaHora=new Date},1e3),console.log(this.nombreUser,t.nombreLogueado)}toggleCollapse(){this.collapsed=!this.collapsed,this.onToggleSideNav.emit({collapsed:this.collapsed,screenWidth:this.screenWidth})}closeSidenav(){this.collapsed=!1,this.onToggleSideNav.emit({collapsed:this.collapsed,screenWidth:this.screenWidth})}cerrarSesion(){this.authService.desloguear()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(GE))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-navbar"]],outputs:{onToggleSideNav:"onToggleSideNav"},decls:16,vars:11,consts:[[1,"navbar","navbar-expand-lg",2,"background-color","#236f2d"],["class","collapse navbar-collapse","id","navbarNav",4,"ngIf"],["class","navbar-text ml-auto text-right","style","font-size: 18px;padding: 0;font-weight: bolder;margin-left: 50px; margin:0;text-transform: uppercase;margin-right: 1%;",4,"ngIf"],["style","height: 30px; width: 100px; padding: 0;margin-right: 1%;","class","btn btn-outline-success","type","submit",3,"click",4,"ngIf"],[1,"navbar-text","ml-auto","text-right",2,"font-size","18px","padding","0","font-weight","bolder"],[1,"sidenav",3,"ngClass"],[1,"logo-container"],[1,"logo",3,"click"],["src","favicon.ico",2,"height","50px","width","50px"],["class","logo-text",4,"ngIf"],["class","btn-close",3,"click",4,"ngIf"],[1,"sidenav-nav"],["class","sidenav-nav-item",4,"ngFor","ngForOf"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"navbar-nav","mr-auto"],[1,"nav-item"],["aria-hidden","true",1,"fa","fa-users",2,"color","rgba(255, 255, 255, 0.519)"],["routerLink","/adm-usuarios",1,"nav-link",2,"font-size","18px","padding","0"],[1,"navbar-text","ml-auto","text-right",2,"font-size","18px","padding","0","font-weight","bolder","margin-left","50px","margin","0","text-transform","uppercase","margin-right","1%"],["alt","",2,"width","30px","height","30px","margin-right","2%","margin","0","padding","0",3,"src"],["type","submit",1,"btn","btn-outline-success",2,"height","30px","width","100px","padding","0","margin-right","1%",3,"click"],[1,"logo-text"],[1,"btn-close",3,"click"],[1,"fal","fa-times","close-icon"],[1,"sidenav-nav-item"],["href","",1,"sidenav-nav-link",3,"routerLink"],[1,"sidenav-link-icon"],["class","sidenav-link-text",4,"ngIf"],[1,"sidenav-link-text"]],template:function(t,r){1&t&&(u.TgZ(0,"nav",0),u.YNc(1,E5,6,0,"div",1),u.YNc(2,I5,3,2,"span",2),u._UZ(3,"br"),u.YNc(4,D5,2,0,"button",3),u.TgZ(5,"span",4),u._uU(6),u.ALo(7,"date"),u.qZA()(),u.TgZ(8,"div",5)(9,"div",6)(10,"button",7),u.NdJ("click",function(){return r.toggleCollapse()}),u._UZ(11,"img",8),u.qZA(),u.YNc(12,T5,2,0,"div",9),u.YNc(13,A5,2,0,"button",10),u.qZA(),u.TgZ(14,"ul",11),u.YNc(15,M5,4,6,"li",12),u.qZA()()),2&t&&(u.xp6(1),u.Q6J("ngIf",r.authService.esAdmin),u.xp6(1),u.Q6J("ngIf",r.authService.sePudo),u.xp6(2),u.Q6J("ngIf",r.authService.sePudo),u.xp6(2),u.hij(" ",u.xi3(7,8,r.fechaHora,"dd/MM/yyyy HH:mm:ss")," "),u.xp6(2),u.Q6J("ngClass",r.collapsed?"sidenav-collapsed":""),u.xp6(4),u.Q6J("ngIf",r.collapsed),u.xp6(1),u.Q6J("ngIf",r.collapsed),u.xp6(2),u.Q6J("ngForOf",r.navData))},dependencies:[qt,Li,_i,Wg,Jr],styles:['.sidenav[_ngcontent-%COMP%]{background:#236f2d;transition:all .3s ease;position:fixed;z-index:1;top:0;width:6rem;height:100vh}.logo-container[_ngcontent-%COMP%]{display:flex;align-items:center;padding:.938rem .938rem 0}.logo[_ngcontent-%COMP%]{background:#bbe4bc;text-align:center;width:4rem;border-radius:.313rem;padding:.413rem;font-size:24px;font-weight:900;cursor:pointer;border:none;align-items:center}.logo-text[_ngcontent-%COMP%]{margin-left:1.5rem;font-size:25px;font-weight:700;color:#fff;text-transform:uppercase}.btn-close[_ngcontent-%COMP%]{margin-left:auto;cursor:pointer;width:2rem;height:2rem;border-radius:50%;background-color:transparent;border:none}.fa-times[_ngcontent-%COMP%]{font-size:24px}.sidenav-collapsed[_ngcontent-%COMP%]{width:16.5625rem}.sidenav-nav[_ngcontent-%COMP%]{list-style:none;padding:.0938rem;margin:0;display:flex;flex-direction:column;align-items:center;height:calc(100% - 3.65rem);cursor:pointer}.sidenav-nav-item[_ngcontent-%COMP%]{width:100%;margin-bottom:.625rem}.sidenav-nav-link[_ngcontent-%COMP%]{display:flex;align-items:center;height:3rem;color:#fff;text-decoration:none;border-radius:.625rem;transition:all .3s ease;margin-top:10px}.sidenav-link-icon[_ngcontent-%COMP%]{font-size:30px;width:2rem;min-width:2rem;margin:0 1.8rem;text-align:center;color:#bbe4bc}.sidenav-link-text[_ngcontent-%COMP%]{margin-left:1.5rem;font-size:26px;color:#fff}.sidenav-nav-link[_ngcontent-%COMP%]:hover{background-color:#52c46e;color:#ebfbeb;margin-left:5%}.navbar[_ngcontent-%COMP%]{background-color:#000;position:fixed;width:100%}.navbar[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]{color:#ecf0f1}.navbar[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]:hover, .navbar[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]:focus{color:#83bf9b}.navbar[_ngcontent-%COMP%]   .navbar-text[_ngcontent-%COMP%]{color:#ecf0f1}.navbar[_ngcontent-%COMP%]   .navbar-text[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#83bf9b}.navbar[_ngcontent-%COMP%]   .navbar-text[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .navbar[_ngcontent-%COMP%]   .navbar-text[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{color:#83bf9b}.navbar[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:#ecf0f1;border-radius:.25rem;margin:0 .25em}.navbar[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:not(.disabled):hover, .navbar[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:not(.disabled):focus{color:#83bf9b}.navbar[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{color:#ecf0f1}.navbar[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover, .navbar[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:focus, .navbar[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item.active[_ngcontent-%COMP%]{color:#83bf9b;background-color:#1c5533}.navbar[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-item.active[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%], .navbar[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-item.active[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover, .navbar[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-item.active[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:focus, .navbar[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-item.show[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%], .navbar[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-item.show[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover, .navbar[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-item.show[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:focus{color:#83bf9b;background-color:#1c5533}.navbar[_ngcontent-%COMP%]   .navbar-toggler[_ngcontent-%COMP%]:hover, .navbar[_ngcontent-%COMP%]   .navbar-toggler[_ngcontent-%COMP%]:focus{background-color:#1c5533}.navbar[_ngcontent-%COMP%]   .navbar-toggler[_ngcontent-%COMP%]   .navbar-toggler-icon[_ngcontent-%COMP%]{color:#ecf0f1}.navbar[_ngcontent-%COMP%]   .navbar-collapse[_ngcontent-%COMP%], .navbar[_ngcontent-%COMP%]   .navbar-form[_ngcontent-%COMP%]{border-color:#ecf0f1}.navbar[_ngcontent-%COMP%]   .navbar-link[_ngcontent-%COMP%]{color:#ecf0f1}.navbar[_ngcontent-%COMP%]   .navbar-link[_ngcontent-%COMP%]:hover{color:#83bf9b}@media (max-width: 575px){.navbar-expand-sm[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .show[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{color:#ecf0f1}.navbar-expand-sm[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .show[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover, .navbar-expand-sm[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .show[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:focus{color:#83bf9b}.navbar-expand-sm[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .show[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item.active[_ngcontent-%COMP%]{color:#83bf9b;background-color:#1c5533}}@media (max-width: 767px){.navbar-expand-md[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .show[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{color:#ecf0f1}.navbar-expand-md[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .show[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover, .navbar-expand-md[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .show[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:focus{color:#83bf9b}.navbar-expand-md[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .show[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item.active[_ngcontent-%COMP%]{color:#83bf9b;background-color:#1c5533}}@media (max-width: 991px){.navbar-expand-lg[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .show[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{color:#ecf0f1}.navbar-expand-lg[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .show[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover, .navbar-expand-lg[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .show[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:focus{color:#83bf9b}.navbar-expand-lg[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .show[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item.active[_ngcontent-%COMP%]{color:#83bf9b;background-color:#1c5533}}@media (max-width: 1199px){.navbar-expand-xl[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .show[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{color:#83bf9b}.navbar-expand-xl[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .show[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover, .navbar-expand-xl[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .show[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:focus{color:#83bf9b}.navbar-expand-xl[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .show[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item.active[_ngcontent-%COMP%]{color:#83bf9b;background-color:#1c5533}}.navbar-expand[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .show[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{color:#ecf0f1}.navbar-expand[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .show[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover, .navbar-expand[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .show[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:focus{color:#83bf9b}.navbar-expand[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .show[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item.active[_ngcontent-%COMP%]{color:#83bf9b;background-color:#1c5533}.nav-link[_ngcontent-%COMP%]:hover, .navbar-brand[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.navbar-nav[_ngcontent-%COMP%]{margin:0 auto;display:flex;justify-content:center;align-items:center}a[_ngcontent-%COMP%]{display:inline-block;position:relative;color:#83bf9b;text-decoration:none}a[_ngcontent-%COMP%]:after{content:"";display:block;margin:auto;height:2px;width:0px;transition:all .8s}a[_ngcontent-%COMP%]:hover:after{width:100%;background:#83bf9b}']}),n})(),O5=(()=>{class n{constructor(){this.title="Clinica Online",this.isSideNavCollapsed=!1,this.screenWidth=0,A0.Z.initializeApp(pS_firebase)}onToggleSideNav(t){this.screenWidth=t.screenWidth,this.isSideNavCollapsed=t.collapsed}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-root"]],decls:2,vars:0,consts:[[3,"onToggleSideNav"]],template:function(t,r){1&t&&(u.TgZ(0,"app-navbar",0),u.NdJ("onToggleSideNav",function(l){return r.onToggleSideNav(l)}),u.qZA(),u._UZ(1,"router-outlet"))},dependencies:[Vy,P5]}),n})();class gS{constructor(e){return e}}const $P="firestore",mS=new u.OlP("angularfire2.firestore-instances");function N5(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new gS(r)}}const F5={provide:class R5{constructor(){return(0,yn.vb)($P)}},deps:[[new u.FiY,mS]]},L5={provide:gS,useFactory:function k5(n,e){const t=(0,yn.JM)($P,n,e);return t&&new gS(t)},deps:[[new u.FiY,mS],Ag]};let V5=(()=>{class n{constructor(){(0,Vd.KN)("angularfire",yn.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[L5,F5]}),n})();function U5(n,...e){return{ngModule:V5,providers:[{provide:mS,useFactory:N5(n),multi:!0,deps:[u.R0b,u.zs3,yn.HU,yE,[new u.FiY,KA],[new u.FiY,_y],...e]}]}}const B5=(0,yn.u3)(tR,!0);let $5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n,bootstrap:[O5]}),n.\u0275inj=u.cJS({imports:[vF,Ha,wF,b5,eo.hO.initializeApp(pS_firebase),vk(()=>wk(pS_firebase)),AF(()=>SF()),U5(()=>B5()),u3(()=>c3())]}),n})();Ff().bootstrapModule($5).catch(n=>console.error(n))},9751:(Dt,Re,U)=>{"use strict";U.d(Re,{y:()=>ve});var u=U(2961),q=U(727),R=U(8822),se=U(9635),ue=U(2416),j=U(576),De=U(2806);let ve=(()=>{class ne{constructor(ke){ke&&(this._subscribe=ke)}lift(ke){const Qe=new ne;return Qe.source=this,Qe.operator=ke,Qe}subscribe(ke,Qe,at){const we=function W(ne){return ne&&ne instanceof u.Lv||function Y(ne){return ne&&(0,j.m)(ne.next)&&(0,j.m)(ne.error)&&(0,j.m)(ne.complete)}(ne)&&(0,q.Nn)(ne)}(ke)?ke:new u.Hp(ke,Qe,at);return(0,De.x)(()=>{const{operator:Ne,source:Be}=this;we.add(Ne?Ne.call(we,Be):Be?this._subscribe(we):this._trySubscribe(we))}),we}_trySubscribe(ke){try{return this._subscribe(ke)}catch(Qe){ke.error(Qe)}}forEach(ke,Qe){return new(Qe=Ee(Qe))((at,we)=>{const Ne=new u.Hp({next:Be=>{try{ke(Be)}catch(Le){we(Le),Ne.unsubscribe()}},error:we,complete:at});this.subscribe(Ne)})}_subscribe(ke){var Qe;return null===(Qe=this.source)||void 0===Qe?void 0:Qe.subscribe(ke)}[R.L](){return this}pipe(...ke){return(0,se.U)(ke)(this)}toPromise(ke){return new(ke=Ee(ke))((Qe,at)=>{let we;this.subscribe(Ne=>we=Ne,Ne=>at(Ne),()=>Qe(we))})}}return ne.create=qe=>new ne(qe),ne})();function Ee(ne){var qe;return null!==(qe=ne??ue.v.Promise)&&void 0!==qe?qe:Promise}},7579:(Dt,Re,U)=>{"use strict";U.d(Re,{x:()=>De});var u=U(9751),q=U(727);const se=(0,U(3888).d)(Ee=>function(){Ee(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ue=U(8737),j=U(2806);let De=(()=>{class Ee extends u.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(W){const ne=new ve(this,this);return ne.operator=W,ne}_throwIfClosed(){if(this.closed)throw new se}next(W){(0,j.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ne of this.currentObservers)ne.next(W)}})}error(W){(0,j.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=W;const{observers:ne}=this;for(;ne.length;)ne.shift().error(W)}})}complete(){(0,j.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:W}=this;for(;W.length;)W.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var W;return(null===(W=this.observers)||void 0===W?void 0:W.length)>0}_trySubscribe(W){return this._throwIfClosed(),super._trySubscribe(W)}_subscribe(W){return this._throwIfClosed(),this._checkFinalizedStatuses(W),this._innerSubscribe(W)}_innerSubscribe(W){const{hasError:ne,isStopped:qe,observers:ke}=this;return ne||qe?q.Lc:(this.currentObservers=null,ke.push(W),new q.w0(()=>{this.currentObservers=null,(0,ue.P)(ke,W)}))}_checkFinalizedStatuses(W){const{hasError:ne,thrownError:qe,isStopped:ke}=this;ne?W.error(qe):ke&&W.complete()}asObservable(){const W=new u.y;return W.source=this,W}}return Ee.create=(Y,W)=>new ve(Y,W),Ee})();class ve extends De{constructor(Y,W){super(),this.destination=Y,this.source=W}next(Y){var W,ne;null===(ne=null===(W=this.destination)||void 0===W?void 0:W.next)||void 0===ne||ne.call(W,Y)}error(Y){var W,ne;null===(ne=null===(W=this.destination)||void 0===W?void 0:W.error)||void 0===ne||ne.call(W,Y)}complete(){var Y,W;null===(W=null===(Y=this.destination)||void 0===Y?void 0:Y.complete)||void 0===W||W.call(Y)}_subscribe(Y){var W,ne;return null!==(ne=null===(W=this.source)||void 0===W?void 0:W.subscribe(Y))&&void 0!==ne?ne:q.Lc}}},2961:(Dt,Re,U)=>{"use strict";U.d(Re,{Hp:()=>at,Lv:()=>ne});var u=U(576),q=U(727),R=U(2416),se=U(7849);function ue(){}const j=Ee("C",void 0,void 0);function Ee(Me,be,_e){return{kind:Me,value:be,error:_e}}var Y=U(3410),W=U(2806);class ne extends q.w0{constructor(be){super(),this.isStopped=!1,be?(this.destination=be,(0,q.Nn)(be)&&be.add(this)):this.destination=Le}static create(be,_e,Ge){return new at(be,_e,Ge)}next(be){this.isStopped?Be(function ve(Me){return Ee("N",Me,void 0)}(be),this):this._next(be)}error(be){this.isStopped?Be(function De(Me){return Ee("E",void 0,Me)}(be),this):(this.isStopped=!0,this._error(be))}complete(){this.isStopped?Be(j,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(be){this.destination.next(be)}_error(be){try{this.destination.error(be)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const qe=Function.prototype.bind;function ke(Me,be){return qe.call(Me,be)}class Qe{constructor(be){this.partialObserver=be}next(be){const{partialObserver:_e}=this;if(_e.next)try{_e.next(be)}catch(Ge){we(Ge)}}error(be){const{partialObserver:_e}=this;if(_e.error)try{_e.error(be)}catch(Ge){we(Ge)}else we(be)}complete(){const{partialObserver:be}=this;if(be.complete)try{be.complete()}catch(_e){we(_e)}}}class at extends ne{constructor(be,_e,Ge){let He;if(super(),(0,u.m)(be)||!be)He={next:be??void 0,error:_e??void 0,complete:Ge??void 0};else{let ae;this&&R.v.useDeprecatedNextContext?(ae=Object.create(be),ae.unsubscribe=()=>this.unsubscribe(),He={next:be.next&&ke(be.next,ae),error:be.error&&ke(be.error,ae),complete:be.complete&&ke(be.complete,ae)}):He=be}this.destination=new Qe(He)}}function we(Me){R.v.useDeprecatedSynchronousErrorHandling?(0,W.O)(Me):(0,se.h)(Me)}function Be(Me,be){const{onStoppedNotification:_e}=R.v;_e&&Y.z.setTimeout(()=>_e(Me,be))}const Le={closed:!0,next:ue,error:function Ne(Me){throw Me},complete:ue}},727:(Dt,Re,U)=>{"use strict";U.d(Re,{Lc:()=>j,w0:()=>ue,Nn:()=>De});var u=U(576);const R=(0,U(3888).d)(Ee=>function(W){Ee(this),this.message=W?`${W.length} errors occurred during unsubscription:\n${W.map((ne,qe)=>`${qe+1}) ${ne.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=W});var se=U(8737);class ue{constructor(Y){this.initialTeardown=Y,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Y;if(!this.closed){this.closed=!0;const{_parentage:W}=this;if(W)if(this._parentage=null,Array.isArray(W))for(const ke of W)ke.remove(this);else W.remove(this);const{initialTeardown:ne}=this;if((0,u.m)(ne))try{ne()}catch(ke){Y=ke instanceof R?ke.errors:[ke]}const{_finalizers:qe}=this;if(qe){this._finalizers=null;for(const ke of qe)try{ve(ke)}catch(Qe){Y=Y??[],Qe instanceof R?Y=[...Y,...Qe.errors]:Y.push(Qe)}}if(Y)throw new R(Y)}}add(Y){var W;if(Y&&Y!==this)if(this.closed)ve(Y);else{if(Y instanceof ue){if(Y.closed||Y._hasParent(this))return;Y._addParent(this)}(this._finalizers=null!==(W=this._finalizers)&&void 0!==W?W:[]).push(Y)}}_hasParent(Y){const{_parentage:W}=this;return W===Y||Array.isArray(W)&&W.includes(Y)}_addParent(Y){const{_parentage:W}=this;this._parentage=Array.isArray(W)?(W.push(Y),W):W?[W,Y]:Y}_removeParent(Y){const{_parentage:W}=this;W===Y?this._parentage=null:Array.isArray(W)&&(0,se.P)(W,Y)}remove(Y){const{_finalizers:W}=this;W&&(0,se.P)(W,Y),Y instanceof ue&&Y._removeParent(this)}}ue.EMPTY=(()=>{const Ee=new ue;return Ee.closed=!0,Ee})();const j=ue.EMPTY;function De(Ee){return Ee instanceof ue||Ee&&"closed"in Ee&&(0,u.m)(Ee.remove)&&(0,u.m)(Ee.add)&&(0,u.m)(Ee.unsubscribe)}function ve(Ee){(0,u.m)(Ee)?Ee():Ee.unsubscribe()}},2416:(Dt,Re,U)=>{"use strict";U.d(Re,{v:()=>u});const u={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Dt,Re,U)=>{"use strict";U.d(Re,{E:()=>q});const q=new(U(9751).y)(ue=>ue.complete())},8996:(Dt,Re,U)=>{"use strict";U.d(Re,{D:()=>be});var u=U(8421),q=U(5363),R=U(9468),j=U(9751),ve=U(2202),Ee=U(576),Y=U(9672);function ne(_e,Ge){if(!_e)throw new Error("Iterable cannot be null");return new j.y(He=>{(0,Y.f)(He,Ge,()=>{const ae=_e[Symbol.asyncIterator]();(0,Y.f)(He,Ge,()=>{ae.next().then(Xe=>{Xe.done?He.complete():He.next(Xe.value)})},0,!0)})})}var qe=U(3670),ke=U(8239),Qe=U(1144),at=U(6495),we=U(2206),Ne=U(4532),Be=U(3260);function be(_e,Ge){return Ge?function Me(_e,Ge){if(null!=_e){if((0,qe.c)(_e))return function se(_e,Ge){return(0,u.Xf)(_e).pipe((0,R.R)(Ge),(0,q.Q)(Ge))}(_e,Ge);if((0,Qe.z)(_e))return function De(_e,Ge){return new j.y(He=>{let ae=0;return Ge.schedule(function(){ae===_e.length?He.complete():(He.next(_e[ae++]),He.closed||this.schedule())})})}(_e,Ge);if((0,ke.t)(_e))return function ue(_e,Ge){return(0,u.Xf)(_e).pipe((0,R.R)(Ge),(0,q.Q)(Ge))}(_e,Ge);if((0,we.D)(_e))return ne(_e,Ge);if((0,at.T)(_e))return function W(_e,Ge){return new j.y(He=>{let ae;return(0,Y.f)(He,Ge,()=>{ae=_e[ve.h](),(0,Y.f)(He,Ge,()=>{let Xe,Mt;try{({value:Xe,done:Mt}=ae.next())}catch(lt){return void He.error(lt)}Mt?He.complete():He.next(Xe)},0,!0)}),()=>(0,Ee.m)(ae?.return)&&ae.return()})}(_e,Ge);if((0,Be.L)(_e))return function Le(_e,Ge){return ne((0,Be.Q)(_e),Ge)}(_e,Ge)}throw(0,Ne.z)(_e)}(_e,Ge):(0,u.Xf)(_e)}},8421:(Dt,Re,U)=>{"use strict";U.d(Re,{Xf:()=>qe});var u=U(655),q=U(1144),R=U(8239),se=U(9751),ue=U(3670),j=U(2206),De=U(4532),ve=U(6495),Ee=U(3260),Y=U(576),W=U(7849),ne=U(8822);function qe(Me){if(Me instanceof se.y)return Me;if(null!=Me){if((0,ue.c)(Me))return function ke(Me){return new se.y(be=>{const _e=Me[ne.L]();if((0,Y.m)(_e.subscribe))return _e.subscribe(be);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Me);if((0,q.z)(Me))return function Qe(Me){return new se.y(be=>{for(let _e=0;_e<Me.length&&!be.closed;_e++)be.next(Me[_e]);be.complete()})}(Me);if((0,R.t)(Me))return function at(Me){return new se.y(be=>{Me.then(_e=>{be.closed||(be.next(_e),be.complete())},_e=>be.error(_e)).then(null,W.h)})}(Me);if((0,j.D)(Me))return Ne(Me);if((0,ve.T)(Me))return function we(Me){return new se.y(be=>{for(const _e of Me)if(be.next(_e),be.closed)return;be.complete()})}(Me);if((0,Ee.L)(Me))return function Be(Me){return Ne((0,Ee.Q)(Me))}(Me)}throw(0,De.z)(Me)}function Ne(Me){return new se.y(be=>{(function Le(Me,be){var _e,Ge,He,ae;return(0,u.mG)(this,void 0,void 0,function*(){try{for(_e=(0,u.KL)(Me);!(Ge=yield _e.next()).done;)if(be.next(Ge.value),be.closed)return}catch(Xe){He={error:Xe}}finally{try{Ge&&!Ge.done&&(ae=_e.return)&&(yield ae.call(_e))}finally{if(He)throw He.error}}be.complete()})})(Me,be).catch(_e=>be.error(_e))})}},6451:(Dt,Re,U)=>{"use strict";U.d(Re,{T:()=>j});var u=U(8189),q=U(8421),R=U(515),se=U(7669),ue=U(8996);function j(...De){const ve=(0,se.yG)(De),Ee=(0,se._6)(De,1/0),Y=De;return Y.length?1===Y.length?(0,q.Xf)(Y[0]):(0,u.J)(Ee)((0,ue.D)(Y,ve)):R.E}},5403:(Dt,Re,U)=>{"use strict";U.d(Re,{x:()=>q});var u=U(2961);function q(se,ue,j,De,ve){return new R(se,ue,j,De,ve)}class R extends u.Lv{constructor(ue,j,De,ve,Ee,Y){super(ue),this.onFinalize=Ee,this.shouldUnsubscribe=Y,this._next=j?function(W){try{j(W)}catch(ne){ue.error(ne)}}:super._next,this._error=ve?function(W){try{ve(W)}catch(ne){ue.error(ne)}finally{this.unsubscribe()}}:super._error,this._complete=De?function(){try{De()}catch(W){ue.error(W)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ue;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:j}=this;super.unsubscribe(),!j&&(null===(ue=this.onFinalize)||void 0===ue||ue.call(this))}}}},4004:(Dt,Re,U)=>{"use strict";U.d(Re,{U:()=>R});var u=U(4482),q=U(5403);function R(se,ue){return(0,u.e)((j,De)=>{let ve=0;j.subscribe((0,q.x)(De,Ee=>{De.next(se.call(ue,Ee,ve++))}))})}},8189:(Dt,Re,U)=>{"use strict";U.d(Re,{J:()=>R});var u=U(5577),q=U(4671);function R(se=1/0){return(0,u.z)(q.y,se)}},5577:(Dt,Re,U)=>{"use strict";U.d(Re,{z:()=>ve});var u=U(4004),q=U(8421),R=U(4482),se=U(9672),ue=U(5403),De=U(576);function ve(Ee,Y,W=1/0){return(0,De.m)(Y)?ve((ne,qe)=>(0,u.U)((ke,Qe)=>Y(ne,ke,qe,Qe))((0,q.Xf)(Ee(ne,qe))),W):("number"==typeof Y&&(W=Y),(0,R.e)((ne,qe)=>function j(Ee,Y,W,ne,qe,ke,Qe,at){const we=[];let Ne=0,Be=0,Le=!1;const Me=()=>{Le&&!we.length&&!Ne&&Y.complete()},be=Ge=>Ne<ne?_e(Ge):we.push(Ge),_e=Ge=>{ke&&Y.next(Ge),Ne++;let He=!1;(0,q.Xf)(W(Ge,Be++)).subscribe((0,ue.x)(Y,ae=>{qe?.(ae),ke?be(ae):Y.next(ae)},()=>{He=!0},void 0,()=>{if(He)try{for(Ne--;we.length&&Ne<ne;){const ae=we.shift();Qe?(0,se.f)(Y,Qe,()=>_e(ae)):_e(ae)}Me()}catch(ae){Y.error(ae)}}))};return Ee.subscribe((0,ue.x)(Y,be,()=>{Le=!0,Me()})),()=>{at?.()}}(ne,qe,Ee,W)))}},5363:(Dt,Re,U)=>{"use strict";U.d(Re,{Q:()=>se});var u=U(9672),q=U(4482),R=U(5403);function se(ue,j=0){return(0,q.e)((De,ve)=>{De.subscribe((0,R.x)(ve,Ee=>(0,u.f)(ve,ue,()=>ve.next(Ee),j),()=>(0,u.f)(ve,ue,()=>ve.complete(),j),Ee=>(0,u.f)(ve,ue,()=>ve.error(Ee),j)))})}},3099:(Dt,Re,U)=>{"use strict";U.d(Re,{B:()=>ue});var u=U(8421),q=U(7579),R=U(2961),se=U(4482);function ue(De={}){const{connector:ve=(()=>new q.x),resetOnError:Ee=!0,resetOnComplete:Y=!0,resetOnRefCountZero:W=!0}=De;return ne=>{let qe,ke,Qe,at=0,we=!1,Ne=!1;const Be=()=>{ke?.unsubscribe(),ke=void 0},Le=()=>{Be(),qe=Qe=void 0,we=Ne=!1},Me=()=>{const be=qe;Le(),be?.unsubscribe()};return(0,se.e)((be,_e)=>{at++,!Ne&&!we&&Be();const Ge=Qe=Qe??ve();_e.add(()=>{at--,0===at&&!Ne&&!we&&(ke=j(Me,W))}),Ge.subscribe(_e),!qe&&at>0&&(qe=new R.Hp({next:He=>Ge.next(He),error:He=>{Ne=!0,Be(),ke=j(Le,Ee,He),Ge.error(He)},complete:()=>{we=!0,Be(),ke=j(Le,Y),Ge.complete()}}),(0,u.Xf)(be).subscribe(qe))})(ne)}}function j(De,ve,...Ee){if(!0===ve)return void De();if(!1===ve)return;const Y=new R.Hp({next:()=>{Y.unsubscribe(),De()}});return(0,u.Xf)(ve(...Ee)).subscribe(Y)}},9468:(Dt,Re,U)=>{"use strict";U.d(Re,{R:()=>q});var u=U(4482);function q(R,se=0){return(0,u.e)((ue,j)=>{j.add(R.schedule(()=>ue.subscribe(j),se))})}},8505:(Dt,Re,U)=>{"use strict";U.d(Re,{b:()=>ue});var u=U(576),q=U(4482),R=U(5403),se=U(4671);function ue(j,De,ve){const Ee=(0,u.m)(j)||De||ve?{next:j,error:De,complete:ve}:j;return Ee?(0,q.e)((Y,W)=>{var ne;null===(ne=Ee.subscribe)||void 0===ne||ne.call(Ee);let qe=!0;Y.subscribe((0,R.x)(W,ke=>{var Qe;null===(Qe=Ee.next)||void 0===Qe||Qe.call(Ee,ke),W.next(ke)},()=>{var ke;qe=!1,null===(ke=Ee.complete)||void 0===ke||ke.call(Ee),W.complete()},ke=>{var Qe;qe=!1,null===(Qe=Ee.error)||void 0===Qe||Qe.call(Ee,ke),W.error(ke)},()=>{var ke,Qe;qe&&(null===(ke=Ee.unsubscribe)||void 0===ke||ke.call(Ee)),null===(Qe=Ee.finalize)||void 0===Qe||Qe.call(Ee)}))}):se.y}},4408:(Dt,Re,U)=>{"use strict";U.d(Re,{o:()=>ue});var u=U(727);class q extends u.w0{constructor(De,ve){super()}schedule(De,ve=0){return this}}const R={setInterval(j,De,...ve){const{delegate:Ee}=R;return Ee?.setInterval?Ee.setInterval(j,De,...ve):setInterval(j,De,...ve)},clearInterval(j){const{delegate:De}=R;return(De?.clearInterval||clearInterval)(j)},delegate:void 0};var se=U(8737);class ue extends q{constructor(De,ve){super(De,ve),this.scheduler=De,this.work=ve,this.pending=!1}schedule(De,ve=0){var Ee;if(this.closed)return this;this.state=De;const Y=this.id,W=this.scheduler;return null!=Y&&(this.id=this.recycleAsyncId(W,Y,ve)),this.pending=!0,this.delay=ve,this.id=null!==(Ee=this.id)&&void 0!==Ee?Ee:this.requestAsyncId(W,this.id,ve),this}requestAsyncId(De,ve,Ee=0){return R.setInterval(De.flush.bind(De,this),Ee)}recycleAsyncId(De,ve,Ee=0){if(null!=Ee&&this.delay===Ee&&!1===this.pending)return ve;null!=ve&&R.clearInterval(ve)}execute(De,ve){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ee=this._execute(De,ve);if(Ee)return Ee;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(De,ve){let Y,Ee=!1;try{this.work(De)}catch(W){Ee=!0,Y=W||new Error("Scheduled action threw falsy error")}if(Ee)return this.unsubscribe(),Y}unsubscribe(){if(!this.closed){const{id:De,scheduler:ve}=this,{actions:Ee}=ve;this.work=this.state=this.scheduler=null,this.pending=!1,(0,se.P)(Ee,this),null!=De&&(this.id=this.recycleAsyncId(ve,De,null)),this.delay=null,super.unsubscribe()}}}},7565:(Dt,Re,U)=>{"use strict";U.d(Re,{v:()=>R});var u=U(6063);class q{constructor(ue,j=q.now){this.schedulerActionCtor=ue,this.now=j}schedule(ue,j=0,De){return new this.schedulerActionCtor(this,ue).schedule(De,j)}}q.now=u.l.now;class R extends q{constructor(ue,j=q.now){super(ue,j),this.actions=[],this._active=!1}flush(ue){const{actions:j}=this;if(this._active)return void j.push(ue);let De;this._active=!0;do{if(De=ue.execute(ue.state,ue.delay))break}while(ue=j.shift());if(this._active=!1,De){for(;ue=j.shift();)ue.unsubscribe();throw De}}}},4986:(Dt,Re,U)=>{"use strict";U.d(Re,{z:()=>R});var u=U(4408);const R=new(U(7565).v)(u.o)},6063:(Dt,Re,U)=>{"use strict";U.d(Re,{l:()=>u});const u={now:()=>(u.delegate||Date).now(),delegate:void 0}},3410:(Dt,Re,U)=>{"use strict";U.d(Re,{z:()=>u});const u={setTimeout(q,R,...se){const{delegate:ue}=u;return ue?.setTimeout?ue.setTimeout(q,R,...se):setTimeout(q,R,...se)},clearTimeout(q){const{delegate:R}=u;return(R?.clearTimeout||clearTimeout)(q)},delegate:void 0}},2202:(Dt,Re,U)=>{"use strict";U.d(Re,{h:()=>q});const q=function u(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Dt,Re,U)=>{"use strict";U.d(Re,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(Dt,Re,U)=>{"use strict";U.d(Re,{_6:()=>j,jO:()=>se,yG:()=>ue});var u=U(576);function R(De){return De[De.length-1]}function se(De){return(0,u.m)(R(De))?De.pop():void 0}function ue(De){return function q(De){return De&&(0,u.m)(De.schedule)}(R(De))?De.pop():void 0}function j(De,ve){return"number"==typeof R(De)?De.pop():ve}},8737:(Dt,Re,U)=>{"use strict";function u(q,R){if(q){const se=q.indexOf(R);0<=se&&q.splice(se,1)}}U.d(Re,{P:()=>u})},3888:(Dt,Re,U)=>{"use strict";function u(q){const se=q(ue=>{Error.call(ue),ue.stack=(new Error).stack});return se.prototype=Object.create(Error.prototype),se.prototype.constructor=se,se}U.d(Re,{d:()=>u})},2806:(Dt,Re,U)=>{"use strict";U.d(Re,{O:()=>se,x:()=>R});var u=U(2416);let q=null;function R(ue){if(u.v.useDeprecatedSynchronousErrorHandling){const j=!q;if(j&&(q={errorThrown:!1,error:null}),ue(),j){const{errorThrown:De,error:ve}=q;if(q=null,De)throw ve}}else ue()}function se(ue){u.v.useDeprecatedSynchronousErrorHandling&&q&&(q.errorThrown=!0,q.error=ue)}},9672:(Dt,Re,U)=>{"use strict";function u(q,R,se,ue=0,j=!1){const De=R.schedule(function(){se(),j?q.add(this.schedule(null,ue)):this.unsubscribe()},ue);if(q.add(De),!j)return De}U.d(Re,{f:()=>u})},4671:(Dt,Re,U)=>{"use strict";function u(q){return q}U.d(Re,{y:()=>u})},1144:(Dt,Re,U)=>{"use strict";U.d(Re,{z:()=>u});const u=q=>q&&"number"==typeof q.length&&"function"!=typeof q},2206:(Dt,Re,U)=>{"use strict";U.d(Re,{D:()=>q});var u=U(576);function q(R){return Symbol.asyncIterator&&(0,u.m)(R?.[Symbol.asyncIterator])}},576:(Dt,Re,U)=>{"use strict";function u(q){return"function"==typeof q}U.d(Re,{m:()=>u})},3670:(Dt,Re,U)=>{"use strict";U.d(Re,{c:()=>R});var u=U(8822),q=U(576);function R(se){return(0,q.m)(se[u.L])}},6495:(Dt,Re,U)=>{"use strict";U.d(Re,{T:()=>R});var u=U(2202),q=U(576);function R(se){return(0,q.m)(se?.[u.h])}},8239:(Dt,Re,U)=>{"use strict";U.d(Re,{t:()=>q});var u=U(576);function q(R){return(0,u.m)(R?.then)}},3260:(Dt,Re,U)=>{"use strict";U.d(Re,{L:()=>se,Q:()=>R});var u=U(655),q=U(576);function R(ue){return(0,u.FC)(this,arguments,function*(){const De=ue.getReader();try{for(;;){const{value:ve,done:Ee}=yield(0,u.qq)(De.read());if(Ee)return yield(0,u.qq)(void 0);yield yield(0,u.qq)(ve)}}finally{De.releaseLock()}})}function se(ue){return(0,q.m)(ue?.getReader)}},4482:(Dt,Re,U)=>{"use strict";U.d(Re,{A:()=>q,e:()=>R});var u=U(576);function q(se){return(0,u.m)(se?.lift)}function R(se){return ue=>{if(q(ue))return ue.lift(function(j){try{return se(j,this)}catch(De){this.error(De)}});throw new TypeError("Unable to lift unknown Observable type")}}},9635:(Dt,Re,U)=>{"use strict";U.d(Re,{U:()=>R,z:()=>q});var u=U(4671);function q(...se){return R(se)}function R(se){return 0===se.length?u.y:1===se.length?se[0]:function(j){return se.reduce((De,ve)=>ve(De),j)}}},7849:(Dt,Re,U)=>{"use strict";U.d(Re,{h:()=>R});var u=U(2416),q=U(3410);function R(se){q.z.setTimeout(()=>{const{onUnhandledError:ue}=u.v;if(!ue)throw se;ue(se)})}},4532:(Dt,Re,U)=>{"use strict";function u(q){return new TypeError(`You provided ${null!==q&&"object"==typeof q?"an invalid object":`'${q}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}U.d(Re,{z:()=>u})},5226:function(Dt){Dt.exports=function(){"use strict";const U={},q=E=>new Promise(T=>{if(!E)return T();const O=window.scrollX,z=window.scrollY;U.restoreFocusTimeout=setTimeout(()=>{U.previousActiveElement instanceof HTMLElement?(U.previousActiveElement.focus(),U.previousActiveElement=null):document.body&&document.body.focus(),T()},100),window.scrollTo(O,z)});var R={promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const j=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"].reduce((E,T)=>(E[T]="swal2-"+T,E),{}),ve=["success","warning","info","question","error"].reduce((E,T)=>(E[T]="swal2-"+T,E),{}),Ee="SweetAlert2:",Y=E=>E.charAt(0).toUpperCase()+E.slice(1),W=E=>{console.warn(`${Ee} ${"object"==typeof E?E.join(" "):E}`)},ne=E=>{console.error(`${Ee} ${E}`)},qe=[],Qe=(E,T)=>{(E=>{qe.includes(E)||(qe.push(E),W(E))})(`"${E}" is deprecated and will be removed in the next major release. Please use "${T}" instead.`)},at=E=>"function"==typeof E?E():E,we=E=>E&&"function"==typeof E.toPromise,Ne=E=>we(E)?E.toPromise():Promise.resolve(E),Be=E=>E&&Promise.resolve(E)===E,Le=()=>document.body.querySelector(`.${j.container}`),Me=E=>{const T=Le();return T?T.querySelector(E):null},be=E=>Me(`.${E}`),_e=()=>be(j.popup),Ge=()=>be(j.icon),ae=()=>be(j.title),Xe=()=>be(j["html-container"]),Mt=()=>be(j.image),lt=()=>be(j["progress-steps"]),Zt=()=>be(j["validation-message"]),et=()=>Me(`.${j.actions} .${j.confirm}`),ni=()=>Me(`.${j.actions} .${j.cancel}`),ce=()=>Me(`.${j.actions} .${j.deny}`),xe=()=>Me(`.${j.loader}`),Fe=()=>be(j.actions),Ke=()=>be(j.footer),$e=()=>be(j["timer-progress-bar"]),Ue=()=>be(j.close),Pn=()=>{const E=_e().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),T=Array.from(E).sort((he,St)=>{const mn=parseInt(he.getAttribute("tabindex")),Yn=parseInt(St.getAttribute("tabindex"));return mn>Yn?1:mn<Yn?-1:0}),O=_e().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n'),z=Array.from(O).filter(he=>"-1"!==he.getAttribute("tabindex"));return[...new Set(T.concat(z))].filter(he=>On(he))},ct=()=>gn(document.body,j.shown)&&!gn(document.body,j["toast-shown"])&&!gn(document.body,j["no-backdrop"]),yt=()=>_e()&&gn(_e(),j.toast),Xt=(E,T)=>{if(E.textContent="",T){const z=(new DOMParser).parseFromString(T,"text/html");Array.from(z.querySelector("head").childNodes).forEach(he=>{E.appendChild(he)}),Array.from(z.querySelector("body").childNodes).forEach(he=>{he instanceof HTMLVideoElement||he instanceof HTMLAudioElement?E.appendChild(he.cloneNode(!0)):E.appendChild(he)})}},gn=(E,T)=>{if(!T)return!1;const O=T.split(/\s+/);for(let z=0;z<O.length;z++)if(!E.classList.contains(O[z]))return!1;return!0},bn=(E,T,O)=>{if(((E,T)=>{Array.from(E.classList).forEach(O=>{!Object.values(j).includes(O)&&!Object.values(ve).includes(O)&&!Object.values(T.showClass).includes(O)&&E.classList.remove(O)})})(E,T),T.customClass&&T.customClass[O]){if("string"!=typeof T.customClass[O]&&!T.customClass[O].forEach)return void W(`Invalid type of customClass.${O}! Expected string or iterable object, got "${typeof T.customClass[O]}"`);Kt(E,T.customClass[O])}},_r=(E,T)=>{if(!T)return null;switch(T){case"select":case"textarea":case"file":return E.querySelector(`.${j.popup} > .${j[T]}`);case"checkbox":return E.querySelector(`.${j.popup} > .${j.checkbox} input`);case"radio":return E.querySelector(`.${j.popup} > .${j.radio} input:checked`)||E.querySelector(`.${j.popup} > .${j.radio} input:first-child`);case"range":return E.querySelector(`.${j.popup} > .${j.range} input`);default:return E.querySelector(`.${j.popup} > .${j.input}`)}},Jn=E=>{if(E.focus(),"file"!==E.type){const T=E.value;E.value="",E.value=T}},Kr=(E,T,O)=>{!E||!T||("string"==typeof T&&(T=T.split(/\s+/).filter(Boolean)),T.forEach(z=>{Array.isArray(E)?E.forEach(he=>{O?he.classList.add(z):he.classList.remove(z)}):O?E.classList.add(z):E.classList.remove(z)}))},Kt=(E,T)=>{Kr(E,T,!0)},$r=(E,T)=>{Kr(E,T,!1)},Sn=(E,T)=>{const O=Array.from(E.children);for(let z=0;z<O.length;z++){const he=O[z];if(he instanceof HTMLElement&&gn(he,T))return he}},dt=(E,T,O)=>{O===`${parseInt(O)}`&&(O=parseInt(O)),O||0===parseInt(O)?E.style[T]="number"==typeof O?`${O}px`:O:E.style.removeProperty(T)},cn=function(E){E&&(E.style.display=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex")},Ln=E=>{E&&(E.style.display="none")},Gn=(E,T,O,z)=>{const he=E.querySelector(T);he&&(he.style[O]=z)},fr=function(E,T){T?cn(E,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):Ln(E)},On=E=>!(!E||!(E.offsetWidth||E.offsetHeight||E.getClientRects().length)),en=E=>E.scrollHeight>E.clientHeight,ft=E=>{const T=window.getComputedStyle(E),O=parseFloat(T.getPropertyValue("animation-duration")||"0"),z=parseFloat(T.getPropertyValue("transition-duration")||"0");return O>0||z>0},Ut=function(E){let T=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const O=$e();On(O)&&(T&&(O.style.transition="none",O.style.width="100%"),setTimeout(()=>{O.style.transition=`width ${E/1e3}s linear`,O.style.width="0%"},10))},vr=()=>typeof window>"u"||typeof document>"u",qn=`\n <div aria-labelledby="${j.title}" aria-describedby="${j["html-container"]}" class="${j.popup}" tabindex="-1">\n   <button type="button" class="${j.close}"></button>\n   <ul class="${j["progress-steps"]}"></ul>\n   <div class="${j.icon}"></div>\n   <img class="${j.image}" />\n   <h2 class="${j.title}" id="${j.title}"></h2>\n   <div class="${j["html-container"]}" id="${j["html-container"]}"></div>\n   <input class="${j.input}" />\n   <input type="file" class="${j.file}" />\n   <div class="${j.range}">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="${j.select}"></select>\n   <div class="${j.radio}"></div>\n   <label for="${j.checkbox}" class="${j.checkbox}">\n     <input type="checkbox" />\n     <span class="${j.label}"></span>\n   </label>\n   <textarea class="${j.textarea}"></textarea>\n   <div class="${j["validation-message"]}" id="${j["validation-message"]}"></div>\n   <div class="${j.actions}">\n     <div class="${j.loader}"></div>\n     <button type="button" class="${j.confirm}"></button>\n     <button type="button" class="${j.deny}"></button>\n     <button type="button" class="${j.cancel}"></button>\n   </div>\n   <div class="${j.footer}"></div>\n   <div class="${j["timer-progress-bar-container"]}">\n     <div class="${j["timer-progress-bar"]}"></div>\n   </div>\n </div>\n`.replace(/(^|\n)\s*/g,""),xn=()=>{U.currentInstance.resetValidationMessage()},ii=E=>{const T=(()=>{const E=Le();return!!E&&(E.remove(),$r([document.documentElement,document.body],[j["no-backdrop"],j["toast-shown"],j["has-column"]]),!0)})();if(vr())return void ne("SweetAlert2 requires document to initialize");const O=document.createElement("div");O.className=j.container,T&&Kt(O,j["no-transition"]),Xt(O,qn);const z=(E=>"string"==typeof E?document.querySelector(E):E)(E.target);z.appendChild(O),(E=>{const T=_e();T.setAttribute("role",E.toast?"alert":"dialog"),T.setAttribute("aria-live",E.toast?"polite":"assertive"),E.toast||T.setAttribute("aria-modal","true")})(E),(E=>{"rtl"===window.getComputedStyle(E).direction&&Kt(Le(),j.rtl)})(z),(()=>{const E=_e(),T=Sn(E,j.input),O=Sn(E,j.file),z=E.querySelector(`.${j.range} input`),he=E.querySelector(`.${j.range} output`),St=Sn(E,j.select),mn=E.querySelector(`.${j.checkbox} input`),Yn=Sn(E,j.textarea);T.oninput=xn,O.onchange=xn,St.onchange=xn,mn.onchange=xn,Yn.oninput=xn,z.oninput=()=>{xn(),he.value=z.value},z.onchange=()=>{xn(),he.value=z.value}})()},Gt=(E,T)=>{E instanceof HTMLElement?T.appendChild(E):"object"==typeof E?er(E,T):E&&Xt(T,E)},er=(E,T)=>{E.jquery?Hn(T,E):Xt(T,E.toString())},Hn=(E,T)=>{if(E.textContent="",0 in T)for(let O=0;O in T;O++)E.appendChild(T[O].cloneNode(!0));else E.appendChild(T.cloneNode(!0))},tr=(()=>{if(vr())return!1;const E=document.createElement("div"),T={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const O in T)if(Object.prototype.hasOwnProperty.call(T,O)&&typeof E.style[O]<"u")return T[O];return!1})(),nr=(E,T)=>{const O=Fe(),z=xe();T.showConfirmButton||T.showDenyButton||T.showCancelButton?cn(O):Ln(O),bn(O,T,"actions"),function Yr(E,T,O){const z=et(),he=ce(),St=ni();Sr(z,"confirm",O),Sr(he,"deny",O),Sr(St,"cancel",O),function jr(E,T,O,z){z.buttonsStyling?(Kt([E,T,O],j.styled),z.confirmButtonColor&&(E.style.backgroundColor=z.confirmButtonColor,Kt(E,j["default-outline"])),z.denyButtonColor&&(T.style.backgroundColor=z.denyButtonColor,Kt(T,j["default-outline"])),z.cancelButtonColor&&(O.style.backgroundColor=z.cancelButtonColor,Kt(O,j["default-outline"]))):$r([E,T,O],j.styled)}(z,he,St,O),O.reverseButtons&&(O.toast?(E.insertBefore(St,z),E.insertBefore(he,z)):(E.insertBefore(St,T),E.insertBefore(he,T),E.insertBefore(z,T)))}(O,z,T),Xt(z,T.loaderHtml),bn(z,T,"loader")};function Sr(E,T,O){fr(E,O[`show${Y(T)}Button`],"inline-block"),Xt(E,O[`${T}ButtonText`]),E.setAttribute("aria-label",O[`${T}ButtonAriaLabel`]),E.className=j[T],bn(E,O,`${T}Button`),Kt(E,O[`${T}ButtonClass`])}const G=(E,T)=>{const O=Le();O&&(function V(E,T){"string"==typeof T?E.style.background=T:T||Kt([document.documentElement,document.body],j["no-backdrop"])}(O,T.backdrop),function B(E,T){T in j?Kt(E,j[T]):(W('The "position" parameter is not valid, defaulting to "center"'),Kt(E,j.center))}(O,T.position),function k(E,T){if(T&&"string"==typeof T){const O=`grow-${T}`;O in j&&Kt(E,j[O])}}(O,T.grow),bn(O,T,"container"))};const J=["input","file","range","select","radio","checkbox","textarea"],ot=E=>{if(!Wn[E.input])return void ne(`Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "${E.input}"`);const T=Yt(E.input),O=Wn[E.input](T,E);cn(T),E.inputAutoFocus&&setTimeout(()=>{Jn(O)})},Pt=(E,T)=>{const O=_r(_e(),E);if(O){(E=>{for(let T=0;T<E.attributes.length;T++){const O=E.attributes[T].name;["type","value","style"].includes(O)||E.removeAttribute(O)}})(O);for(const z in T)O.setAttribute(z,T[z])}},nn=E=>{const T=Yt(E.input);"object"==typeof E.customClass&&Kt(T,E.customClass.input)},Nt=(E,T)=>{(!E.placeholder||T.inputPlaceholder)&&(E.placeholder=T.inputPlaceholder)},In=(E,T,O)=>{if(O.inputLabel){E.id=j.input;const z=document.createElement("label"),he=j["input-label"];z.setAttribute("for",E.id),z.className=he,"object"==typeof O.customClass&&Kt(z,O.customClass.inputLabel),z.innerText=O.inputLabel,T.insertAdjacentElement("beforebegin",z)}},Yt=E=>Sn(_e(),j[E]||j.input),rr=(E,T)=>{["string","number"].includes(typeof T)?E.value=`${T}`:Be(T)||W(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof T}"`)},Wn={};Wn.text=Wn.email=Wn.password=Wn.number=Wn.tel=Wn.url=(E,T)=>(rr(E,T.inputValue),In(E,E,T),Nt(E,T),E.type=T.input,E),Wn.file=(E,T)=>(In(E,E,T),Nt(E,T),E),Wn.range=(E,T)=>{const O=E.querySelector("input"),z=E.querySelector("output");return rr(O,T.inputValue),O.type=T.input,rr(z,T.inputValue),In(O,E,T),E},Wn.select=(E,T)=>{if(E.textContent="",T.inputPlaceholder){const O=document.createElement("option");Xt(O,T.inputPlaceholder),O.value="",O.disabled=!0,O.selected=!0,E.appendChild(O)}return In(E,E,T),E},Wn.radio=E=>(E.textContent="",E),Wn.checkbox=(E,T)=>{const O=_r(_e(),"checkbox");O.value="1",O.id=j.checkbox,O.checked=Boolean(T.inputValue);const z=E.querySelector("span");return Xt(z,T.inputPlaceholder),O},Wn.textarea=(E,T)=>{rr(E,T.inputValue),Nt(E,T),In(E,E,T);return setTimeout(()=>{if("MutationObserver"in window){const z=parseInt(window.getComputedStyle(_e()).width);new MutationObserver(()=>{const St=E.offsetWidth+(z=>parseInt(window.getComputedStyle(z).marginLeft)+parseInt(window.getComputedStyle(z).marginRight))(E);_e().style.width=St>z?`${St}px`:null}).observe(E,{attributes:!0,attributeFilter:["style"]})}}),E};const me=(E,T)=>{const O=Xe();bn(O,T,"htmlContainer"),T.html?(Gt(T.html,O),cn(O,"block")):T.text?(O.textContent=T.text,cn(O,"block")):Ln(O),((E,T)=>{const O=_e(),z=R.innerParams.get(E),he=!z||T.input!==z.input;J.forEach(St=>{const mn=Sn(O,j[St]);Pt(St,T.inputAttributes),mn.className=j[St],he&&Ln(mn)}),T.input&&(he&&ot(T),nn(T))})(E,T)},_t=(E,T)=>{for(const O in ve)T.icon!==O&&$r(E,ve[O]);Kt(E,ve[T.icon]),hn(E,T),Lt(),bn(E,T,"icon")},Lt=()=>{const E=_e(),T=window.getComputedStyle(E).getPropertyValue("background-color"),O=E.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let z=0;z<O.length;z++)O[z].style.backgroundColor=T},Cn=(E,T)=>{let z,O=E.innerHTML;T.iconHtml?z=xr(T.iconHtml):"success"===T.icon?(z='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',O=O.replace(/ style=".*?"/g,"")):z="error"===T.icon?'\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':xr({question:"?",warning:"!",info:"i"}[T.icon]),O.trim()!==z.trim()&&Xt(E,z)},hn=(E,T)=>{if(T.iconColor){E.style.color=T.iconColor,E.style.borderColor=T.iconColor;for(const O of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Gn(E,O,"backgroundColor",T.iconColor);Gn(E,".swal2-success-ring","borderColor",T.iconColor)}},xr=E=>`<div class="${j["icon-content"]}">${E}</div>`,Sc=(E,T)=>{const O=T.showClass||{};E.className=`${j.popup} ${On(E)?O.popup:""}`,T.toast?(Kt([document.documentElement,document.body],j["toast-shown"]),Kt(E,j.toast)):Kt(E,j.modal),bn(E,T,"popup"),"string"==typeof T.customClass&&Kt(E,T.customClass),T.icon&&Kt(E,j[`icon-${T.icon}`])},Cr=E=>{const T=document.createElement("li");return Kt(T,j["progress-step"]),Xt(T,E),T},nt=E=>{const T=document.createElement("li");return Kt(T,j["progress-step-line"]),E.progressStepsDistance&&dt(T,"width",E.progressStepsDistance),T},Vn=(E,T)=>{((E,T)=>{const O=Le(),z=_e();if(O&&z){if(T.toast){dt(O,"width",T.width),z.style.width="100%";const he=xe();he&&z.insertBefore(he,Ge())}else dt(z,"width",T.width);dt(z,"padding",T.padding),T.color&&(z.style.color=T.color),T.background&&(z.style.background=T.background),Ln(Zt()),Sc(z,T)}})(0,T),G(0,T),((E,T)=>{const O=lt();if(!O)return;const{progressSteps:z,currentProgressStep:he}=T;z&&0!==z.length&&void 0!==he?(cn(O),O.textContent="",he>=z.length&&W("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),z.forEach((St,mn)=>{const Yn=Cr(St);if(O.appendChild(Yn),mn===he&&Kt(Yn,j["active-progress-step"]),mn!==z.length-1){const Qn=nt(T);O.appendChild(Qn)}})):Ln(O)})(0,T),((E,T)=>{const O=R.innerParams.get(E),z=Ge();O&&T.icon===O.icon?(Cn(z,T),_t(z,T)):T.icon||T.iconHtml?T.icon&&-1===Object.keys(ve).indexOf(T.icon)?(ne(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${T.icon}"`),Ln(z)):(cn(z),Cn(z,T),_t(z,T),Kt(z,T.showClass.icon)):Ln(z)})(E,T),((E,T)=>{const O=Mt();if(O){if(!T.imageUrl)return void Ln(O);cn(O,""),O.setAttribute("src",T.imageUrl),O.setAttribute("alt",T.imageAlt||""),dt(O,"width",T.imageWidth),dt(O,"height",T.imageHeight),O.className=j.image,bn(O,T,"image")}})(0,T),((E,T)=>{const O=ae();O&&(fr(O,T.title||T.titleText,"block"),T.title&&Gt(T.title,O),T.titleText&&(O.innerText=T.titleText),bn(O,T,"title"))})(0,T),((E,T)=>{const O=Ue();Xt(O,T.closeButtonHtml),bn(O,T,"closeButton"),fr(O,T.showCloseButton),O.setAttribute("aria-label",T.closeButtonAriaLabel)})(0,T),me(E,T),nr(0,T),((E,T)=>{const O=Ke();O&&(fr(O,T.footer),T.footer&&Gt(T.footer,O),bn(O,T,"footer"))})(0,T),"function"==typeof T.didRender&&T.didRender(_e())},ls=()=>et()&&et().click(),Rn=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),ho=E=>{E.keydownTarget&&E.keydownHandlerAdded&&(E.keydownTarget.removeEventListener("keydown",E.keydownHandler,{capture:E.keydownListenerCapture}),E.keydownHandlerAdded=!1)},Qt=(E,T)=>{const O=Pn();if(O.length)return(E+=T)===O.length?E=0:-1===E&&(E=O.length-1),void O[E].focus();_e().focus()},qo=["ArrowRight","ArrowDown"],vi=["ArrowLeft","ArrowUp"],Wo=(E,T,O)=>{const z=R.innerParams.get(E);z&&(T.isComposing||229===T.keyCode||(z.stopKeydownPropagation&&T.stopPropagation(),"Enter"===T.key?Ds(E,T,z):"Tab"===T.key?pr(T):[...qo,...vi].includes(T.key)?$s(T.key):"Escape"===T.key&&js(T,z,O)))},Ds=(E,T,O)=>{if(at(O.allowEnterKey)&&T.target&&E.getInput()&&T.target instanceof HTMLElement&&T.target.outerHTML===E.getInput().outerHTML){if(["textarea","file"].includes(O.input))return;ls(),T.preventDefault()}},pr=E=>{const T=E.target,O=Pn();let z=-1;for(let he=0;he<O.length;he++)if(T===O[he]){z=he;break}Qt(z,E.shiftKey?-1:1),E.stopPropagation(),E.preventDefault()},$s=E=>{const T=et(),O=ce(),z=ni();if(document.activeElement instanceof HTMLElement&&![T,O,z].includes(document.activeElement))return;const St=qo.includes(E)?"nextElementSibling":"previousElementSibling";let mn=document.activeElement;for(let Yn=0;Yn<Fe().children.length;Yn++){if(mn=mn[St],!mn)return;if(mn instanceof HTMLButtonElement&&On(mn))break}mn instanceof HTMLButtonElement&&mn.focus()},js=(E,T,O)=>{at(T.allowEscapeKey)&&(E.preventDefault(),O(Rn.esc))};var Hr={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const Mr=()=>{Array.from(document.body.children).forEach(T=>{T.hasAttribute("data-previous-aria-hidden")?(T.setAttribute("aria-hidden",T.getAttribute("data-previous-aria-hidden")),T.removeAttribute("data-previous-aria-hidden")):T.removeAttribute("aria-hidden")})},wi=()=>{const E=navigator.userAgent,T=!!E.match(/iPad/i)||!!E.match(/iPhone/i),O=!!E.match(/WebKit/i);T&&O&&!E.match(/CriOS/i)&&_e().scrollHeight>window.innerHeight-44&&(Le().style.paddingBottom="44px")},yl=()=>{const E=Le();let T;E.ontouchstart=O=>{T=Zo(O)},E.ontouchmove=O=>{T&&(O.preventDefault(),O.stopPropagation())}},Zo=E=>{const T=E.target,O=Le();return!po(E)&&!Ts(E)&&(T===O||!en(O)&&T instanceof HTMLElement&&"INPUT"!==T.tagName&&"TEXTAREA"!==T.tagName&&!(en(Xe())&&Xe().contains(T)))},po=E=>E.touches&&E.touches.length&&"stylus"===E.touches[0].touchType,Ts=E=>E.touches&&E.touches.length>1,Hs=()=>{if(gn(document.body,j.iosfix)){const E=parseInt(document.body.style.top,10);$r(document.body,j.iosfix),document.body.style.top="",document.body.scrollTop=-1*E}};let zs=null;const Qr=()=>{null===zs&&document.body.scrollHeight>window.innerHeight&&(zs=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${zs+(()=>{const E=document.createElement("div");E.className=j["scrollbar-measure"],document.body.appendChild(E);const T=E.getBoundingClientRect().width-E.clientWidth;return document.body.removeChild(E),T})()}px`)},Vi=()=>{null!==zs&&(document.body.style.paddingRight=`${zs}px`,zs=null)};function As(E,T,O,z){yt()?_l(E,z):(q(O).then(()=>_l(E,z)),ho(U)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(T.setAttribute("style","display:none !important"),T.removeAttribute("class"),T.innerHTML=""):T.remove(),ct()&&(Vi(),Hs(),Mr()),function Sa(){$r([document.documentElement,document.body],[j.shown,j["height-auto"],j["no-backdrop"],j["toast-shown"]])}()}function bi(E){E=jd(E);const T=Hr.swalPromiseResolve.get(this),O=Jr(this);this.isAwaitingPromise?E.isDismissed||(cs(this),T(E)):O&&T(E)}const Jr=E=>{const T=_e();if(!T)return!1;const O=R.innerParams.get(E);if(!O||gn(T,O.hideClass.popup))return!1;$r(T,O.showClass.popup),Kt(T,O.hideClass.popup);const z=Le();return $r(z,O.showClass.backdrop),Kt(z,O.hideClass.backdrop),Wi(E,T,O),!0};function us(E){const T=Hr.swalPromiseReject.get(this);cs(this),T&&T(E)}const cs=E=>{E.isAwaitingPromise&&(delete E.isAwaitingPromise,R.innerParams.get(E)||E._destroy())},jd=E=>typeof E>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},E),Wi=(E,T,O)=>{const z=Le(),he=tr&&ft(T);"function"==typeof O.willClose&&O.willClose(T),he?Hd(E,T,z,O.returnFocus,O.didClose):As(E,z,O.returnFocus,O.didClose)},Hd=(E,T,O,z,he)=>{U.swalCloseEventFinishedCallback=As.bind(null,E,O,z,he),T.addEventListener(tr,function(St){St.target===T&&(U.swalCloseEventFinishedCallback(),delete U.swalCloseEventFinishedCallback)})},_l=(E,T)=>{setTimeout(()=>{"function"==typeof T&&T.bind(E.params)(),E._destroy&&E._destroy()})},go=E=>{let T=_e();T||new Di,T=_e();const O=xe();yt()?Ln(Ge()):uu(T,E),cn(O),T.setAttribute("data-loading","true"),T.setAttribute("aria-busy","true"),T.focus()},uu=(E,T)=>{const O=Fe(),z=xe();!T&&On(et())&&(T=et()),cn(O),T&&(Ln(T),z.setAttribute("data-button-to-replace",T.className)),z.parentNode.insertBefore(z,T),Kt([E,O],j.loading)},du=E=>E.checked?1:0,hu=E=>E.checked?E.value:null,xc=E=>E.files.length?null!==E.getAttribute("multiple")?E.files:E.files[0]:null,Ss=(E,T)=>{const O=_e(),z=he=>{Mc[T.input](O,xs(he),T)};we(T.inputOptions)||Be(T.inputOptions)?(go(et()),Ne(T.inputOptions).then(he=>{E.hideLoading(),z(he)})):"object"==typeof T.inputOptions?z(T.inputOptions):ne("Unexpected type of inputOptions! Expected object, Map or Promise, got "+typeof T.inputOptions)},mo=(E,T)=>{const O=E.getInput();Ln(O),Ne(T.inputValue).then(z=>{O.value="number"===T.input?`${parseFloat(z)||0}`:`${z}`,cn(O),O.focus(),E.hideLoading()}).catch(z=>{ne(`Error in inputValue promise: ${z}`),O.value="",cn(O),O.focus(),E.hideLoading()})},Mc={select:(E,T,O)=>{const z=Sn(E,j.select),he=(St,mn,Yn)=>{const Qn=document.createElement("option");Qn.value=Yn,Xt(Qn,mn),Qn.selected=fu(Yn,O.inputValue),St.appendChild(Qn)};T.forEach(St=>{const mn=St[0],Yn=St[1];if(Array.isArray(Yn)){const Qn=document.createElement("optgroup");Qn.label=mn,Qn.disabled=!1,z.appendChild(Qn),Yn.forEach(Ys=>he(Qn,Ys[1],Ys[0]))}else he(z,Yn,mn)}),z.focus()},radio:(E,T,O)=>{const z=Sn(E,j.radio);T.forEach(St=>{const mn=St[0],Yn=St[1],Qn=document.createElement("input"),Ys=document.createElement("label");Qn.type="radio",Qn.name=j.radio,Qn.value=mn,fu(mn,O.inputValue)&&(Qn.checked=!0);const Xi=document.createElement("span");Xt(Xi,Yn),Xi.className=j.label,Ys.appendChild(Qn),Ys.appendChild(Xi),z.appendChild(Ys)});const he=z.querySelectorAll("input");he.length&&he[0].focus()}},xs=E=>{const T=[];return typeof Map<"u"&&E instanceof Map?E.forEach((O,z)=>{let he=O;"object"==typeof he&&(he=xs(he)),T.push([z,he])}):Object.keys(E).forEach(O=>{let z=E[O];"object"==typeof z&&(z=xs(z)),T.push([O,z])}),T},fu=(E,T)=>T&&T.toString()===E.toString(),Zi=(E,T)=>{const O=R.innerParams.get(E);if(!O.input)return void ne(`The "input" parameter is needed to be set when using returnInputValueOn${Y(T)}`);const z=((E,T)=>{const O=E.getInput();if(!O)return null;switch(T.input){case"checkbox":return du(O);case"radio":return hu(O);case"file":return xc(O);default:return T.inputAutoTrim?O.value.trim():O.value}})(E,O);O.inputValidator?gu(E,z,T):E.getInput().checkValidity()?"deny"===T?xa(E,z):Ki(E,z):(E.enableButtons(),E.showValidationMessage(O.validationMessage))},gu=(E,T,O)=>{const z=R.innerParams.get(E);E.disableInput(),Promise.resolve().then(()=>Ne(z.inputValidator(T,z.validationMessage))).then(St=>{E.enableButtons(),E.enableInput(),St?E.showValidationMessage(St):"deny"===O?xa(E,T):Ki(E,T)})},xa=(E,T)=>{const O=R.innerParams.get(E||void 0);O.showLoaderOnDeny&&go(ce()),O.preDeny?(E.isAwaitingPromise=!0,Promise.resolve().then(()=>Ne(O.preDeny(T,O.validationMessage))).then(he=>{!1===he?(E.hideLoading(),cs(E)):E.close({isDenied:!0,value:typeof he>"u"?T:he})}).catch(he=>mu(E||void 0,he))):E.close({isDenied:!0,value:T})},Ko=(E,T)=>{E.close({isConfirmed:!0,value:T})},mu=(E,T)=>{E.rejectPromise(T)},Ki=(E,T)=>{const O=R.innerParams.get(E||void 0);O.showLoaderOnConfirm&&go(),O.preConfirm?(E.resetValidationMessage(),E.isAwaitingPromise=!0,Promise.resolve().then(()=>Ne(O.preConfirm(T,O.validationMessage))).then(he=>{On(Zt())||!1===he?(E.hideLoading(),cs(E)):Ko(E,typeof he>"u"?T:he)}).catch(he=>mu(E||void 0,he))):Ko(E,T)};function _o(){const E=R.innerParams.get(this);if(!E)return;const T=R.domCache.get(this);Ln(T.loader),yt()?E.icon&&cn(Ge()):Ma(T),$r([T.popup,T.actions],j.loading),T.popup.removeAttribute("aria-busy"),T.popup.removeAttribute("data-loading"),T.confirmButton.disabled=!1,T.denyButton.disabled=!1,T.cancelButton.disabled=!1}const Ma=E=>{const T=E.popup.getElementsByClassName(E.loader.getAttribute("data-button-to-replace"));T.length?cn(T[0],"inline-block"):!On(et())&&!On(ce())&&!On(ni())&&Ln(E.actions)};function yu(){const E=R.innerParams.get(this),T=R.domCache.get(this);return T?_r(T.popup,E.input):null}function qs(E,T,O){const z=R.domCache.get(E);T.forEach(he=>{z[he].disabled=O})}function Ms(E,T){if(E)if("radio"===E.type){const z=E.parentNode.parentNode.querySelectorAll("input");for(let he=0;he<z.length;he++)z[he].disabled=T}else E.disabled=T}function Bn(){qs(this,["confirmButton","denyButton","cancelButton"],!1)}function vo(){qs(this,["confirmButton","denyButton","cancelButton"],!0)}function Yo(){Ms(this.getInput(),!1)}function or(){Ms(this.getInput(),!0)}function Ps(E){const T=R.domCache.get(this),O=R.innerParams.get(this);Xt(T.validationMessage,E),T.validationMessage.className=j["validation-message"],O.customClass&&O.customClass.validationMessage&&Kt(T.validationMessage,O.customClass.validationMessage),cn(T.validationMessage);const z=this.getInput();z&&(z.setAttribute("aria-invalid",!0),z.setAttribute("aria-describedby",j["validation-message"]),Jn(z),Kt(z,j.inputerror))}function Os(){const E=R.domCache.get(this);E.validationMessage&&Ln(E.validationMessage);const T=this.getInput();T&&(T.removeAttribute("aria-invalid"),T.removeAttribute("aria-describedby"),$r(T,j.inputerror))}const Zn={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Pc=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Pa={},Xr=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],gr=E=>Object.prototype.hasOwnProperty.call(Zn,E),wo=E=>-1!==Pc.indexOf(E),ds=E=>Pa[E],_u=E=>{gr(E)||W(`Unknown parameter "${E}"`)},hs=E=>{Xr.includes(E)&&W(`The parameter "${E}" is incompatible with toasts`)},Qo=E=>{const T=ds(E);T&&Qe(E,T)};function Bt(E){const T=_e(),O=R.innerParams.get(this);if(!T||gn(T,O.hideClass.popup))return void W("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const z=Oa(E),he=Object.assign({},O,z);Vn(this,he),R.innerParams.set(this,he),Object.defineProperties(this,{params:{value:Object.assign({},this.params,E),writable:!1,enumerable:!0}})}const Oa=E=>{const T={};return Object.keys(E).forEach(O=>{wo(O)?T[O]=E[O]:W(`Invalid parameter to update: ${O}`)}),T};function vu(){const E=R.domCache.get(this),T=R.innerParams.get(this);T?(E.popup&&U.swalCloseEventFinishedCallback&&(U.swalCloseEventFinishedCallback(),delete U.swalCloseEventFinishedCallback),"function"==typeof T.didDestroy&&T.didDestroy(),vl(this)):Ra(this)}const vl=E=>{Ra(E),delete E.params,delete U.keydownHandler,delete U.keydownTarget,delete U.currentInstance},Ra=E=>{E.isAwaitingPromise?(Jo(R,E),E.isAwaitingPromise=!0):(Jo(Hr,E),Jo(R,E),delete E.isAwaitingPromise,delete E.disableButtons,delete E.enableButtons,delete E.getInput,delete E.disableInput,delete E.enableInput,delete E.hideLoading,delete E.disableLoading,delete E.showValidationMessage,delete E.resetValidationMessage,delete E.close,delete E.closePopup,delete E.closeModal,delete E.closeToast,delete E.rejectPromise,delete E.update,delete E._destroy)},Jo=(E,T)=>{for(const O in E)E[O].delete(T)};var wu=Object.freeze({__proto__:null,_destroy:vu,close:bi,closeModal:bi,closePopup:bi,closeToast:bi,disableButtons:vo,disableInput:or,disableLoading:_o,enableButtons:Bn,enableInput:Yo,getInput:yu,handleAwaitingPromise:cs,hideLoading:_o,rejectPromise:us,resetValidationMessage:Os,showValidationMessage:Ps,update:Bt});const Gd=(E,T,O)=>{T.popup.onclick=()=>{const z=R.innerParams.get(E);z&&(ye(z)||z.timer||z.input)||O(Rn.close)}},ye=E=>E.showConfirmButton||E.showDenyButton||E.showCancelButton||E.showCloseButton;let $t=!1;const wl=E=>{E.popup.onmousedown=()=>{E.container.onmouseup=function(T){E.container.onmouseup=void 0,T.target===E.container&&($t=!0)}}},Xo=E=>{E.container.onmousedown=()=>{E.popup.onmouseup=function(T){E.popup.onmouseup=void 0,(T.target===E.popup||E.popup.contains(T.target))&&($t=!0)}}},ir=(E,T,O)=>{T.container.onclick=z=>{const he=R.innerParams.get(E);$t?$t=!1:z.target===T.container&&at(he.allowOutsideClick)&&O(Rn.backdrop)}},Ws=E=>E instanceof Element||(E=>"object"==typeof E&&E.jquery)(E);const fs=()=>{if(U.timeout)return(()=>{const E=$e(),T=parseInt(window.getComputedStyle(E).width);E.style.removeProperty("transition"),E.style.width="100%";const O=parseInt(window.getComputedStyle(E).width);E.style.width=T/O*100+"%"})(),U.timeout.stop()},Zs=()=>{if(U.timeout){const E=U.timeout.start();return Ut(E),E}};let Yi=!1;const Ei={};const Ks=E=>{for(let T=E.target;T&&T!==document;T=T.parentNode)for(const O in Ei){const z=T.getAttribute(O);if(z)return void Ei[O].fire({template:z})}};var Tu=Object.freeze({__proto__:null,argsToParams:E=>{const T={};return"object"!=typeof E[0]||Ws(E[0])?["title","html","icon"].forEach((O,z)=>{const he=E[z];"string"==typeof he||Ws(he)?T[O]=he:void 0!==he&&ne(`Unexpected type of ${O}! Expected "string" or "Element", got ${typeof he}`)}):Object.assign(T,E[0]),T},bindClickHandler:function Du(){Ei[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,Yi||(document.body.addEventListener("click",Ks),Yi=!0)},clickCancel:()=>ni()&&ni().click(),clickConfirm:ls,clickDeny:()=>ce()&&ce().click(),enableLoading:go,fire:function ka(){for(var T=arguments.length,O=new Array(T),z=0;z<T;z++)O[z]=arguments[z];return new this(...O)},getActions:Fe,getCancelButton:ni,getCloseButton:Ue,getConfirmButton:et,getContainer:Le,getDenyButton:ce,getFocusableElements:Pn,getFooter:Ke,getHtmlContainer:Xe,getIcon:Ge,getIconContent:()=>be(j["icon-content"]),getImage:Mt,getInputLabel:()=>be(j["input-label"]),getLoader:xe,getPopup:_e,getProgressSteps:lt,getTimerLeft:()=>U.timeout&&U.timeout.getTimerLeft(),getTimerProgressBar:$e,getTitle:ae,getValidationMessage:Zt,increaseTimer:E=>{if(U.timeout){const T=U.timeout.increase(E);return Ut(T,!0),T}},isDeprecatedParameter:ds,isLoading:()=>_e().hasAttribute("data-loading"),isTimerRunning:()=>U.timeout&&U.timeout.isRunning(),isUpdatableParameter:wo,isValidParameter:gr,isVisible:()=>On(_e()),mixin:function Eu(E){return class T extends(this){_main(z,he){return super._main(z,Object.assign({},E,he))}}},resumeTimer:Zs,showLoading:go,stopTimer:fs,toggleTimer:()=>{const E=U.timeout;return E&&(E.running?fs():Zs())}});class qd{constructor(T,O){this.callback=T,this.remaining=O,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(T){const O=this.running;return O&&this.stop(),this.remaining+=T,O&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Kn=["swal-title","swal-html","swal-footer"],ea=E=>{const T={};return Array.from(E.querySelectorAll("swal-param")).forEach(z=>{Qi(z,["name","value"]);const he=z.getAttribute("name"),St=z.getAttribute("value");T[he]="boolean"==typeof Zn[he]?"false"!==St:"object"==typeof Zn[he]?JSON.parse(St):St}),T},Au=E=>{const T={};return Array.from(E.querySelectorAll("swal-function-param")).forEach(z=>{const he=z.getAttribute("name"),St=z.getAttribute("value");T[he]=new Function(`return ${St}`)()}),T},Fa=E=>{const T={};return Array.from(E.querySelectorAll("swal-button")).forEach(z=>{Qi(z,["type","color","aria-label"]);const he=z.getAttribute("type");T[`${he}ButtonText`]=z.innerHTML,T[`show${Y(he)}Button`]=!0,z.hasAttribute("color")&&(T[`${he}ButtonColor`]=z.getAttribute("color")),z.hasAttribute("aria-label")&&(T[`${he}ButtonAriaLabel`]=z.getAttribute("aria-label"))}),T},Su=E=>{const T={},O=E.querySelector("swal-image");return O&&(Qi(O,["src","width","height","alt"]),O.hasAttribute("src")&&(T.imageUrl=O.getAttribute("src")),O.hasAttribute("width")&&(T.imageWidth=O.getAttribute("width")),O.hasAttribute("height")&&(T.imageHeight=O.getAttribute("height")),O.hasAttribute("alt")&&(T.imageAlt=O.getAttribute("alt"))),T},Co=E=>{const T={},O=E.querySelector("swal-icon");return O&&(Qi(O,["type","color"]),O.hasAttribute("type")&&(T.icon=O.getAttribute("type")),O.hasAttribute("color")&&(T.iconColor=O.getAttribute("color")),T.iconHtml=O.innerHTML),T},bl=E=>{const T={},O=E.querySelector("swal-input");O&&(Qi(O,["type","label","placeholder","value"]),T.input=O.getAttribute("type")||"text",O.hasAttribute("label")&&(T.inputLabel=O.getAttribute("label")),O.hasAttribute("placeholder")&&(T.inputPlaceholder=O.getAttribute("placeholder")),O.hasAttribute("value")&&(T.inputValue=O.getAttribute("value")));const z=Array.from(E.querySelectorAll("swal-input-option"));return z.length&&(T.inputOptions={},z.forEach(he=>{Qi(he,["value"]);const St=he.getAttribute("value");T.inputOptions[St]=he.innerHTML})),T},ta=(E,T)=>{const O={};for(const z in T){const he=T[z],St=E.querySelector(he);St&&(Qi(St,[]),O[he.replace(/^swal-/,"")]=St.innerHTML.trim())}return O},Cl=E=>{const T=Kn.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(E.children).forEach(O=>{const z=O.tagName.toLowerCase();T.includes(z)||W(`Unrecognized element <${z}>`)})},Qi=(E,T)=>{Array.from(E.attributes).forEach(O=>{-1===T.indexOf(O.name)&&W([`Unrecognized attribute "${O.name}" on <${E.tagName.toLowerCase()}>.`,T.length?`Allowed attributes are: ${T.join(", ")}`:"To set the value, use HTML within the element."])})},Il=E=>{const T=Le(),O=_e();"function"==typeof E.willOpen&&E.willOpen(O);const he=window.getComputedStyle(document.body).overflowY;$n(T,O,E),setTimeout(()=>{zr(T,O)},10),ct()&&(Ji(T,E.scrollbarPadding,he),Array.from(document.body.children).forEach(T=>{T===Le()||T.contains(Le())||(T.hasAttribute("aria-hidden")&&T.setAttribute("data-previous-aria-hidden",T.getAttribute("aria-hidden")),T.setAttribute("aria-hidden","true"))})),!yt()&&!U.previousActiveElement&&(U.previousActiveElement=document.activeElement),"function"==typeof E.didOpen&&setTimeout(()=>E.didOpen(O)),$r(T,j["no-transition"])},Dl=E=>{const T=_e();if(E.target!==T)return;const O=Le();T.removeEventListener(tr,Dl),O.style.overflowY="auto"},zr=(E,T)=>{tr&&ft(T)?(E.style.overflowY="hidden",T.addEventListener(tr,Dl)):E.style.overflowY="auto"},Ji=(E,T,O)=>{(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!gn(document.body,j.iosfix)){const T=document.body.scrollTop;document.body.style.top=-1*T+"px",Kt(document.body,j.iosfix),yl(),wi()}})(),T&&"hidden"!==O&&Qr(),setTimeout(()=>{E.scrollTop=0})},$n=(E,T,O)=>{Kt(E,O.showClass.backdrop),T.style.setProperty("opacity","0","important"),cn(T,"grid"),setTimeout(()=>{Kt(T,O.showClass.popup),T.style.removeProperty("opacity")},10),Kt([document.documentElement,document.body],j.shown),O.heightAuto&&O.backdrop&&!O.toast&&Kt([document.documentElement,document.body],j["height-auto"])};var Tl={email:(E,T)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(E)?Promise.resolve():Promise.resolve(T||"Invalid email address"),url:(E,T)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(E)?Promise.resolve():Promise.resolve(T||"Invalid URL")};function Wd(E){(function Eo(E){E.inputValidator||Object.keys(Tl).forEach(T=>{E.input===T&&(E.inputValidator=Tl[T])})})(E),E.showLoaderOnConfirm&&!E.preConfirm&&W("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function Al(E){(!E.target||"string"==typeof E.target&&!document.querySelector(E.target)||"string"!=typeof E.target&&!E.target.appendChild)&&(W('Target parameter is not valid, defaulting to "body"'),E.target="body")}(E),"string"==typeof E.title&&(E.title=E.title.split("\n").join("<br />")),ii(E)}let Ii;class ar{constructor(){if(typeof window>"u")return;Ii=this;for(var T=arguments.length,O=new Array(T),z=0;z<T;z++)O[z]=arguments[z];const he=Object.freeze(this.constructor.argsToParams(O));this.params=he,this.isAwaitingPromise=!1;const St=Ii._main(Ii.params);R.promise.set(this,St)}_main(T){let O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(E=>{!1===E.backdrop&&E.allowOutsideClick&&W('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const T in E)_u(T),E.toast&&hs(T),Qo(T)})(Object.assign({},O,T)),U.currentInstance&&(U.currentInstance._destroy(),ct()&&Mr()),U.currentInstance=Ii;const z=Sl(T,O);Wd(z),Object.freeze(z),U.timeout&&(U.timeout.stop(),delete U.timeout),clearTimeout(U.restoreFocusTimeout);const he=xu(Ii);return Vn(Ii,z),R.innerParams.set(Ii,z),La(Ii,he,z)}then(T){return R.promise.get(this).then(T)}finally(T){return R.promise.get(this).finally(T)}}const La=(E,T,O)=>new Promise((z,he)=>{const St=mn=>{E.close({isDismissed:!0,dismiss:mn})};Hr.swalPromiseResolve.set(E,z),Hr.swalPromiseReject.set(E,he),T.confirmButton.onclick=()=>{(E=>{const T=R.innerParams.get(E);E.disableButtons(),T.input?Zi(E,"confirm"):Ki(E,!0)})(E)},T.denyButton.onclick=()=>{(E=>{const T=R.innerParams.get(E);E.disableButtons(),T.returnInputValueOnDeny?Zi(E,"deny"):xa(E,!1)})(E)},T.cancelButton.onclick=()=>{((E,T)=>{E.disableButtons(),T(Rn.cancel)})(E,St)},T.closeButton.onclick=()=>{St(Rn.close)},((E,T,O)=>{R.innerParams.get(E).toast?Gd(E,T,O):(wl(T),Xo(T),ir(E,T,O))})(E,T,St),((E,T,O,z)=>{ho(T),O.toast||(T.keydownHandler=he=>Wo(E,he,z),T.keydownTarget=O.keydownListenerCapture?window:_e(),T.keydownListenerCapture=O.keydownListenerCapture,T.keydownTarget.addEventListener("keydown",T.keydownHandler,{capture:T.keydownListenerCapture}),T.keydownHandlerAdded=!0)})(E,U,O,St),((E,T)=>{"select"===T.input||"radio"===T.input?Ss(E,T):["text","email","number","tel","textarea"].includes(T.input)&&(we(T.inputValue)||Be(T.inputValue))&&(go(et()),mo(E,T))})(E,O),Il(O),Mu(U,O,St),Va(T,O),setTimeout(()=>{T.container.scrollTop=0})}),Sl=(E,T)=>{const O=(E=>{const T="string"==typeof E.template?document.querySelector(E.template):E.template;if(!T)return{};const O=T.content;return Cl(O),Object.assign(ea(O),Au(O),Fa(O),Su(O),Co(O),bl(O),ta(O,Kn))})(E),z=Object.assign({},Zn,T,O,E);return z.showClass=Object.assign({},Zn.showClass,z.showClass),z.hideClass=Object.assign({},Zn.hideClass,z.hideClass),z},xu=E=>{const T={popup:_e(),container:Le(),actions:Fe(),confirmButton:et(),denyButton:ce(),cancelButton:ni(),loader:xe(),closeButton:Ue(),validationMessage:Zt(),progressSteps:lt()};return R.domCache.set(E,T),T},Mu=(E,T,O)=>{const z=$e();Ln(z),T.timer&&(E.timeout=new qd(()=>{O("timer"),delete E.timeout},T.timer),T.timerProgressBar&&(cn(z),bn(z,T,"timerProgressBar"),setTimeout(()=>{E.timeout&&E.timeout.running&&Ut(T.timer)})))},Va=(E,T)=>{if(!T.toast){if(!at(T.allowEnterKey))return void na();Io(E,T)||Qt(-1,1)}},Io=(E,T)=>T.focusDeny&&On(E.denyButton)?(E.denyButton.focus(),!0):T.focusCancel&&On(E.cancelButton)?(E.cancelButton.focus(),!0):!(!T.focusConfirm||!On(E.confirmButton)||(E.confirmButton.focus(),0)),na=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|xn--p1ai)$/)){const E=new Date,T=localStorage.getItem("swal-initiation");T?(E.getTime()-Date.parse(T))/864e5>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const O=document.createElement("audio");O.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",O.loop=!0,document.body.appendChild(O),setTimeout(()=>{O.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${E}`)}ar.prototype.disableButtons=vo,ar.prototype.enableButtons=Bn,ar.prototype.getInput=yu,ar.prototype.disableInput=or,ar.prototype.enableInput=Yo,ar.prototype.hideLoading=_o,ar.prototype.disableLoading=_o,ar.prototype.showValidationMessage=Ps,ar.prototype.resetValidationMessage=Os,ar.prototype.close=bi,ar.prototype.closePopup=bi,ar.prototype.closeModal=bi,ar.prototype.closeToast=bi,ar.prototype.rejectPromise=us,ar.prototype.update=Bt,ar.prototype._destroy=vu,Object.assign(ar,Tu),Object.keys(wu).forEach(E=>{ar[E]=function(){return Ii&&Ii[E]?Ii[E](...arguments):null}}),ar.DismissReason=Rn,ar.version="11.7.10";const Di=ar;return Di.default=Di,Di}(),typeof this<"u"&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),typeof document<"u"&&function(Re,U){var u=Re.createElement("style");if(Re.getElementsByTagName("head")[0].appendChild(u),u.styleSheet)u.styleSheet.disabled||(u.styleSheet.cssText=U);else try{u.innerHTML=U}catch{u.innerText=U}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-container) div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-container) div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-container) div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-container) div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-container) div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-container) div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-container) div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-container) div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-container) div:where(.swal2-icon).swal2-warning{border-color:#facea8;color:#f8bb86}div:where(.swal2-container) div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-container) div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-container) div:where(.swal2-icon).swal2-info{border-color:#9de0f6;color:#3fc3ee}div:where(.swal2-container) div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-container) div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-container) div:where(.swal2-icon).swal2-question{border-color:#c9dae1;color:#87adbd}div:where(.swal2-container) div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-container) div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-container) div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-container) div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}div:where(.swal2-container) div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-container) div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-container) div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-container) div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-container) div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-container) div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-container) div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-container) div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-container) div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-container) div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')},655:(Dt,Re,U)=>{"use strict";function se(ce,Ie){var xe={};for(var Fe in ce)Object.prototype.hasOwnProperty.call(ce,Fe)&&Ie.indexOf(Fe)<0&&(xe[Fe]=ce[Fe]);if(null!=ce&&"function"==typeof Object.getOwnPropertySymbols){var Ke=0;for(Fe=Object.getOwnPropertySymbols(ce);Ke<Fe.length;Ke++)Ie.indexOf(Fe[Ke])<0&&Object.prototype.propertyIsEnumerable.call(ce,Fe[Ke])&&(xe[Fe[Ke]]=ce[Fe[Ke]])}return xe}function ne(ce,Ie,xe,Fe){return new(xe||(xe=Promise))(function($e,Ue){function gt(yt){try{ct(Fe.next(yt))}catch(dn){Ue(dn)}}function Pn(yt){try{ct(Fe.throw(yt))}catch(dn){Ue(dn)}}function ct(yt){yt.done?$e(yt.value):function Ke($e){return $e instanceof xe?$e:new xe(function(Ue){Ue($e)})}(yt.value).then(gt,Pn)}ct((Fe=Fe.apply(ce,Ie||[])).next())})}function Me(ce){return this instanceof Me?(this.v=ce,this):new Me(ce)}function be(ce,Ie,xe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ke,Fe=xe.apply(ce,Ie||[]),$e=[];return Ke={},Ue("next"),Ue("throw"),Ue("return"),Ke[Symbol.asyncIterator]=function(){return this},Ke;function Ue(Xt){Fe[Xt]&&(Ke[Xt]=function(gn){return new Promise(function(Br,bn){$e.push([Xt,gn,Br,bn])>1||gt(Xt,gn)})})}function gt(Xt,gn){try{!function Pn(Xt){Xt.value instanceof Me?Promise.resolve(Xt.value.v).then(ct,yt):dn($e[0][2],Xt)}(Fe[Xt](gn))}catch(Br){dn($e[0][3],Br)}}function ct(Xt){gt("next",Xt)}function yt(Xt){gt("throw",Xt)}function dn(Xt,gn){Xt(gn),$e.shift(),$e.length&&gt($e[0][0],$e[0][1])}}function Ge(ce){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var xe,Ie=ce[Symbol.asyncIterator];return Ie?Ie.call(ce):(ce=function at(ce){var Ie="function"==typeof Symbol&&Symbol.iterator,xe=Ie&&ce[Ie],Fe=0;if(xe)return xe.call(ce);if(ce&&"number"==typeof ce.length)return{next:function(){return ce&&Fe>=ce.length&&(ce=void 0),{value:ce&&ce[Fe++],done:!ce}}};throw new TypeError(Ie?"Object is not iterable.":"Symbol.iterator is not defined.")}(ce),xe={},Fe("next"),Fe("throw"),Fe("return"),xe[Symbol.asyncIterator]=function(){return this},xe);function Fe($e){xe[$e]=ce[$e]&&function(Ue){return new Promise(function(gt,Pn){!function Ke($e,Ue,gt,Pn){Promise.resolve(Pn).then(function(ct){$e({value:ct,done:gt})},Ue)}(gt,Pn,(Ue=ce[$e](Ue)).done,Ue.value)})}}}U.d(Re,{FC:()=>be,KL:()=>Ge,_T:()=>se,mG:()=>ne,qq:()=>Me})},4650:(Dt,Re,U)=>{"use strict";U.d(Re,{$8M:()=>Rl,$WT:()=>xr,$Z:()=>Rw,AFp:()=>jv,ALo:()=>dr,AaK:()=>ve,CHM:()=>wl,CRH:()=>gc,CZH:()=>Gm,CqO:()=>Hh,D6c:()=>HC,EJc:()=>IC,EpF:()=>j_,F4k:()=>ob,FYo:()=>e_,FiY:()=>ua,GfV:()=>fw,Gpc:()=>W,JOm:()=>Vt,KtG:()=>Xo,LFG:()=>Gt,LSH:()=>jy,Lbi:()=>dg,Lck:()=>qi,MMx:()=>Mm,NdJ:()=>sm,OlP:()=>wn,Oqu:()=>yd,P3R:()=>iw,PXZ:()=>RC,Q6J:()=>Ip,QGY:()=>im,Qsj:()=>yI,R0b:()=>as,RDi:()=>KE,Rgc:()=>af,SBq:()=>Ih,Sil:()=>rD,Suo:()=>Vm,TTD:()=>xa,TgZ:()=>tc,Tol:()=>Y_,VKq:()=>Jp,WLB:()=>fc,X6Q:()=>dD,XFs:()=>dt,Xpm:()=>Yt,Xts:()=>zy,Y36:()=>xh,YKP:()=>Zp,YNc:()=>L_,Yjl:()=>on,Yz7:()=>yt,Z0I:()=>Br,ZZ4:()=>gl,_Bn:()=>vv,_UZ:()=>U_,_Vd:()=>Eh,_c5:()=>jC,_uU:()=>X_,aQg:()=>ty,c2e:()=>CC,cJS:()=>Xt,cg1:()=>uv,dDg:()=>MC,dqk:()=>vn,eFA:()=>vc,eJc:()=>Bm,ekj:()=>md,eoX:()=>PC,f3M:()=>Hn,g9A:()=>gf,h0i:()=>Un,hGG:()=>bD,hij:()=>Up,iGM:()=>Fm,ifc:()=>B,ip1:()=>$v,jDz:()=>ci,kL8:()=>Sb,lG2:()=>Lt,lqb:()=>od,lri:()=>Zv,n5z:()=>Lc,oAB:()=>oe,oxw:()=>lb,q4F:()=>pw,qLn:()=>sp,qOj:()=>D_,qZA:()=>Tp,rWj:()=>Km,s9C:()=>Yl,sBO:()=>yg,s_b:()=>km,soG:()=>qm,tb:()=>Yv,tp0:()=>Rt,uIk:()=>nm,vHH:()=>we,vpe:()=>$o,wAp:()=>zt,xi3:()=>Cd,xp6:()=>Dw,z2F:()=>mg,zSh:()=>Qu,zs3:()=>Th});var u=U(7579),q=U(727),R=U(9751),se=U(6451),ue=U(3099);function j(s){for(let o in s)if(s[o]===j)return o;throw Error("Could not find renamed property on target object.")}function De(s,o){for(const a in o)o.hasOwnProperty(a)&&!s.hasOwnProperty(a)&&(s[a]=o[a])}function ve(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(ve).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function Ee(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const Y=j({__forward_ref__:j});function W(s){return s.__forward_ref__=W,s.toString=function(){return ve(this())},s}function ne(s){return qe(s)?s():s}function qe(s){return"function"==typeof s&&s.hasOwnProperty(Y)&&s.__forward_ref__===W}function ke(s){return s&&!!s.\u0275providers}const at="https://g.co/ng/security#xss";class we extends Error{constructor(o,a){super(Ne(o,a)),this.code=o}}function Ne(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}function Be(s){return"string"==typeof s?s:null==s?"":String(s)}function Ge(s,o){throw new we(-201,!1)}function $e(s,o){null==s&&function Ue(s,o,a,d){throw new Error(`ASSERTION ERROR: ${s}`+(null==d?"":` [Expected=> ${a} ${d} ${o} <=Actual]`))}(o,s,null,"!=")}function yt(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Xt(s){return{providers:s.providers||[],imports:s.imports||[]}}function gn(s){return bn(s,Kr)||bn(s,$r)}function Br(s){return null!==gn(s)}function bn(s,o){return s.hasOwnProperty(o)?s[o]:null}function Jn(s){return s&&(s.hasOwnProperty(Kt)||s.hasOwnProperty(Sn))?s[Kt]:null}const Kr=j({\u0275prov:j}),Kt=j({\u0275inj:j}),$r=j({ngInjectableDef:j}),Sn=j({ngInjectorDef:j});var dt=(()=>((dt=dt||{})[dt.Default=0]="Default",dt[dt.Host=1]="Host",dt[dt.Self=2]="Self",dt[dt.SkipSelf=4]="SkipSelf",dt[dt.Optional=8]="Optional",dt))();let cn;function Gn(s){const o=cn;return cn=s,o}function fr(s,o,a){const d=gn(s);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:a&dt.Optional?null:void 0!==o?o:void Ge(ve(s))}const vn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Xn={},vr="__NG_DI_FLAG__",qn="ngTempTokenPath",ri="ngTokenPath",xn=/\n/gm,wr="\u0275",sn="__source";let yi;function un(s){const o=yi;return yi=s,o}function ii(s,o=dt.Default){if(void 0===yi)throw new we(-203,!1);return null===yi?fr(s,void 0,o):yi.get(s,o&dt.Optional?null:void 0,o)}function Gt(s,o=dt.Default){return(function Ln(){return cn}()||ii)(ne(s),o)}function Hn(s,o=dt.Default){return Gt(s,tr(o))}function tr(s){return typeof s>"u"||"number"==typeof s?s:0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)}function nr(s){const o=[];for(let a=0;a<s.length;a++){const d=ne(s[a]);if(Array.isArray(d)){if(0===d.length)throw new we(900,!1);let h,p=dt.Default;for(let y=0;y<d.length;y++){const C=d[y],A=jr(C);"number"==typeof A?-1===A?h=C.token:p|=A:h=C}o.push(Gt(h,p))}else o.push(Gt(d))}return o}function Yr(s,o){return s[vr]=o,s.prototype[vr]=o,s}function jr(s){return s[vr]}function G(s){return{toString:s}.toString()}var V=(()=>((V=V||{})[V.OnPush=0]="OnPush",V[V.Default=1]="Default",V))(),B=(()=>{return(s=B||(B={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",B;var s})();const k={},J=[],Te=j({\u0275cmp:j}),ot=j({\u0275dir:j}),kt=j({\u0275pipe:j}),Pt=j({\u0275mod:j}),nn=j({\u0275fac:j}),Nt=j({__NG_ELEMENT_ID__:j});let In=0;function Yt(s){return G(()=>{const o=Aa(s),a={...o,decls:s.decls,vars:s.vars,template:s.template,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,onPush:s.changeDetection===V.OnPush,directiveDefs:null,pipeDefs:null,dependencies:o.standalone&&s.dependencies||null,getStandaloneInjector:null,data:s.data||{},encapsulation:s.encapsulation||B.Emulated,id:"c"+In++,styles:s.styles||J,_:null,schemas:s.schemas||null,tView:null};Sc(a);const d=s.dependencies;return a.directiveDefs=Bs(d,!1),a.pipeDefs=Bs(d,!0),a})}function Wn(s){return Et(s)||Cn(s)}function me(s){return null!==s}function oe(s){return G(()=>({type:s.type,bootstrap:s.bootstrap||J,declarations:s.declarations||J,imports:s.imports||J,exports:s.exports||J,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function _t(s,o){if(null==s)return k;const a={};for(const d in s)if(s.hasOwnProperty(d)){let h=s[d],p=h;Array.isArray(h)&&(p=h[1],h=h[0]),a[h]=d,o&&(o[h]=p)}return a}function Lt(s){return G(()=>{const o=Aa(s);return Sc(o),o})}function on(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function Et(s){return s[Te]||null}function Cn(s){return s[ot]||null}function hn(s){return s[kt]||null}function xr(s){const o=Et(s)||Cn(s)||hn(s);return null!==o&&o.standalone}function br(s,o){const a=s[Pt]||null;if(!a&&!0===o)throw new Error(`Type ${ve(s)} does not have '\u0275mod' property.`);return a}function Aa(s){const o={};return{type:s.type,providersResolver:null,factory:null,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:o,exportAs:s.exportAs||null,standalone:!0===s.standalone,selectors:s.selectors||J,viewQuery:s.viewQuery||null,features:s.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:_t(s.inputs,o),outputs:_t(s.outputs)}}function Sc(s){s.features?.forEach(o=>o(s))}function Bs(s,o){if(!s)return null;const a=o?hn:Wn;return()=>("function"==typeof s?s():s).map(d=>a(d)).filter(me)}const Cr=0,nt=1,qt=2,Vn=3,En=4,ls=5,Er=6,Li=7,Rn=8,ho=9,_i=10,Qt=11,qo=12,vi=13,Wo=14,Ds=15,pr=16,$s=17,js=18,Hr=19,fo=20,Mr=21,kn=22,yl=1,Zo=2,po=7,Ts=8,Hs=9,Pr=10;function Qr(s){return Array.isArray(s)&&"object"==typeof s[yl]}function Vi(s){return Array.isArray(s)&&!0===s[yl]}function As(s){return 0!=(4&s.flags)}function Sa(s){return s.componentOffset>-1}function bi(s){return 1==(1&s.flags)}function Jr(s){return!!s.template}function us(s){return 0!=(256&s[qt])}function Zi(s,o){return s.hasOwnProperty(nn)?s[nn]:null}class gu{constructor(o,a,d){this.previousValue=o,this.currentValue=a,this.firstChange=d}isFirstChange(){return this.firstChange}}function xa(){return Ko}function Ko(s){return s.type.prototype.ngOnChanges&&(s.setInput=Ki),mu}function mu(){const s=Ma(this),o=s?.current;if(o){const a=s.previous;if(a===k)s.previous=o;else for(let d in o)a[d]=o[d];s.current=null,this.ngOnChanges(o)}}function Ki(s,o,a,d){const h=this.declaredInputs[a],p=Ma(s)||function yu(s,o){return s[_o]=o}(s,{previous:k,current:null}),y=p.current||(p.current={}),C=p.previous,A=C[h];y[h]=new gu(A&&A.currentValue,o,C===k),s[d]=o}xa.ngInherit=!0;const _o="__ngSimpleChanges__";function Ma(s){return s[_o]||null}const Bn=function(s,o,a){};function or(s){for(;Array.isArray(s);)s=s[Cr];return s}function Os(s,o){return or(o[s])}function Zn(s,o){return or(o[s.index])}function Pa(s,o){return s.data[o]}function gr(s,o){const a=o[s];return Qr(a)?a:a[Cr]}function ds(s){return 64==(64&s[qt])}function hs(s,o){return null==o?null:s[o]}function Qo(s){s[js]=0}function bo(s,o){s[ls]+=o;let a=s,d=s[Vn];for(;null!==d&&(1===o&&1===a[ls]||-1===o&&0===a[ls]);)d[ls]+=o,a=d,d=d[Vn]}const Bt={lFrame:ta(null),bindingsEnabled:!0};function wu(){return Bt.bindingsEnabled}function ye(){return Bt.lFrame.lView}function $t(){return Bt.lFrame.tView}function wl(s){return Bt.lFrame.contextLView=s,s[Rn]}function Xo(s){return Bt.lFrame.contextLView=null,s}function ir(){let s=Cu();for(;null!==s&&64===s.type;)s=s.parent;return s}function Cu(){return Bt.lFrame.currentTNode}function Ci(s,o){const a=Bt.lFrame;a.currentTNode=s,a.isParent=o}function ka(){return Bt.lFrame.isParent}function Or(){const s=Bt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function Yi(){return Bt.lFrame.bindingIndex++}function Ei(s){const o=Bt.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,a}function Tu(s,o){const a=Bt.lFrame;a.bindingIndex=a.bindingRootIndex=s,Kn(o)}function Kn(s){Bt.lFrame.currentDirectiveIndex=s}function ea(){return Bt.lFrame.currentQueryIndex}function Au(s){Bt.lFrame.currentQueryIndex=s}function Fa(s){const o=s[nt];return 2===o.type?o.declTNode:1===o.type?s[Er]:null}function Su(s,o,a){if(a&dt.SkipSelf){let h=o,p=s;for(;!(h=h.parent,null!==h||a&dt.Host||(h=Fa(p),null===h||(p=p[Ds],10&h.type))););if(null===h)return!1;o=h,s=p}const d=Bt.lFrame=bl();return d.currentTNode=o,d.lView=s,!0}function Co(s){const o=bl(),a=s[nt];Bt.lFrame=o,o.currentTNode=a.firstChild,o.lView=s,o.tView=a,o.contextLView=s,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function bl(){const s=Bt.lFrame,o=null===s?null:s.child;return null===o?ta(s):o}function ta(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Cl(){const s=Bt.lFrame;return Bt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Qi=Cl;function El(){const s=Cl();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function zr(){return Bt.lFrame.selectedIndex}function Ji(s){Bt.lFrame.selectedIndex=s}function $n(){const s=Bt.lFrame;return Pa(s.tView,s.selectedIndex)}function La(s,o){for(let a=o.directiveStart,d=o.directiveEnd;a<d;a++){const p=s.data[a].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:C,ngAfterViewInit:A,ngAfterViewChecked:x,ngOnDestroy:N}=p;y&&(s.contentHooks??(s.contentHooks=[])).push(-a,y),C&&((s.contentHooks??(s.contentHooks=[])).push(a,C),(s.contentCheckHooks??(s.contentCheckHooks=[])).push(a,C)),A&&(s.viewHooks??(s.viewHooks=[])).push(-a,A),x&&((s.viewHooks??(s.viewHooks=[])).push(a,x),(s.viewCheckHooks??(s.viewCheckHooks=[])).push(a,x)),null!=N&&(s.destroyHooks??(s.destroyHooks=[])).push(a,N)}}function Sl(s,o,a){Va(s,o,3,a)}function xu(s,o,a,d){(3&s[qt])===a&&Va(s,o,a,d)}function Mu(s,o){let a=s[qt];(3&a)===o&&(a&=2047,a+=1,s[qt]=a)}function Va(s,o,a,d){const p=d??-1,y=o.length-1;let C=0;for(let A=void 0!==d?65535&s[js]:0;A<y;A++)if("number"==typeof o[A+1]){if(C=o[A],null!=d&&C>=d)break}else o[A]<0&&(s[js]+=65536),(C<p||-1==p)&&(Io(s,a,o,A),s[js]=(4294901760&s[js])+A+2),A++}function Io(s,o,a,d){const h=a[d]<0,p=a[d+1],C=s[h?-a[d]:a[d]];if(h){if(s[qt]>>11<s[js]>>16&&(3&s[qt])===o){s[qt]+=2048,Bn(4,C,p);try{p.call(C)}finally{Bn(5,C,p)}}}else{Bn(4,C,p);try{p.call(C)}finally{Bn(5,C,p)}}}const na=-1;class Di{constructor(o,a,d){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=d}}function Qn(s,o,a){let d=0;for(;d<a.length;){const h=a[d];if("number"==typeof h){if(0!==h)break;d++;const p=a[d++],y=a[d++],C=a[d++];s.setAttribute(o,y,C,p)}else{const p=h,y=a[++d];Xi(p)?s.setProperty(o,p,y):s.setAttribute(o,p,y),d++}}return d}function Ys(s){return 3===s||4===s||6===s}function Xi(s){return 64===s.charCodeAt(0)}function ra(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let a=-1;for(let d=0;d<o.length;d++){const h=o[d];"number"==typeof h?a=h:0===a||Ua(s,a,h,null,-1===a||2===a?o[++d]:null)}}return s}function Ua(s,o,a,d,h){let p=0,y=s.length;if(-1===o)y=-1;else for(;p<s.length;){const C=s[p++];if("number"==typeof C){if(C===o){y=-1;break}if(C>o){y=p-1;break}}}for(;p<s.length;){const C=s[p];if("number"==typeof C)break;if(C===a){if(null===d)return void(null!==h&&(s[p+1]=h));if(d===s[p+1])return void(s[p+2]=h)}p++,null!==d&&p++,null!==h&&p++}-1!==y&&(s.splice(y,0,o),p=y+1),s.splice(p++,0,a),null!==d&&s.splice(p++,0,d),null!==h&&s.splice(p++,0,h)}function ia(s){return s!==na}function Ba(s){return 32767&s}function Ml(s,o){let a=function xl(s){return s>>16}(s),d=o;for(;a>0;)d=d[Ds],a--;return d}let Oc=!0;function Pl(s){const o=Oc;return Oc=s,o}const Rc=255,Pu=5;let kc=0;const Ti={};function Nc(s,o){const a=Kd(s,o);if(-1!==a)return a;const d=o[nt];d.firstCreatePass&&(s.injectorIndex=o.length,ks(d.data,s),ks(o,null),ks(d.blueprint,null));const h=mr(s,o),p=s.injectorIndex;if(ia(h)){const y=Ba(h),C=Ml(h,o),A=C[nt].data;for(let x=0;x<8;x++)o[p+x]=C[y+x]|A[y+x]}return o[p+8]=h,p}function ks(s,o){s.push(0,0,0,0,0,0,0,0,o)}function Kd(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function mr(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let a=0,d=null,h=o;for(;null!==h;){if(d=sa(h),null===d)return na;if(a++,h=h[Ds],-1!==d.injectorIndex)return d.injectorIndex|a<<16}return na}function Do(s,o,a){!function Zd(s,o,a){let d;"string"==typeof a?d=a.charCodeAt(0)||0:a.hasOwnProperty(Nt)&&(d=a[Nt]),null==d&&(d=a[Nt]=kc++);const h=d&Rc;o.data[s+(h>>Pu)]|=1<<h}(s,o,a)}function Yd(s,o,a){if(a&dt.Optional||void 0!==s)return s;Ge()}function Ol(s,o,a,d){if(a&dt.Optional&&void 0===d&&(d=null),!(a&(dt.Self|dt.Host))){const h=s[ho],p=Gn(void 0);try{return h?h.get(o,d,a&dt.Optional):fr(o,d,a&dt.Optional)}finally{Gn(p)}}return Yd(d,0,a)}function Qd(s,o,a,d=dt.Default,h){if(null!==s){if(1024&o[qt]){const y=function Ff(s,o,a,d,h){let p=s,y=o;for(;null!==p&&null!==y&&1024&y[qt]&&!(256&y[qt]);){const C=Ru(p,y,a,d|dt.Self,Ti);if(C!==Ti)return C;let A=p.parent;if(!A){const x=y[Mr];if(x){const N=x.get(a,Ti,d);if(N!==Ti)return N}A=sa(y),y=y[Ds]}p=A}return h}(s,o,a,d,Ti);if(y!==Ti)return y}const p=Ru(s,o,a,d,Ti);if(p!==Ti)return p}return Ol(o,a,d,h)}function Ru(s,o,a,d,h){const p=function Nf(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(Nt)?s[Nt]:void 0;return"number"==typeof o?o>=0?o&Rc:Fc:o}(a);if("function"==typeof p){if(!Su(o,s,d))return d&dt.Host?Yd(h,0,d):Ol(o,a,d,h);try{const y=p(d);if(null!=y||d&dt.Optional)return y;Ge()}finally{Qi()}}else if("number"==typeof p){let y=null,C=Kd(s,o),A=na,x=d&dt.Host?o[pr][Er]:null;for((-1===C||d&dt.SkipSelf)&&(A=-1===C?mr(s,o):o[C+8],A!==na&&ku(d,!1)?(y=o[nt],C=Ba(A),o=Ml(A,o)):C=-1);-1!==C;){const N=o[nt];if(To(p,C,N.data)){const H=Rr(C,o,a,y,d,x);if(H!==Ti)return H}A=o[C+8],A!==na&&ku(d,o[nt].data[C+8]===x)&&To(p,C,o)?(y=N,C=Ba(A),o=Ml(A,o)):C=-1}}return h}function Rr(s,o,a,d,h,p){const y=o[nt],C=y.data[s+8],N=$a(C,y,a,null==d?Sa(C)&&Oc:d!=y&&0!=(3&C.type),h&dt.Host&&p===C);return null!==N?sr(o,y,N,C):Ti}function $a(s,o,a,d,h){const p=s.providerIndexes,y=o.data,C=1048575&p,A=s.directiveStart,N=p>>20,X=h?C+N:s.directiveEnd;for(let ie=d?C:C+N;ie<X;ie++){const Ae=y[ie];if(ie<A&&a===Ae||ie>=A&&Ae.type===a)return ie}if(h){const ie=y[A];if(ie&&Jr(ie)&&ie.type===a)return A}return null}function sr(s,o,a,d){let h=s[a];const p=o.data;if(function E(s){return s instanceof Di}(h)){const y=h;y.resolving&&function Me(s,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new we(-200,`Circular dependency in DI detected for ${s}${a}`)}(function Le(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():Be(s)}(p[a]));const C=Pl(y.canSeeViewProviders);y.resolving=!0;const A=y.injectImpl?Gn(y.injectImpl):null;Su(s,d,dt.Default);try{h=s[a]=y.factory(void 0,p,s,d),o.firstCreatePass&&a>=d.directiveStart&&function ar(s,o,a){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:p}=o.type.prototype;if(d){const y=Ko(o);(a.preOrderHooks??(a.preOrderHooks=[])).push(s,y),(a.preOrderCheckHooks??(a.preOrderCheckHooks=[])).push(s,y)}h&&(a.preOrderHooks??(a.preOrderHooks=[])).push(0-s,h),p&&((a.preOrderHooks??(a.preOrderHooks=[])).push(s,p),(a.preOrderCheckHooks??(a.preOrderCheckHooks=[])).push(s,p))}(a,p[a],o)}finally{null!==A&&Gn(A),Pl(C),y.resolving=!1,Qi()}}return h}function To(s,o,a){return!!(a[o+(s>>Pu)]&1<<s)}function ku(s,o){return!(s&dt.Self||s&dt.Host&&o)}class ja{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,d){return Qd(this._tNode,this._lView,o,tr(d),a)}}function Fc(){return new ja(ir(),ye())}function Lc(s){return G(()=>{const o=s.prototype.constructor,a=o[nn]||Ao(o),d=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==d;){const p=h[nn]||Ao(h);if(p&&p!==a)return p;h=Object.getPrototypeOf(h)}return p=>new p})}function Ao(s){return qe(s)?()=>{const o=Ao(ne(s));return o&&o()}:Zi(s)}function sa(s){const o=s[nt],a=o.type;return 2===a?o.declTNode:1===a?s[Er]:null}function Rl(s){return function Ou(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const a=s.attrs;if(a){const d=a.length;let h=0;for(;h<d;){const p=a[h];if(Ys(p))break;if(0===p)h+=2;else if("number"==typeof p)for(h++;h<d&&"string"==typeof a[h];)h++;else{if(p===o)return a[h+1];h+=2}}}return null}(ir(),s)}const Ha="__parameters__";function aa(s,o,a){return G(()=>{const d=function Jd(s){return function(...a){if(s){const d=s(...a);for(const h in d)this[h]=d[h]}}}(o);function h(...p){if(this instanceof h)return d.apply(this,p),this;const y=new h(...p);return C.annotation=y,C;function C(A,x,N){const H=A.hasOwnProperty(Ha)?A[Ha]:Object.defineProperty(A,Ha,{value:[]})[Ha];for(;H.length<=N;)H.push(null);return(H[N]=H[N]||[]).push(y),A}}return a&&(h.prototype=Object.create(a.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class wn{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=yt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function So(s,o){s.forEach(a=>Array.isArray(a)?So(a,o):o(a))}function Hc(s,o,a){o>=s.length?s.push(a):s.splice(o,0,a)}function kl(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function es(s,o,a){let d=ps(s,o);return d>=0?s[1|d]=a:(d=~d,function Vu(s,o,a,d){let h=s.length;if(h==o)s.push(a,d);else if(1===h)s.push(d,s[0]),s[0]=a;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=a,s[o+1]=d}}(s,d,o,a)),d}function Tn(s,o){const a=ps(s,o);if(a>=0)return s[1|a]}function ps(s,o){return function gs(s,o,a){let d=0,h=s.length>>a;for(;h!==d;){const p=d+(h-d>>1),y=s[p<<a];if(o===y)return p<<a;y>o?h=p:d=p+1}return~(h<<a)}(s,o,1)}const ua=Yr(aa("Optional"),8),Rt=Yr(aa("SkipSelf"),4);var Vt=(()=>((Vt=Vt||{})[Vt.Important=1]="Important",Vt[Vt.DashCase=2]="DashCase",Vt))();const ah=new Map;let Qs=0;const Q="__ngContext__";function ee(s,o){Qr(o)?(s[Q]=o[fo],function lh(s){ah.set(s[fo],s)}(o)):s[Q]=o}let ji;function ai(s,o){return ji(s,o)}function ch(s){const o=s[Vn];return Vi(o)?o[Vn]:o}function Hl(s){return jf(s[vi])}function zl(s){return jf(s[En])}function jf(s){for(;null!==s&&!Vi(s);)s=s[En];return s}function Ya(s,o,a,d,h){if(null!=d){let p,y=!1;Vi(d)?p=d:Qr(d)&&(y=!0,d=d[Cr]);const C=or(d);0===s&&null!==a?null==h?Si(o,a,C):an(o,a,C,h||null,!0):1===s&&null!==a?an(o,a,C,h||null,!0):2===s?function My(s,o,a){const d=Js(s,o);d&&function Qa(s,o,a,d){s.removeChild(o,a,d)}(s,d,o,a)}(o,C,y):3===s&&o.destroyNode(C),null!=p&&function Zf(s,o,a,d,h){const p=a[po];p!==or(a)&&Ya(o,s,d,p,h);for(let C=Pr;C<a.length;C++){const A=a[C];Wf(A[nt],A,s,o,d,p)}}(o,s,p,a,h)}}function zf(s,o,a){return s.createElement(o,a)}function b(s,o){const a=s[Hs],d=a.indexOf(o),h=o[Vn];512&o[qt]&&(o[qt]&=-513,bo(h,-1)),a.splice(d,1)}function P(s,o){if(s.length<=Pr)return;const a=Pr+o,d=s[a];if(d){const h=d[$s];null!==h&&h!==s&&b(h,d),o>0&&(s[a-1][En]=d[En]);const p=kl(s,Pr+o);!function Rg(s,o){Wf(s,o,o[Qt],2,null,null),o[Cr]=null,o[Er]=null}(d[nt],d);const y=p[Hr];null!==y&&y.detachView(p[nt]),d[Vn]=null,d[En]=null,d[qt]&=-65}return d}function L(s,o){if(!(128&o[qt])){const a=o[Qt];a.destroyNode&&Wf(s,o,a,3,null,null),function v(s){let o=s[vi];if(!o)return te(s[nt],s);for(;o;){let a=null;if(Qr(o))a=o[vi];else{const d=o[Pr];d&&(a=d)}if(!a){for(;o&&!o[En]&&o!==s;)Qr(o)&&te(o[nt],o),o=o[Vn];null===o&&(o=s),Qr(o)&&te(o[nt],o),a=o&&o[En]}o=a}}(o)}}function te(s,o){if(!(128&o[qt])){o[qt]&=-65,o[qt]|=128,function We(s,o){let a;if(null!=s&&null!=(a=s.destroyHooks))for(let d=0;d<a.length;d+=2){const h=o[a[d]];if(!(h instanceof Di)){const p=a[d+1];if(Array.isArray(p))for(let y=0;y<p.length;y+=2){const C=h[p[y]],A=p[y+1];Bn(4,C,A);try{A.call(C)}finally{Bn(5,C,A)}}else{Bn(4,h,p);try{p.call(h)}finally{Bn(5,h,p)}}}}}(s,o),function pe(s,o){const a=s.cleanup,d=o[Li];let h=-1;if(null!==a)for(let p=0;p<a.length-1;p+=2)if("string"==typeof a[p]){const y=a[p+3];y>=0?d[h=y]():d[h=-y].unsubscribe(),p+=2}else{const y=d[h=a[p+1]];a[p].call(y)}if(null!==d){for(let p=h+1;p<d.length;p++)(0,d[p])();o[Li]=null}}(s,o),1===o[nt].type&&o[Qt].destroy();const a=o[$s];if(null!==a&&Vi(o[Vn])){a!==o[Vn]&&b(a,o);const d=o[Hr];null!==d&&d.detachView(s)}!function uh(s){ah.delete(s[fo])}(o)}}function tt(s,o,a){return function Tt(s,o,a){let d=o;for(;null!==d&&40&d.type;)d=(o=d).parent;if(null===d)return a[Cr];{const{componentOffset:h}=d;if(h>-1){const{encapsulation:p}=s.data[d.directiveStart+h];if(p===B.None||p===B.Emulated)return null}return Zn(d,a)}}(s,o.parent,a)}function an(s,o,a,d,h){s.insertBefore(o,a,d,h)}function Si(s,o,a){s.appendChild(o,a)}function ga(s,o,a,d,h){null!==d?an(s,o,a,d,h):Si(s,o,a)}function Js(s,o){return s.parentNode(o)}let fh,Ry,kg,Ja=function rd(s,o,a){return 40&s.type?Zn(s,a):null};function Zu(s,o,a,d){const h=tt(s,d,o),p=o[Qt],C=function hh(s,o,a){return Ja(s,o,a)}(d.parent||o[Er],d,o);if(null!=h)if(Array.isArray(a))for(let A=0;A<a.length;A++)ga(p,h,a[A],C,!1);else ga(p,h,a,C,!1);void 0!==fh&&fh(p,d,o,a,h)}function gh(s,o){if(null!==o){const a=o.type;if(3&a)return Zn(o,s);if(4&a)return Xa(-1,s[o.index]);if(8&a){const d=o.child;if(null!==d)return gh(s,d);{const h=s[o.index];return Vi(h)?Xa(-1,h):or(h)}}if(32&a)return ai(o,s)()||or(s[o.index]);{const d=Ku(s,o);return null!==d?Array.isArray(d)?d[0]:gh(ch(s[pr]),d):gh(s,o.next)}}return null}function Ku(s,o){return null!==o?s[pr][Er].projection[o.projection]:null}function Xa(s,o){const a=Pr+s+1;if(a<o.length){const d=o[a],h=d[nt].firstChild;if(null!==h)return gh(d,h)}return o[po]}function qf(s,o,a,d,h,p,y){for(;null!=a;){const C=d[a.index],A=a.type;if(y&&0===o&&(C&&ee(or(C),d),a.flags|=2),32!=(32&a.flags))if(8&A)qf(s,o,a.child,d,h,p,!1),Ya(o,s,h,C,p);else if(32&A){const x=ai(a,d);let N;for(;N=x();)Ya(o,s,h,N,p);Ya(o,s,h,C,p)}else 16&A?Py(s,o,d,a,h,p):Ya(o,s,h,C,p);a=y?a.projectionNext:a.next}}function Wf(s,o,a,d,h,p){qf(a,d,s.firstChild,o,h,p,!1)}function Py(s,o,a,d,h,p){const y=a[pr],A=y[Er].projection[d.projection];if(Array.isArray(A))for(let x=0;x<A.length;x++)Ya(o,s,h,A[x],p);else qf(s,o,A,y[Vn],h,p,!0)}function Yu(s,o,a){""===a?s.removeAttribute(o,"class"):s.setAttribute(o,"class",a)}function Kf(s,o,a){const{mergedAttrs:d,classes:h,styles:p}=a;null!==d&&Qn(s,o,d),null!==h&&Yu(s,o,h),null!==p&&function Oy(s,o,a){s.setAttribute(o,"style",a)}(s,o,p)}function KE(s){Ry=s}function W0(s){return function ky(){if(void 0===kg&&(kg=null,vn.trustedTypes))try{kg=vn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return kg}()?.createScriptURL(s)||s}class Z0{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${at})`}}function tl(s){return s instanceof Z0?s.changingThisBreaksApplicationSecurity:s}function Xs(s,o){const a=function yh(s){return s instanceof Z0&&s.getTypeName()||null}(s);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see ${at})`)}return a===o}const J0=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var qr=(()=>((qr=qr||{})[qr.NONE=0]="NONE",qr[qr.HTML=1]="HTML",qr[qr.STYLE=2]="STYLE",qr[qr.SCRIPT=3]="SCRIPT",qr[qr.URL=4]="URL",qr[qr.RESOURCE_URL=5]="RESOURCE_URL",qr))();function jy(s){const o=np();return o?o.sanitize(qr.URL,s)||"":Xs(s,"URL")?tl(s):function Jf(s){return(s=String(s)).match(J0)?s:"unsafe:"+s}(Be(s))}function Ug(s){const o=np();if(o)return W0(o.sanitize(qr.RESOURCE_URL,s)||"");if(Xs(s,"ResourceURL"))return W0(tl(s));throw new we(904,!1)}function iw(s,o,a){return function lI(s,o){return"src"===o&&("embed"===s||"frame"===s||"iframe"===s||"media"===s||"script"===s)||"href"===o&&("base"===s||"link"===s)?Ug:jy}(o,a)(s)}function np(){const s=ye();return s&&s[qo]}const zy=new wn("ENVIRONMENT_INITIALIZER"),sd=new wn("INJECTOR",-1),vh=new wn("INJECTOR_DEF_TYPES");class sw{get(o,a=Xn){if(a===Xn){const d=new Error(`NullInjectorError: No provider for ${ve(o)}!`);throw d.name="NullInjectorError",d}return a}}function rp(...s){return{\u0275providers:wh(0,s),\u0275fromNgModule:!0}}function wh(s,...o){const a=[],d=new Set;let h;return So(o,p=>{const y=p;Gy(y,a,[],d)&&(h||(h=[]),h.push(y))}),void 0!==h&&ow(h,a),a}function ow(s,o){for(let a=0;a<s.length;a++){const{providers:h}=s[a];qy(h,p=>{o.push(p)})}}function Gy(s,o,a,d){if(!(s=ne(s)))return!1;let h=null,p=Jn(s);const y=!p&&Et(s);if(p||y){if(y&&!y.standalone)return!1;h=s}else{const A=s.ngModule;if(p=Jn(A),!p)return!1;h=A}const C=d.has(h);if(y){if(C)return!1;if(d.add(h),y.dependencies){const A="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const x of A)Gy(x,o,a,d)}}else{if(!p)return!1;{if(null!=p.imports&&!C){let x;d.add(h);try{So(p.imports,N=>{Gy(N,o,a,d)&&(x||(x=[]),x.push(N))})}finally{}void 0!==x&&ow(x,o)}if(!C){const x=Zi(h)||(()=>new h);o.push({provide:h,useFactory:x,deps:J},{provide:vh,useValue:h,multi:!0},{provide:zy,useValue:()=>Gt(h),multi:!0})}const A=p.providers;null==A||C||qy(A,N=>{o.push(N)})}}return h!==s&&void 0!==s.providers}function qy(s,o){for(let a of s)ke(a)&&(a=a.\u0275providers),Array.isArray(a)?qy(a,o):o(a)}const cI=j({provide:String,useValue:j});function Wy(s){return null!==s&&"object"==typeof s&&cI in s}function Gl(s){return"function"==typeof s}const Qu=new wn("Set Injector scope."),$g={},hI={};let Zy;function jg(){return void 0===Zy&&(Zy=new sw),Zy}class od{}class lw extends od{get destroyed(){return this._destroyed}constructor(o,a,d,h){super(),this.parent=a,this.source=d,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ch(o,y=>this.processProvider(y)),this.records.set(sd,bh(void 0,this)),h.has("environment")&&this.records.set(od,bh(void 0,this));const p=this.records.get(Qu);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(vh.multi,J,dt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const a=un(this),d=Gn(void 0);try{return o()}finally{un(a),Gn(d)}}get(o,a=Xn,d=dt.Default){this.assertNotDestroyed(),d=tr(d);const h=un(this),p=Gn(void 0);try{if(!(d&dt.SkipSelf)){let C=this.records.get(o);if(void 0===C){const A=function Jy(s){return"function"==typeof s||"object"==typeof s&&s instanceof wn}(o)&&gn(o);C=A&&this.injectableDefInScope(A)?bh(Ky(o),$g):null,this.records.set(o,C)}if(null!=C)return this.hydrate(o,C)}return(d&dt.Self?jg():this.parent).get(o,a=d&dt.Optional&&a===Xn?null:a)}catch(y){if("NullInjectorError"===y.name){if((y[qn]=y[qn]||[]).unshift(ve(o)),h)throw y;return function Sr(s,o,a,d){const h=s[qn];throw o[sn]&&h.unshift(o[sn]),s.message=function K(s,o,a,d=null){s=s&&"\n"===s.charAt(0)&&s.charAt(1)==wr?s.slice(2):s;let h=ve(o);if(Array.isArray(o))h=o.map(ve).join(" -> ");else if("object"==typeof o){let p=[];for(let y in o)if(o.hasOwnProperty(y)){let C=o[y];p.push(y+":"+("string"==typeof C?JSON.stringify(C):ve(C)))}h=`{${p.join(", ")}}`}return`${a}${d?"("+d+")":""}[${h}]: ${s.replace(xn,"\n  ")}`}("\n"+s.message,h,a,d),s[ri]=h,s[qn]=null,s}(y,o,"R3InjectorError",this.source)}throw y}finally{Gn(p),un(h)}}resolveInjectorInitializers(){const o=un(this),a=Gn(void 0);try{const d=this.get(zy.multi,J,dt.Self);for(const h of d)h()}finally{un(o),Gn(a)}}toString(){const o=[],a=this.records;for(const d of a.keys())o.push(ve(d));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new we(205,!1)}processProvider(o){let a=Gl(o=ne(o))?o:ne(o&&o.provide);const d=function pI(s){return Wy(s)?bh(void 0,s.useValue):bh(Yy(s),$g)}(o);if(Gl(o)||!0!==o.multi)this.records.get(a);else{let h=this.records.get(a);h||(h=bh(void 0,$g,!0),h.factory=()=>nr(h.multi),this.records.set(a,h)),a=o,h.multi.push(o)}this.records.set(a,d)}hydrate(o,a){return a.value===$g&&(a.value=hI,a.value=a.factory()),"object"==typeof a.value&&a.value&&function uw(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=ne(o.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}}function Ky(s){const o=gn(s),a=null!==o?o.factory:Zi(s);if(null!==a)return a;if(s instanceof wn)throw new we(204,!1);if(s instanceof Function)return function fI(s){const o=s.length;if(o>0)throw function za(s,o){const a=[];for(let d=0;d<s;d++)a.push(o);return a}(o,"?"),new we(204,!1);const a=function _r(s){return s&&(s[Kr]||s[$r])||null}(s);return null!==a?()=>a.factory(s):()=>new s}(s);throw new we(204,!1)}function Yy(s,o,a){let d;if(Gl(s)){const h=ne(s);return Zi(h)||Ky(h)}if(Wy(s))d=()=>ne(s.useValue);else if(function aw(s){return!(!s||!s.useFactory)}(s))d=()=>s.useFactory(...nr(s.deps||[]));else if(function dI(s){return!(!s||!s.useExisting)}(s))d=()=>Gt(ne(s.useExisting));else{const h=ne(s&&(s.useClass||s.provide));if(!function Qy(s){return!!s.deps}(s))return Zi(h)||Ky(h);d=()=>new h(...nr(s.deps))}return d}function bh(s,o,a=!1){return{factory:s,value:o,multi:a?[]:void 0}}function Ch(s,o){for(const a of s)Array.isArray(a)?Ch(a,o):a&&ke(a)?Ch(a.\u0275providers,o):o(a)}class gI{}class cw{}class hw{resolveComponentFactory(o){throw function mI(s){const o=Error(`No component factory found for ${ve(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let Eh=(()=>{class s{}return s.NULL=new hw,s})();function Hg(){return ql(ir(),ye())}function ql(s,o){return new Ih(Zn(s,o))}let Ih=(()=>{class s{constructor(a){this.nativeElement=a}}return s.__NG_ELEMENT_ID__=Hg,s})();function ip(s){return s instanceof Ih?s.nativeElement:s}class e_{}let yI=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function _I(){const s=ye(),a=gr(ir().index,s);return(Qr(a)?a:s)[Qt]}(),s})(),vI=(()=>{class s{}return s.\u0275prov=yt({token:s,providedIn:"root",factory:()=>null}),s})();class fw{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const pw=new fw("15.2.9"),zg={},t_="ngOriginalError";function n_(s){return s[t_]}class sp{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o);this._console.error("ERROR",o),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&n_(o);for(;a&&n_(a);)a=n_(a);return a||null}}function nl(s){return s instanceof Function?s():s}function ww(s,o,a){let d=s.length;for(;;){const h=s.indexOf(o,a);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const p=o.length;if(h+p===d||s.charCodeAt(h+p)<=32)return h}a=h+1}}const r_="ng-template";function i_(s,o,a){let d=0,h=!0;for(;d<s.length;){let p=s[d++];if("string"==typeof p&&h){const y=s[d++];if(a&&"class"===p&&-1!==ww(y.toLowerCase(),o,0))return!0}else{if(1===p){for(;d<s.length&&"string"==typeof(p=s[d++]);)if(p.toLowerCase()===o)return!0;return!1}"number"==typeof p&&(h=!1)}}return!1}function s_(s){return 4===s.type&&s.value!==r_}function Dh(s,o,a){return o===(4!==s.type||a?s.value:r_)}function o_(s,o,a){let d=4;const h=s.attrs||[],p=function Cw(s){for(let o=0;o<s.length;o++)if(Ys(s[o]))return o;return s.length}(h);let y=!1;for(let C=0;C<o.length;C++){const A=o[C];if("number"!=typeof A){if(!y)if(4&d){if(d=2|1&d,""!==A&&!Dh(s,A,a)||""===A&&1===o.length){if(ya(d))return!1;y=!0}}else{const x=8&d?A:o[++C];if(8&d&&null!==s.attrs){if(!i_(s.attrs,x,a)){if(ya(d))return!1;y=!0}continue}const H=bw(8&d?"class":A,h,s_(s),a);if(-1===H){if(ya(d))return!1;y=!0;continue}if(""!==x){let X;X=H>p?"":h[H+1].toLowerCase();const ie=8&d?X:null;if(ie&&-1!==ww(ie,x,0)||2&d&&x!==X){if(ya(d))return!1;y=!0}}}}else{if(!y&&!ya(d)&&!ya(A))return!1;if(y&&ya(A))continue;y=!1,d=A|1&d}}return ya(d)||y}function ya(s){return 0==(1&s)}function bw(s,o,a,d){if(null===o)return-1;let h=0;if(d||!a){let p=!1;for(;h<o.length;){const y=o[h];if(y===s)return h;if(3===y||6===y)p=!0;else{if(1===y||2===y){let C=o[++h];for(;"string"==typeof C;)C=o[++h];continue}if(4===y)break;if(0===y){h+=4;continue}}h+=p?1:2}return-1}return function Ew(s,o){let a=s.indexOf(4);if(a>-1)for(a++;a<s.length;){const d=s[a];if("number"==typeof d)return-1;if(d===o)return a;a++}return-1}(o,s)}function ap(s,o,a=!1){for(let d=0;d<o.length;d++)if(o_(s,o[d],a))return!0;return!1}function Iw(s,o){return s?":not("+o.trim()+")":o}function AI(s){let o=s[0],a=1,d=2,h="",p=!1;for(;a<s.length;){let y=s[a];if("string"==typeof y)if(2&d){const C=s[++a];h+="["+y+(C.length>0?'="'+C+'"':"")+"]"}else 8&d?h+="."+y:4&d&&(h+=" "+y);else""!==h&&!ya(y)&&(o+=Iw(p,h),h=""),d=y,p=p||!ya(d);a++}return""!==h&&(o+=Iw(p,h)),o}const rn={};function Dw(s){Tw($t(),ye(),zr()+s,!1)}function Tw(s,o,a,d){if(!d)if(3==(3&o[qt])){const p=s.preOrderCheckHooks;null!==p&&Sl(o,p,a)}else{const p=s.preOrderHooks;null!==p&&xu(o,p,0,a)}Ji(a)}function Sw(s,o=null,a=null,d){const h=a_(s,o,a,d);return h.resolveInjectorInitializers(),h}function a_(s,o=null,a=null,d,h=new Set){const p=[a||J,rp(s)];return d=d||("object"==typeof s?void 0:ve(s)),new lw(p,o||jg(),d||null,h)}let Th=(()=>{class s{static create(a,d){if(Array.isArray(a))return Sw({name:""},d,a,"");{const h=a.name??"";return Sw({name:h},a.parent,a.providers,h)}}}return s.THROW_IF_NOT_FOUND=Xn,s.NULL=new sw,s.\u0275prov=yt({token:s,providedIn:"any",factory:()=>Gt(sd)}),s.__NG_ELEMENT_ID__=-1,s})();function xh(s,o=dt.Default){const a=ye();return null===a?Gt(s,o):Qd(ir(),a,ne(s),o)}function Rw(){throw new Error("invalid")}function kw(s,o){const a=s.contentQueries;if(null!==a)for(let d=0;d<a.length;d+=2){const p=a[d+1];if(-1!==p){const y=s.data[p];Au(a[d]),y.contentQueries(2,o[p],p)}}}function Kg(s,o,a,d,h,p,y,C,A,x,N){const H=o.blueprint.slice();return H[Cr]=h,H[qt]=76|d,(null!==N||s&&1024&s[qt])&&(H[qt]|=1024),Qo(H),H[Vn]=H[Ds]=s,H[Rn]=a,H[_i]=y||s&&s[_i],H[Qt]=C||s&&s[Qt],H[qo]=A||s&&s[qo]||null,H[ho]=x||s&&s[ho]||null,H[Er]=p,H[fo]=function Xc(){return Qs++}(),H[Mr]=N,H[pr]=2==o.type?s[pr]:H,H}function dp(s,o,a,d,h){let p=s.data[o];if(null===p)p=function h_(s,o,a,d,h){const p=Cu(),y=ka(),A=s.data[o]=function pn(s,o,a,d,h,p){return{type:a,index:d,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?p:p&&p.parent,a,o,d,h);return null===s.firstChild&&(s.firstChild=A),null!==p&&(y?null==p.child&&null!==A.parent&&(p.child=A):null===p.next&&(p.next=A,A.prev=p)),A}(s,o,a,d,h),function Du(){return Bt.lFrame.inI18n}()&&(p.flags|=32);else if(64&p.type){p.type=a,p.value=d,p.attrs=h;const y=function Ws(){const s=Bt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();p.injectorIndex=null===y?-1:y.injectorIndex}return Ci(p,!0),p}function hp(s,o,a,d){if(0===a)return-1;const h=o.length;for(let p=0;p<a;p++)o.push(d),s.blueprint.push(d),s.data.push(null);return h}function yn(s,o,a){Co(o);try{const d=s.viewQuery;null!==d&&vp(1,d,a);const h=s.template;null!==h&&Fw(s,o,h,1,a),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&kw(s,o),s.staticViewQueries&&vp(2,s.viewQuery,a);const p=s.components;null!==p&&function Nw(s,o){for(let a=0;a<o.length;a++)Gw(s,o[a])}(o,p)}catch(d){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),d}finally{o[qt]&=-5,El()}}function Mh(s,o,a,d){const h=o[qt];if(128!=(128&h)){Co(o);try{Qo(o),function Rs(s){return Bt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==a&&Fw(s,o,a,2,d);const y=3==(3&h);if(y){const x=s.preOrderCheckHooks;null!==x&&Sl(o,x,null)}else{const x=s.preOrderHooks;null!==x&&xu(o,x,0,null),Mu(o,0)}if(function Oh(s){for(let o=Hl(s);null!==o;o=zl(o)){if(!o[Zo])continue;const a=o[Hs];for(let d=0;d<a.length;d++){const h=a[d];512&h[qt]||bo(h[Vn],1),h[qt]|=512}}}(o),function KI(s){for(let o=Hl(s);null!==o;o=zl(o))for(let a=Pr;a<o.length;a++){const d=o[a],h=d[nt];ds(d)&&Mh(h,d,h.template,d[Rn])}}(o),null!==s.contentQueries&&kw(s,o),y){const x=s.contentCheckHooks;null!==x&&Sl(o,x)}else{const x=s.contentHooks;null!==x&&xu(o,x,1),Mu(o,1)}!function zI(s,o){const a=s.hostBindingOpCodes;if(null!==a)try{for(let d=0;d<a.length;d++){const h=a[d];if(h<0)Ji(~h);else{const p=h,y=a[++d],C=a[++d];Tu(y,p),C(2,o[p])}}}finally{Ji(-1)}}(s,o);const C=s.components;null!==C&&function GI(s,o){for(let a=0;a<o.length;a++)zw(s,o[a])}(o,C);const A=s.viewQuery;if(null!==A&&vp(2,A,d),y){const x=s.viewCheckHooks;null!==x&&Sl(o,x)}else{const x=s.viewHooks;null!==x&&xu(o,x,2),Mu(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[qt]&=-41,512&o[qt]&&(o[qt]&=-513,bo(o[Vn],-1))}finally{El()}}}function Fw(s,o,a,d,h){const p=zr(),y=2&d;try{Ji(-1),y&&o.length>kn&&Tw(s,o,kn,!1),Bn(y?2:0,h),a(d,h)}finally{Ji(p),Bn(y?3:1,h)}}function f_(s,o,a){if(As(o)){const h=o.directiveEnd;for(let p=o.directiveStart;p<h;p++){const y=s.data[p];y.contentQueries&&y.contentQueries(1,a[p],p)}}}function eo(s,o,a){wu()&&(function is(s,o,a,d){const h=a.directiveStart,p=a.directiveEnd;Sa(a)&&function ZI(s,o,a){const d=Zn(o,s),h=Vw(a),p=s[_i],y=_p(s,Kg(s,h,null,a.onPush?32:16,d,o,p,p.createRenderer(d,a),null,null,null));s[o.index]=y}(o,a,s.data[h+a.componentOffset]),s.firstCreatePass||Nc(a,o),ee(d,o);const y=a.initialInputs;for(let C=h;C<p;C++){const A=s.data[C],x=sr(o,s,C,a);ee(x,o),null!==y&&rl(0,C-h,x,A,0,y),Jr(A)&&(gr(a.index,o)[Rn]=sr(o,s,C,a))}}(s,o,a,Zn(a,o)),64==(64&a.flags)&&mp(s,o,a))}function Lw(s,o,a=Zn){const d=o.localNames;if(null!==d){let h=o.index+1;for(let p=0;p<d.length;p+=2){const y=d[p+1],C=-1===y?a(o,s):s[y];s[h++]=C}}}function Vw(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=Ce(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function Ce(s,o,a,d,h,p,y,C,A,x){const N=kn+d,H=N+h,X=function vs(s,o){const a=[];for(let d=0;d<o;d++)a.push(d<s?null:rn);return a}(N,H),ie="function"==typeof x?x():x;return X[nt]={type:s,blueprint:X,template:a,queries:null,viewQuery:C,declTNode:o,data:X.slice().fill(null,N),bindingStartIndex:N,expandoStartIndex:H,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:A,consts:ie,incompleteFirstPass:!1}}function Wl(s,o,a,d){const h=__(o);null===a?h.push(d):(h.push(a),s.firstCreatePass&&Zw(s).push(d,h.length-1))}function Uw(s,o,a,d){for(let h in s)if(s.hasOwnProperty(h)){a=null===a?{}:a;const p=s[h];null===d?No(a,o,h,p):d.hasOwnProperty(h)&&No(a,o,d[h],p)}return a}function No(s,o,a,d){s.hasOwnProperty(a)?s[a].push(o,d):s[a]=[o,d]}function Ft(s,o,a,d,h,p,y,C){const A=Zn(o,a);let N,x=o.inputs;!C&&null!=x&&(N=x[d])?(ld(s,a,N,d,h),Sa(o)&&function Yg(s,o){const a=gr(o,s);16&a[qt]||(a[qt]|=32)}(a,o.index)):3&o.type&&(d=function p_(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(d),h=null!=y?y(h,o.value||"",d):h,p.setProperty(A,d,h))}function gp(s,o,a,d){if(wu()){const h=null===d?null:{"":-1},p=function Ju(s,o){const a=s.directiveRegistry;let d=null,h=null;if(a)for(let p=0;p<a.length;p++){const y=a[p];if(ap(o,y.selectors,!1))if(d||(d=[]),Jr(y))if(null!==y.findHostDirectiveDefs){const C=[];h=h||new Map,y.findHostDirectiveDefs(y,C,h),d.unshift(...C,y),g_(s,o,C.length)}else d.unshift(y),g_(s,o,0);else h=h||new Map,y.findHostDirectiveDefs?.(y,d,h),d.push(y)}return null===d?null:[d,h]}(s,a);let y,C;null===p?y=C=null:[y,C]=p,null!==y&&Bw(s,o,a,y,h,C),h&&function $w(s,o,a){if(o){const d=s.localNames=[];for(let h=0;h<o.length;h+=2){const p=a[o[h+1]];if(null==p)throw new we(-301,!1);d.push(o[h],p)}}}(a,d,h)}a.mergedAttrs=ra(a.mergedAttrs,a.attrs)}function Bw(s,o,a,d,h,p){for(let x=0;x<d.length;x++)Do(Nc(a,o),s,d[x].type);!function jw(s,o,a){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+a,s.providerIndexes=o}(a,s.data.length,d.length);for(let x=0;x<d.length;x++){const N=d[x];N.providersResolver&&N.providersResolver(N)}let y=!1,C=!1,A=hp(s,o,d.length,null);for(let x=0;x<d.length;x++){const N=d[x];a.mergedAttrs=ra(a.mergedAttrs,N.hostAttrs),ss(s,a,o,A,N),m_(A,N,h),null!==N.contentQueries&&(a.flags|=4),(null!==N.hostBindings||null!==N.hostAttrs||0!==N.hostVars)&&(a.flags|=64);const H=N.type.prototype;!y&&(H.ngOnChanges||H.ngOnInit||H.ngDoCheck)&&((s.preOrderHooks??(s.preOrderHooks=[])).push(a.index),y=!0),!C&&(H.ngOnChanges||H.ngDoCheck)&&((s.preOrderCheckHooks??(s.preOrderCheckHooks=[])).push(a.index),C=!0),A++}!function ut(s,o,a){const h=o.directiveEnd,p=s.data,y=o.attrs,C=[];let A=null,x=null;for(let N=o.directiveStart;N<h;N++){const H=p[N],X=a?a.get(H):null,Ae=X?X.outputs:null;A=Uw(H.inputs,N,A,X?X.inputs:null),x=Uw(H.outputs,N,x,Ae);const Ze=null===A||null===y||s_(o)?null:y_(A,N,y);C.push(Ze)}null!==A&&(A.hasOwnProperty("class")&&(o.flags|=8),A.hasOwnProperty("style")&&(o.flags|=16)),o.initialInputs=C,o.inputs=A,o.outputs=x}(s,a,p)}function mp(s,o,a){const d=a.directiveStart,h=a.directiveEnd,p=a.index,y=function qd(){return Bt.lFrame.currentDirectiveIndex}();try{Ji(p);for(let C=d;C<h;C++){const A=s.data[C],x=o[C];Kn(C),(null!==A.hostBindings||0!==A.hostVars||null!==A.hostAttrs)&&Mi(A,x)}}finally{Ji(-1),Kn(y)}}function Mi(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function g_(s,o,a){o.componentOffset=a,(s.components??(s.components=[])).push(o.index)}function m_(s,o,a){if(a){if(o.exportAs)for(let d=0;d<o.exportAs.length;d++)a[o.exportAs[d]]=s;Jr(o)&&(a[""]=s)}}function ss(s,o,a,d,h){s.data[d]=h;const p=h.factory||(h.factory=Zi(h.type)),y=new Di(p,Jr(h),xh);s.blueprint[d]=y,a[d]=y,function qI(s,o,a,d,h){const p=h.hostBindings;if(p){let y=s.hostBindingOpCodes;null===y&&(y=s.hostBindingOpCodes=[]);const C=~o.index;(function WI(s){let o=s.length;for(;o>0;){const a=s[--o];if("number"==typeof a&&a<0)return a}return 0})(y)!=C&&y.push(C),y.push(a,d,p)}}(s,o,d,hp(s,a,h.hostVars,rn),h)}function Ns(s,o,a,d,h,p){const y=Zn(s,o);!function Ph(s,o,a,d,h,p,y){if(null==p)s.removeAttribute(o,h,a);else{const C=null==y?Be(p):y(p,d||"",h);s.setAttribute(o,h,C,a)}}(o[Qt],y,p,s.value,a,d,h)}function rl(s,o,a,d,h,p){const y=p[o];if(null!==y){const C=d.setInput;for(let A=0;A<y.length;){const x=y[A++],N=y[A++],H=y[A++];null!==C?d.setInput(a,H,x,N):a[N]=H}}}function y_(s,o,a){let d=null,h=0;for(;h<a.length;){const p=a[h];if(0!==p)if(5!==p){if("number"==typeof p)break;if(s.hasOwnProperty(p)){null===d&&(d=[]);const y=s[p];for(let C=0;C<y.length;C+=2)if(y[C]===o){d.push(p,y[C+1],a[h+1]);break}}h+=2}else h+=2;else h+=4}return d}function Hw(s,o,a,d){return[s,!0,!1,o,null,0,d,a,null,null]}function zw(s,o){const a=gr(o,s);if(ds(a)){const d=a[nt];48&a[qt]?Mh(d,a,d.template,a[Rn]):a[ls]>0&&yp(a)}}function yp(s){for(let d=Hl(s);null!==d;d=zl(d))for(let h=Pr;h<d.length;h++){const p=d[h];if(ds(p))if(512&p[qt]){const y=p[nt];Mh(y,p,y.template,p[Rn])}else p[ls]>0&&yp(p)}const a=s[nt].components;if(null!==a)for(let d=0;d<a.length;d++){const h=gr(a[d],s);ds(h)&&h[ls]>0&&yp(h)}}function Gw(s,o){const a=gr(o,s),d=a[nt];(function YI(s,o){for(let a=o.length;a<s.blueprint.length;a++)o.push(s.blueprint[a])})(d,a),yn(d,a,a[Rn])}function _p(s,o){return s[vi]?s[Wo][En]=o:s[vi]=o,s[Wo]=o,o}function Rh(s){for(;s;){s[qt]|=32;const o=ch(s);if(us(s)&&!o)return s;s=o}return null}function kh(s,o,a,d=!0){const h=o[_i];h.begin&&h.begin();try{Mh(s,o,s.template,a)}catch(y){throw d&&Kw(o,y),y}finally{h.end&&h.end()}}function vp(s,o,a){Au(0),o(s,a)}function __(s){return s[Li]||(s[Li]=[])}function Zw(s){return s.cleanup||(s.cleanup=[])}function Kw(s,o){const a=s[ho],d=a?a.get(sp,null):null;d&&d.handleError(o)}function ld(s,o,a,d,h){for(let p=0;p<a.length;){const y=a[p++],C=a[p++],A=o[y],x=s.data[y];null!==x.setInput?x.setInput(A,h,d,C):A[C]=h}}function Qg(s,o,a){let d=a?s.styles:null,h=a?s.classes:null,p=0;if(null!==o)for(let y=0;y<o.length;y++){const C=o[y];"number"==typeof C?p=C:1==p?h=Ee(h,C):2==p&&(d=Ee(d,C+": "+o[++y]+";"))}a?s.styles=d:s.stylesWithoutHost=d,a?s.classes=h:s.classesWithoutHost=h}function ud(s,o,a,d,h=!1){for(;null!==a;){const p=o[a.index];if(null!==p&&d.push(or(p)),Vi(p))for(let C=Pr;C<p.length;C++){const A=p[C],x=A[nt].firstChild;null!==x&&ud(A[nt],A,x,d)}const y=a.type;if(8&y)ud(s,o,a.child,d);else if(32&y){const C=ai(a,o);let A;for(;A=C();)d.push(A)}else if(16&y){const C=Ku(o,a);if(Array.isArray(C))d.push(...C);else{const A=ch(o[pr]);ud(A[nt],A,C,d,!0)}}a=h?a.projectionNext:a.next}return d}class cd{get rootNodes(){const o=this._lView,a=o[nt];return ud(a,o,a.firstChild,[])}constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Rn]}set context(o){this._lView[Rn]=o}get destroyed(){return 128==(128&this._lView[qt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[Vn];if(Vi(o)){const a=o[Ts],d=a?a.indexOf(this):-1;d>-1&&(P(o,d),kl(a,d))}this._attachedToViewContainer=!1}L(this._lView[nt],this._lView)}onDestroy(o){Wl(this._lView[nt],this._lView,null,o)}markForCheck(){Rh(this._cdRefInjectingView||this._lView)}detach(){this._lView[qt]&=-65}reattach(){this._lView[qt]|=64}detectChanges(){kh(this._lView[nt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new we(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function dh(s,o){Wf(s,o,o[Qt],2,null,null)}(this._lView[nt],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new we(902,!1);this._appRef=o}}class QI extends cd{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;kh(o[nt],o,o[Rn],!1)}checkNoChanges(){}get context(){return null}}class v_ extends Eh{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=Et(o);return new dd(a,this.ngModule)}}function w_(s){const o=[];for(let a in s)s.hasOwnProperty(a)&&o.push({propName:s[a],templateName:a});return o}class Jg{constructor(o,a){this.injector=o,this.parentInjector=a}get(o,a,d){d=tr(d);const h=this.injector.get(o,zg,d);return h!==zg||a===zg?h:this.parentInjector.get(o,a,d)}}class dd extends cw{get inputs(){return w_(this.componentDef.inputs)}get outputs(){return w_(this.componentDef.outputs)}constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function SI(s){return s.map(AI).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}create(o,a,d,h){let p=(h=h||this.ngModule)instanceof od?h:h?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const y=p?new Jg(o,p):o,C=y.get(e_,null);if(null===C)throw new we(407,!1);const A=y.get(vI,null),x=C.createRenderer(null,this.componentDef),N=this.componentDef.selectors[0][0]||"div",H=d?function fp(s,o,a){return s.selectRootElement(o,a===B.ShadowDom)}(x,d,this.componentDef.encapsulation):zf(x,N,function Yw(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(N)),X=this.componentDef.onPush?288:272,ie=Ce(0,null,null,1,0,null,null,null,null,null),Ae=Kg(null,ie,null,X,null,null,C,x,A,y,null);let Ze,it;Co(Ae);try{const bt=this.componentDef;let Wt,je=null;bt.findHostDirectiveDefs?(Wt=[],je=new Map,bt.findHostDirectiveDefs(bt,Wt,je),Wt.push(bt)):Wt=[bt];const ln=function C_(s,o){const a=s[nt],d=kn;return s[d]=o,dp(a,d,2,"#host",null)}(Ae,H),hr=function Jw(s,o,a,d,h,p,y,C){const A=h[nt];!function Xw(s,o,a,d){for(const h of s)o.mergedAttrs=ra(o.mergedAttrs,h.hostAttrs);null!==o.mergedAttrs&&(Qg(o,o.mergedAttrs,!0),null!==a&&Kf(d,a,o))}(d,s,o,y);const x=p.createRenderer(o,a),N=Kg(h,Vw(a),null,a.onPush?32:16,h[s.index],s,p,x,C||null,null,null);return A.firstCreatePass&&g_(A,s,d.length-1),_p(h,N),h[s.index]=N}(ln,H,bt,Wt,Ae,C,x);it=Pa(ie,kn),H&&function eb(s,o,a,d){if(d)Qn(s,a,["ng-version",pw.full]);else{const{attrs:h,classes:p}=function xI(s){const o=[],a=[];let d=1,h=2;for(;d<s.length;){let p=s[d];if("string"==typeof p)2===h?""!==p&&o.push(p,s[++d]):8===h&&a.push(p);else{if(!ya(h))break;h=p}d++}return{attrs:o,classes:a}}(o.selectors[0]);h&&Qn(s,a,h),p&&p.length>0&&Yu(s,a,p.join(" "))}}(x,bt,H,d),void 0!==a&&function tb(s,o,a){const d=s.projection=[];for(let h=0;h<o.length;h++){const p=a[h];d.push(null!=p?Array.from(p):null)}}(it,this.ngContentSelectors,a),Ze=function JI(s,o,a,d,h,p){const y=ir(),C=h[nt],A=Zn(y,h);Bw(C,h,y,a,null,d);for(let N=0;N<a.length;N++)ee(sr(h,C,y.directiveStart+N,y),h);mp(C,h,y),A&&ee(A,h);const x=sr(h,C,y.directiveStart+y.componentOffset,y);if(s[Rn]=h[Rn]=x,null!==p)for(const N of p)N(x,o);return f_(C,y,s),x}(hr,bt,Wt,je,Ae,[E_]),yn(ie,Ae,null)}finally{El()}return new b_(this.componentType,Ze,ql(it,Ae),Ae,it)}}class b_ extends gI{constructor(o,a,d,h,p){super(),this.location=d,this._rootLView=h,this._tNode=p,this.instance=a,this.hostView=this.changeDetectorRef=new QI(h),this.componentType=o}setInput(o,a){const d=this._tNode.inputs;let h;if(null!==d&&(h=d[o])){const p=this._rootLView;ld(p[nt],p,h,o,a),Rh(gr(this._tNode.index,p))}}get injector(){return new ja(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function E_(){const s=ir();La(ye()[nt],s)}function D_(s){let o=function I_(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),a=!0;const d=[s];for(;o;){let h;if(Jr(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new we(903,!1);h=o.\u0275dir}if(h){if(a){d.push(h);const y=s;y.inputs=wp(s.inputs),y.declaredInputs=wp(s.declaredInputs),y.outputs=wp(s.outputs);const C=h.hostBindings;C&&Hi(s,C);const A=h.viewQuery,x=h.contentQueries;if(A&&A_(s,A),x&&Pi(s,x),De(s.inputs,h.inputs),De(s.declaredInputs,h.declaredInputs),De(s.outputs,h.outputs),Jr(h)&&h.data.animation){const N=s.data;N.animation=(N.animation||[]).concat(h.data.animation)}}const p=h.features;if(p)for(let y=0;y<p.length;y++){const C=p[y];C&&C.ngInherit&&C(s),C===D_&&(a=!1)}}o=Object.getPrototypeOf(o)}!function T_(s){let o=0,a=null;for(let d=s.length-1;d>=0;d--){const h=s[d];h.hostVars=o+=h.hostVars,h.hostAttrs=ra(h.hostAttrs,a=ra(a,h.hostAttrs))}}(d)}function wp(s){return s===k?{}:s===J?[]:s}function A_(s,o){const a=s.viewQuery;s.viewQuery=a?(d,h)=>{o(d,h),a(d,h)}:o}function Pi(s,o){const a=s.contentQueries;s.contentQueries=a?(d,h,p)=>{o(d,h,p),a(d,h,p)}:o}function Hi(s,o){const a=s.hostBindings;s.hostBindings=a?(d,h)=>{o(d,h),a(d,h)}:o}function Xu(s){return!!P_(s)&&(Array.isArray(s)||!(s instanceof Map)&&Symbol.iterator in s)}function P_(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Fo(s,o,a){return s[o]=a}function zi(s,o,a){return!Object.is(s[o],a)&&(s[o]=a,!0)}function nm(s,o,a,d){const h=ye();return zi(h,Yi(),o)&&($t(),Ns($n(),h,s,o,a,d)),nm}function Kl(s,o,a,d){return zi(s,Yi(),a)?o+Be(a)+d:rn}function L_(s,o,a,d,h,p,y,C){const A=ye(),x=$t(),N=s+kn,H=x.firstCreatePass?function sb(s,o,a,d,h,p,y,C,A){const x=o.consts,N=dp(o,s,4,y||null,hs(x,C));gp(o,a,N,hs(x,A)),La(o,N);const H=N.tView=Ce(2,N,d,h,p,o.directiveRegistry,o.pipeRegistry,null,o.schemas,x);return null!==o.queries&&(o.queries.template(o,N),H.queries=o.queries.embeddedTView(N)),N}(N,x,A,o,a,d,h,p,y):x.data[N];Ci(H,!1);const X=A[Qt].createComment("");Zu(x,A,X,H),ee(X,A),_p(A,A[N]=Hw(X,A,X,H)),bi(H)&&eo(x,A,H),null!=y&&Lw(A,H,C)}function Ip(s,o,a){const d=ye();return zi(d,Yi(),o)&&Ft($t(),$n(),d,s,o,d[Qt],a,!1),Ip}function Dp(s,o,a,d,h){const y=h?"class":"style";ld(s,a,o.inputs[y],y,d)}function tc(s,o,a,d){const h=ye(),p=$t(),y=kn+s,C=h[Qt],A=p.firstCreatePass?function rm(s,o,a,d,h,p){const y=o.consts,A=dp(o,s,2,d,hs(y,h));return gp(o,a,A,hs(y,p)),null!==A.attrs&&Qg(A,A.attrs,!1),null!==A.mergedAttrs&&Qg(A,A.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,A),A}(y,p,h,o,a,d):p.data[y],x=h[y]=zf(C,o,function Ii(){return Bt.lFrame.currentNamespace}()),N=bi(A);return Ci(A,!0),Kf(C,x,A),32!=(32&A.flags)&&Zu(p,h,x,A),0===function vl(){return Bt.lFrame.elementDepthCount}()&&ee(x,h),function Ra(){Bt.lFrame.elementDepthCount++}(),N&&(eo(p,h,A),f_(p,A,h)),null!==d&&Lw(h,A),tc}function Tp(){let s=ir();ka()?function Eu(){Bt.lFrame.isParent=!1}():(s=s.parent,Ci(s,!1));const o=s;!function Jo(){Bt.lFrame.elementDepthCount--}();const a=$t();return a.firstCreatePass&&(La(a,s),As(s)&&a.queries.elementEnd(s)),null!=o.classesWithoutHost&&function he(s){return 0!=(8&s.flags)}(o)&&Dp(a,o,ye(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function St(s){return 0!=(16&s.flags)}(o)&&Dp(a,o,ye(),o.stylesWithoutHost,!1),Tp}function U_(s,o,a,d){return tc(s,o,a,d),Tp(),U_}function j_(){return ye()}function im(s){return!!s&&"function"==typeof s.then}function ob(s){return!!s&&"function"==typeof s.subscribe}const Hh=ob;function sm(s,o,a,d){const h=ye(),p=$t(),y=ir();return function nc(s,o,a,d,h,p,y){const C=bi(d),x=s.firstCreatePass&&Zw(s),N=o[Rn],H=__(o);let X=!0;if(3&d.type||y){const Ze=Zn(d,o),it=y?y(Ze):Ze,bt=H.length,Wt=y?ln=>y(or(ln[d.index])):d.index;let je=null;if(!y&&C&&(je=function xp(s,o,a,d){const h=s.cleanup;if(null!=h)for(let p=0;p<h.length-1;p+=2){const y=h[p];if(y===a&&h[p+1]===d){const C=o[Li],A=h[p+2];return C.length>A?C[A]:null}"string"==typeof y&&(p+=2)}return null}(s,o,h,d.index)),null!==je)(je.__ngLastListenerFn__||je).__ngNextListenerFn__=p,je.__ngLastListenerFn__=p,X=!1;else{p=ab(d,o,N,p,!1);const ln=a.listen(it,h,p);H.push(p,ln),x&&x.push(h,Wt,bt,bt+1)}}else p=ab(d,o,N,p,!1);const ie=d.outputs;let Ae;if(X&&null!==ie&&(Ae=ie[h])){const Ze=Ae.length;if(Ze)for(let it=0;it<Ze;it+=2){const hr=o[Ae[it]][Ae[it+1]].subscribe(p),ei=H.length;H.push(p,hr),x&&x.push(h,d.index,ei,-(ei+1))}}}(p,h,h[Qt],y,s,o,d),sm}function om(s,o,a,d){try{return Bn(6,o,a),!1!==a(d)}catch(h){return Kw(s,h),!1}finally{Bn(7,o,a)}}function ab(s,o,a,d,h){return function p(y){if(y===Function)return d;Rh(s.componentOffset>-1?gr(s.index,o):o);let A=om(o,a,d,y),x=p.__ngNextListenerFn__;for(;x;)A=om(o,a,x,y)&&A,x=x.__ngNextListenerFn__;return h&&!1===A&&(y.preventDefault(),y.returnValue=!1),A}}function lb(s=1){return function Il(s){return(Bt.lFrame.contextLView=function Dl(s,o){for(;s>0;)o=o[Ds],s--;return o}(s,Bt.lFrame.contextLView))[Rn]}(s)}function Yl(s,o,a){return va(s,"",o,"",a),Yl}function va(s,o,a,d,h){const p=ye(),y=Kl(p,o,a,d);return y!==rn&&Ft($t(),$n(),p,s,y,p[Qt],h,!1),va}function Rp(s,o){return s<<17|o<<2}function rc(s){return s>>17&32767}function z_(s){return 2|s}function wa(s){return(131068&s)>>2}function il(s,o){return-131069&s|o<<2}function am(s){return 1|s}function G_(s,o,a,d,h){const p=s[a+1],y=null===o;let C=d?rc(p):wa(p),A=!1;for(;0!==C&&(!1===A||y);){const N=s[C+1];l1(s[C],o)&&(A=!0,s[C+1]=d?am(N):z_(N)),C=d?rc(N):wa(N)}A&&(s[a+1]=d?z_(p):am(p))}function l1(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&ps(s,o)>=0}const li={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function q_(s){return s.substring(li.key,li.keyEnd)}function K_(s,o){const a=li.textEnd;return a===o?-1:(o=li.keyEnd=function u1(s,o,a){for(;o<a&&s.charCodeAt(o)>32;)o++;return o}(s,li.key=o,a),qh(s,o,a))}function qh(s,o,a){for(;o<a&&s.charCodeAt(o)<=32;)o++;return o}function md(s,o){return function ba(s,o,a,d){const h=ye(),p=$t(),y=Ei(2);p.firstUpdatePass&&J_(p,s,y,d),o!==rn&&zi(h,y,o)&&pm(p,p.data[zr()],h,h[Qt],s,h[y+1]=function gm(s,o){return null==s||""===s||("string"==typeof o?s+=o:"object"==typeof s&&(s=ve(tl(s)))),s}(o,a),d,y)}(s,o,null,!0),md}function Y_(s){!function Ca(s,o,a,d){const h=$t(),p=Ei(2);h.firstUpdatePass&&J_(h,null,p,d);const y=ye();if(a!==rn&&zi(y,p,a)){const C=h.data[zr()];if(wb(C,d)&&!Q_(h,p)){let A=d?C.classesWithoutHost:C.stylesWithoutHost;null!==A&&(a=Ee(A,a||"")),Dp(h,C,y,a,d)}else!function vb(s,o,a,d,h,p,y,C){h===rn&&(h=J);let A=0,x=0,N=0<h.length?h[0]:null,H=0<p.length?p[0]:null;for(;null!==N||null!==H;){const X=A<h.length?h[A+1]:void 0,ie=x<p.length?p[x+1]:void 0;let Ze,Ae=null;N===H?(A+=2,x+=2,X!==ie&&(Ae=H,Ze=ie)):null===H||null!==N&&N<H?(A+=2,Ae=N):(x+=2,Ae=H,Ze=ie),null!==Ae&&pm(s,o,a,d,Ae,Ze,y,C),N=A<h.length?h[A]:null,H=x<p.length?p[x]:null}}(h,C,y,y[Qt],y[p+1],y[p+1]=function _b(s,o,a){if(null==a||""===a)return J;const d=[],h=tl(a);if(Array.isArray(h))for(let p=0;p<h.length;p++)s(d,h[p],!0);else if("object"==typeof h)for(const p in h)h.hasOwnProperty(p)&&s(d,p,h[p]);else"string"==typeof h&&o(d,h);return d}(s,o,a),d,p)}}(Fp,ol,s,!0)}function ol(s,o){for(let a=function Z_(s){return function gb(s){li.key=0,li.keyEnd=0,li.value=0,li.valueEnd=0,li.textEnd=s.length}(s),K_(s,qh(s,0,li.textEnd))}(o);a>=0;a=K_(o,a))es(s,q_(o),!0)}function Q_(s,o){return o>=s.expandoStartIndex}function J_(s,o,a,d){const h=s.data;if(null===h[a+1]){const p=h[zr()],y=Q_(s,a);wb(p,d)&&null===o&&!y&&(o=!1),o=function mb(s,o,a,d){const h=function Na(s){const o=Bt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let p=d?o.residualClasses:o.residualStyles;if(null===h)0===(d?o.classBindings:o.styleBindings)&&(a=Np(a=hm(null,s,o,a,d),o.attrs,d),p=null);else{const y=o.directiveStylingLast;if(-1===y||s[y]!==h)if(a=hm(h,s,o,a,d),null===p){let A=function dm(s,o,a){const d=a?o.classBindings:o.styleBindings;if(0!==wa(d))return s[rc(d)]}(s,o,d);void 0!==A&&Array.isArray(A)&&(A=hm(null,s,o,A[1],d),A=Np(A,o.attrs,d),function yb(s,o,a,d){s[rc(a?o.classBindings:o.styleBindings)]=d}(s,o,d,A))}else p=function al(s,o,a){let d;const h=o.directiveEnd;for(let p=1+o.directiveStylingLast;p<h;p++)d=Np(d,s[p].hostAttrs,a);return Np(d,o.attrs,a)}(s,o,d)}return void 0!==p&&(d?o.residualClasses=p:o.residualStyles=p),a}(h,p,o,d),function o1(s,o,a,d,h,p){let y=p?o.classBindings:o.styleBindings,C=rc(y),A=wa(y);s[d]=a;let N,x=!1;if(Array.isArray(a)?(N=a[1],(null===N||ps(a,N)>0)&&(x=!0)):N=a,h)if(0!==A){const X=rc(s[C+1]);s[d+1]=Rp(X,C),0!==X&&(s[X+1]=il(s[X+1],d)),s[C+1]=function i1(s,o){return 131071&s|o<<17}(s[C+1],d)}else s[d+1]=Rp(C,0),0!==C&&(s[C+1]=il(s[C+1],d)),C=d;else s[d+1]=Rp(A,0),0===C?C=d:s[A+1]=il(s[A+1],d),A=d;x&&(s[d+1]=z_(s[d+1])),G_(s,N,d,!0),G_(s,N,d,!1),function a1(s,o,a,d,h){const p=h?s.residualClasses:s.residualStyles;null!=p&&"string"==typeof o&&ps(p,o)>=0&&(a[d+1]=am(a[d+1]))}(o,N,s,d,p),y=Rp(C,A),p?o.classBindings=y:o.styleBindings=y}(h,p,o,a,y,d)}}function hm(s,o,a,d,h){let p=null;const y=a.directiveEnd;let C=a.directiveStylingLast;for(-1===C?C=a.directiveStart:C++;C<y&&(p=o[C],d=Np(d,p.hostAttrs,h),p!==s);)C++;return null!==s&&(a.directiveStylingLast=C),d}function Np(s,o,a){const d=a?1:2;let h=-1;if(null!==o)for(let p=0;p<o.length;p++){const y=o[p];"number"==typeof y?h=y:h===d&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),es(s,y,!!a||o[++p]))}return void 0===s?null:s}function Fp(s,o,a){const d=String(o);""!==d&&!d.includes(" ")&&es(s,d,a)}function pm(s,o,a,d,h,p,y,C){if(!(3&o.type))return;const A=s.data,x=A[C+1],N=function hb(s){return 1==(1&s)}(x)?Lp(A,o,a,h,wa(x),y):void 0;Vp(N)||(Vp(p)||function r1(s){return 2==(2&s)}(x)&&(p=Lp(A,null,a,h,C,y)),function el(s,o,a,d,h){if(o)h?s.addClass(a,d):s.removeClass(a,d);else{let p=-1===d.indexOf("-")?void 0:Vt.DashCase;null==h?s.removeStyle(a,d,p):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),p|=Vt.Important),s.setStyle(a,d,h,p))}}(d,y,Os(zr(),a),h,p))}function Lp(s,o,a,d,h,p){const y=null===o;let C;for(;h>0;){const A=s[h],x=Array.isArray(A),N=x?A[1]:A,H=null===N;let X=a[h+1];X===rn&&(X=H?J:void 0);let ie=H?Tn(X,d):N===d?X:void 0;if(x&&!Vp(ie)&&(ie=Tn(A,d)),Vp(ie)&&(C=ie,y))return C;const Ae=s[h+1];h=y?rc(Ae):wa(Ae)}if(null!==o){let A=p?o.residualClasses:o.residualStyles;null!=A&&(C=Tn(A,d))}return C}function Vp(s){return void 0!==s}function wb(s,o){return 0!=(s.flags&(o?8:16))}function X_(s,o=""){const a=ye(),d=$t(),h=s+kn,p=d.firstCreatePass?dp(d,h,1,o,null):d.data[h],y=a[h]=function Wu(s,o){return s.createText(o)}(a[Qt],o);Zu(d,a,y,p),Ci(p,!1)}function yd(s){return Up("",s,""),yd}function Up(s,o,a){const d=ye(),h=Kl(d,s,o,a);return h!==rn&&function Zl(s,o,a){const d=Os(o,s);!function Hf(s,o,a){s.setValue(o,a)}(s[Qt],d,a)}(d,zr(),h),Up}const Vo=void 0;var p1=["en",[["a","p"],["AM","PM"],Vo],[["AM","PM"],Vo,Vo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Vo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Vo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Vo,"{1} 'at' {0}",Vo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function f1(s){const a=Math.floor(Math.abs(s)),d=s.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===d?1:5}];let sc={};function uv(s){const o=function Qh(s){return s.toLowerCase().replace(/_/g,"-")}(s);let a=zp(o);if(a)return a;const d=o.split("-")[0];if(a=zp(d),a)return a;if("en"===d)return p1;throw new we(701,!1)}function Sb(s){return uv(s)[zt.PluralCase]}function zp(s){return s in sc||(sc[s]=vn.ng&&vn.ng.common&&vn.ng.common.locales&&vn.ng.common.locales[s]),sc[s]}var zt=(()=>((zt=zt||{})[zt.LocaleId=0]="LocaleId",zt[zt.DayPeriodsFormat=1]="DayPeriodsFormat",zt[zt.DayPeriodsStandalone=2]="DayPeriodsStandalone",zt[zt.DaysFormat=3]="DaysFormat",zt[zt.DaysStandalone=4]="DaysStandalone",zt[zt.MonthsFormat=5]="MonthsFormat",zt[zt.MonthsStandalone=6]="MonthsStandalone",zt[zt.Eras=7]="Eras",zt[zt.FirstDayOfWeek=8]="FirstDayOfWeek",zt[zt.WeekendRange=9]="WeekendRange",zt[zt.DateFormat=10]="DateFormat",zt[zt.TimeFormat=11]="TimeFormat",zt[zt.DateTimeFormat=12]="DateTimeFormat",zt[zt.NumberSymbols=13]="NumberSymbols",zt[zt.NumberFormats=14]="NumberFormats",zt[zt.CurrencyCode=15]="CurrencyCode",zt[zt.CurrencySymbol=16]="CurrencySymbol",zt[zt.CurrencyName=17]="CurrencyName",zt[zt.Currencies=18]="Currencies",zt[zt.Directionality=19]="Directionality",zt[zt.PluralCase=20]="PluralCase",zt[zt.ExtraData=21]="ExtraData",zt))();const Ia="en-US";let io=Ia;function gv(s,o,a,d,h){if(s=ne(s),Array.isArray(s))for(let p=0;p<s.length;p++)gv(s[p],o,a,d,h);else{const p=$t(),y=ye();let C=Gl(s)?s:ne(s.provide),A=Yy(s);const x=ir(),N=1048575&x.providerIndexes,H=x.directiveStart,X=x.providerIndexes>>20;if(Gl(s)||!s.multi){const ie=new Di(A,h,xh),Ae=yv(C,o,h?N:N+X,H);-1===Ae?(Do(Nc(x,y),p,C),Sm(p,s,o.length),o.push(C),x.directiveStart++,x.directiveEnd++,h&&(x.providerIndexes+=1048576),a.push(ie),y.push(ie)):(a[Ae]=ie,y[Ae]=ie)}else{const ie=yv(C,o,N+X,H),Ae=yv(C,o,N,N+X),it=Ae>=0&&a[Ae];if(h&&!it||!h&&!(ie>=0&&a[ie])){Do(Nc(x,y),p,C);const bt=function cc(s,o,a,d,h){const p=new Di(s,a,xh);return p.multi=[],p.index=o,p.componentProviders=0,mv(p,h,d&&!a),p}(h?ki:_v,a.length,h,d,A);!h&&it&&(a[Ae].providerFactory=bt),Sm(p,s,o.length,0),o.push(C),x.directiveStart++,x.directiveEnd++,h&&(x.providerIndexes+=1048576),a.push(bt),y.push(bt)}else Sm(p,s,ie>-1?ie:Ae,mv(a[h?Ae:ie],A,!h&&d));!h&&d&&it&&a[Ae].componentProviders++}}}function Sm(s,o,a,d){const h=Gl(o),p=function Bg(s){return!!s.useClass}(o);if(h||p){const A=(p?ne(o.useClass):o).prototype.ngOnDestroy;if(A){const x=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const N=x.indexOf(a);-1===N?x.push(a,[d,A]):x[N+1].push(d,A)}else x.push(a,A)}}}function mv(s,o,a){return a&&s.componentProviders++,s.multi.push(o)-1}function yv(s,o,a,d){for(let h=a;h<d;h++)if(o[h]===s)return h;return-1}function _v(s,o,a,d){return xm(this.multi,[])}function ki(s,o,a,d){const h=this.multi;let p;if(this.providerFactory){const y=this.providerFactory.componentProviders,C=sr(a,a[nt],this.providerFactory.index,d);p=C.slice(0,y),xm(h,p);for(let A=y;A<C.length;A++)p.push(C[A])}else p=[],xm(h,p);return p}function xm(s,o){for(let a=0;a<s.length;a++)o.push((0,s[a])());return o}function vv(s,o=[]){return a=>{a.providersResolver=(d,h)=>function qb(s,o,a){const d=$t();if(d.firstCreatePass){const h=Jr(s);gv(a,d.data,d.blueprint,h,!0),gv(o,d.data,d.blueprint,h,!1)}}(d,h?h(s):s,o)}}class Un{}class Zp{}function qi(s,o){return new wv(s,o??null)}class wv extends Un{constructor(o,a){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new v_(this);const d=br(o);this._bootstrapComponents=nl(d.bootstrap),this._r3Injector=a_(o,a,[{provide:Un,useValue:this},{provide:Eh,useValue:this.componentFactoryResolver}],ve(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class dc extends Zp{constructor(o){super(),this.moduleType=o}create(o){return new wv(this.moduleType,o)}}class Ls extends Un{constructor(o,a,d){super(),this.componentFactoryResolver=new v_(this),this.instance=null;const h=new lw([...o,{provide:Un,useValue:this},{provide:Eh,useValue:this.componentFactoryResolver}],a||jg(),d,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function Mm(s,o,a=null){return new Ls(s,o,a).injector}let V1=(()=>{class s{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a.id)){const d=wh(0,a.type),h=d.length>0?Mm([d],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a.id,h)}return this.cachedInjectors.get(a.id)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=yt({token:s,providedIn:"environment",factory:()=>new s(Gt(od))}),s})();function ci(s){s.getStandaloneInjector=o=>o.get(V1).getOrCreateStandaloneInjector(s)}function Jp(s,o,a,d){return function Qb(s,o,a,d,h,p){const y=o+a;return zi(s,y,h)?Fo(s,y+1,p?d.call(p,h):d(h)):tg(s,y+1)}(ye(),Or(),s,o,a,d)}function fc(s,o,a,d,h){return Dv(ye(),Or(),s,o,a,d,h)}function tg(s,o){const a=s[o];return a===rn?void 0:a}function Dv(s,o,a,d,h,p,y){const C=o+a;return function fd(s,o,a,d){const h=zi(s,o,a);return zi(s,o+1,d)||h}(s,C,h,p)?Fo(s,C+2,y?d.call(y,h,p):d(h,p)):tg(s,C+2)}function dr(s,o){const a=$t();let d;const h=s+kn;a.firstCreatePass?(d=function pc(s,o){if(o)for(let a=o.length-1;a>=0;a--){const d=o[a];if(s===d.name)return d}}(o,a.pipeRegistry),a.data[h]=d,d.onDestroy&&(a.destroyHooks??(a.destroyHooks=[])).push(h,d.onDestroy)):d=a.data[h];const p=d.factory||(d.factory=Zi(d.type)),y=Gn(xh);try{const C=Pl(!1),A=p();return Pl(C),function Ep(s,o,a,d){a>=s.data.length&&(s.data[a]=null,s.blueprint[a]=null),o[a]=d}(a,ye(),h,A),A}finally{Gn(y)}}function Cd(s,o,a,d){const h=s+kn,p=ye(),y=function Xr(s,o){return s[o]}(p,h);return function Nn(s,o){return s[nt].data[o].pure}(p,h)?Dv(p,Or(),o,y.transform,a,d,y):y.transform(a,d)}function ng(s){return o=>{setTimeout(s,void 0,o)}}const $o=class sf extends u.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,d){let h=o,p=a||(()=>null),y=d;if(o&&"object"==typeof o){const A=o;h=A.next?.bind(A),p=A.error?.bind(A),y=A.complete?.bind(A)}this.__isAsync&&(p=ng(p),h&&(h=ng(h)),y&&(y=ng(y)));const C=super.subscribe({next:h,error:p,complete:y});return o instanceof q.w0&&o.add(C),C}};function eC(){return this._results[Symbol.iterator]()}class rg{get changes(){return this._changes||(this._changes=new $o)}constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=rg.prototype;a[Symbol.iterator]||(a[Symbol.iterator]=eC)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const d=this;d.dirty=!1;const h=function Ui(s){return s.flat(Number.POSITIVE_INFINITY)}(o);(this._changesDetected=!function jc(s,o,a){if(s.length!==o.length)return!1;for(let d=0;d<s.length;d++){let h=s[d],p=o[d];if(a&&(h=a(h),p=a(p)),p!==h)return!1}return!0}(d._results,h,a))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let af=(()=>{class s{}return s.__NG_ELEMENT_ID__=j1,s})();const tC=af,nC=class extends tC{constructor(o,a,d){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=d}createEmbeddedView(o,a){const d=this._declarationTContainer.tView,h=Kg(this._declarationLView,d,o,16,null,d.declTNode,null,null,null,null,a||null);h[$s]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[Hr];return null!==y&&(h[Hr]=y.createEmbeddedView(d)),yn(d,h,o),new cd(h)}};function j1(){return Rm(ir(),ye())}function Rm(s,o){return 4&s.type?new nC(o,s,ql(s,o)):null}let km=(()=>{class s{}return s.__NG_ELEMENT_ID__=rC,s})();function rC(){return sC(ir(),ye())}const H1=km,Sv=class extends H1{constructor(o,a,d){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=d}get element(){return ql(this._hostTNode,this._hostLView)}get injector(){return new ja(this._hostTNode,this._hostLView)}get parentInjector(){const o=mr(this._hostTNode,this._hostLView);if(ia(o)){const a=Ml(o,this._hostLView),d=Ba(o);return new ja(a[nt].data[d+8],a)}return new ja(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=iC(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-Pr}createEmbeddedView(o,a,d){let h,p;"number"==typeof d?h=d:null!=d&&(h=d.index,p=d.injector);const y=o.createEmbeddedView(a||{},p);return this.insert(y,h),y}createComponent(o,a,d,h,p){const y=o&&!function Lu(s){return"function"==typeof s}(o);let C;if(y)C=a;else{const H=a||{};C=H.index,d=H.injector,h=H.projectableNodes,p=H.environmentInjector||H.ngModuleRef}const A=y?o:new dd(Et(o)),x=d||this.parentInjector;if(!p&&null==A.ngModule){const X=(y?x:this.parentInjector).get(od,null);X&&(p=X)}const N=A.create(x,h,void 0,p);return this.insert(N.hostView,C),N}insert(o,a){const d=o._lView,h=d[nt];if(function _u(s){return Vi(s[Vn])}(d)){const N=this.indexOf(o);if(-1!==N)this.detach(N);else{const H=d[Vn],X=new Sv(H,H[Er],H[Vn]);X.detach(X.indexOf(o))}}const p=this._adjustIndex(a),y=this._lContainer;!function f(s,o,a,d){const h=Pr+d,p=a.length;d>0&&(a[h-1][En]=o),d<p-Pr?(o[En]=a[h],Hc(a,Pr+d,o)):(a.push(o),o[En]=null),o[Vn]=a;const y=o[$s];null!==y&&a!==y&&function m(s,o){const a=s[Hs];o[pr]!==o[Vn][Vn][pr]&&(s[Zo]=!0),null===a?s[Hs]=[o]:a.push(o)}(y,o);const C=o[Hr];null!==C&&C.insertView(s),o[qt]|=64}(h,d,y,p);const C=Xa(p,y),A=d[Qt],x=Js(A,y[po]);return null!==x&&function xy(s,o,a,d,h,p){d[Cr]=h,d[Er]=o,Wf(s,d,a,1,h,p)}(h,y[Er],A,d,x,C),o.attachToViewContainerRef(),Hc(xv(y),p,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=iC(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),d=P(this._lContainer,a);d&&(kl(xv(this._lContainer),a),L(d[nt],d))}detach(o){const a=this._adjustIndex(o,-1),d=P(this._lContainer,a);return d&&null!=kl(xv(this._lContainer),a)?new cd(d):null}_adjustIndex(o,a=0){return o??this.length+a}};function iC(s){return s[Ts]}function xv(s){return s[Ts]||(s[Ts]=[])}function sC(s,o){let a;const d=o[s.index];if(Vi(d))a=d;else{let h;if(8&s.type)h=or(d);else{const p=o[Qt];h=p.createComment("");const y=Zn(s,o);an(p,Js(p,y),h,function Gf(s,o){return s.nextSibling(o)}(p,y),!1)}o[s.index]=a=Hw(d,o,h,s),_p(o,a)}return new Sv(a,s,o)}class ig{constructor(o){this.queryList=o,this.matches=null}clone(){return new ig(this.queryList)}setDirty(){this.queryList.setDirty()}}class eu{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const d=null!==o.contentQueries?o.contentQueries[0]:a.length,h=[];for(let p=0;p<d;p++){const y=a.getByIndex(p);h.push(this.queries[y.indexInDeclarationView].clone())}return new eu(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==Mv(o,a).matches&&this.queries[a].setDirty()}}class lf{constructor(o,a,d=null){this.predicate=o,this.flags=a,this.read=d}}class uf{constructor(o=[]){this.queries=o}elementStart(o,a){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let d=0;d<this.length;d++){const h=null!==a?a.length:0,p=this.getByIndex(d).embeddedTView(o,h);p&&(p.indexInDeclarationView=d,null!==a?a.push(p):a=[p])}return null!==a?new uf(a):null}template(o,a){for(let d=0;d<this.queries.length;d++)this.queries[d].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class cf{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new cf(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let d=o.parent;for(;null!==d&&8&d.type&&d.index!==a;)d=d.parent;return a===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const p=d[h];this.matchTNodeWithReadOption(o,a,oC(a,p)),this.matchTNodeWithReadOption(o,a,$a(a,o,p,!1,!1))}else d===af?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,$a(a,o,d,!1,!1))}matchTNodeWithReadOption(o,a,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===Ih||h===km||h===af&&4&a.type)this.addMatch(a.index,-2);else{const p=$a(a,o,h,!1,!1);null!==p&&this.addMatch(a.index,p)}else this.addMatch(a.index,d)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function oC(s,o){const a=s.localNames;if(null!==a)for(let d=0;d<a.length;d+=2)if(a[d]===o)return a[d+1];return null}function tu(s,o,a,d){return-1===a?function aC(s,o){return 11&s.type?ql(s,o):4&s.type?Rm(s,o):null}(o,s):-2===a?function lC(s,o,a){return a===Ih?ql(o,s):a===af?Rm(o,s):a===km?sC(o,s):void 0}(s,o,d):sr(s,s[nt],a,o)}function Ed(s,o,a,d){const h=o[Hr].queries[d];if(null===h.matches){const p=s.data,y=a.matches,C=[];for(let A=0;A<y.length;A+=2){const x=y[A];C.push(x<0?null:tu(o,p[x],y[A+1],a.metadata.read))}h.matches=C}return h.matches}function Nm(s,o,a,d){const h=s.queries.getByIndex(a),p=h.matches;if(null!==p){const y=Ed(s,o,h,a);for(let C=0;C<p.length;C+=2){const A=p[C];if(A>0)d.push(y[C/2]);else{const x=p[C+1],N=o[-A];for(let H=Pr;H<N.length;H++){const X=N[H];X[$s]===X[Vn]&&Nm(X[nt],X,x,d)}if(null!==N[Hs]){const H=N[Hs];for(let X=0;X<H.length;X++){const ie=H[X];Nm(ie[nt],ie,x,d)}}}}}return d}function Fm(s){const o=ye(),a=$t(),d=ea();Au(d+1);const h=Mv(a,d);if(s.dirty&&function wo(s){return 4==(4&s[qt])}(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const p=h.crossesNgTemplate?Nm(a,o,d,[]):Ed(a,o,h,d);s.reset(p,ip),s.notifyOnChanges()}return!0}return!1}function Vm(s,o,a,d){const h=$t();if(h.firstCreatePass){const p=ir();(function sg(s,o,a){null===s.queries&&(s.queries=new uf),s.queries.track(new cf(o,a))})(h,new lf(o,a,d),p.index),function og(s,o){const a=s.contentQueries||(s.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(s.queries.length-1,o)}(h,s),2==(2&a)&&(h.staticContentQueries=!0)}!function Um(s,o,a){const d=new rg(4==(4&a));Wl(s,o,d,d.destroy),null===o[Hr]&&(o[Hr]=new eu),o[Hr].queries.push(new ig(d))}(h,ye(),a)}function gc(){return function ws(s,o){return s[Hr].queries[o].queryList}(ye(),ea())}function Mv(s,o){return s.queries.getByIndex(o)}function Bm(s){return!!br(s)}function pf(...s){}const $v=new wn("Application Initializer");let Gm=(()=>{class s{constructor(a){this.appInits=a,this.resolve=pf,this.reject=pf,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,h)=>{this.resolve=d,this.reject=h})}runInitializers(){if(this.initialized)return;const a=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const p=this.appInits[h]();if(im(p))a.push(p);else if(Hh(p)){const y=new Promise((C,A)=>{p.subscribe({complete:C,error:A})});a.push(y)}}Promise.all(a).then(()=>{d()}).catch(h=>{this.reject(h)}),0===a.length&&d(),this.initialized=!0}}return s.\u0275fac=function(a){return new(a||s)(Gt($v,8))},s.\u0275prov=yt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const jv=new wn("AppId",{providedIn:"root",factory:function Hv(){return`${Ad()}${Ad()}${Ad()}`}});function Ad(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const gf=new wn("Platform Initializer"),dg=new wn("Platform ID",{providedIn:"platform",factory:()=>"unknown"});let CC=(()=>{class s{log(a){console.log(a)}warn(a){console.warn(a)}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=yt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const qm=new wn("LocaleId",{providedIn:"root",factory:()=>Hn(qm,dt.Optional|dt.SkipSelf)||function EC(){return typeof $localize<"u"&&$localize.locale||Ia}()}),IC=new wn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class nD{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let rD=(()=>{class s{compileModuleSync(a){return new dc(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const d=this.compileModuleSync(a),p=nl(br(a).declarations).reduce((y,C)=>{const A=Et(C);return A&&y.push(new dd(A)),y},[]);return new nD(d,p)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=yt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const fg=(()=>Promise.resolve(0))();function zo(s){typeof Zone>"u"?fg.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class as{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new $o(!1),this.onMicrotaskEmpty=new $o(!1),this.onStable=new $o(!1),this.onError=new $o(!1),typeof Zone>"u")throw new we(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&a,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function qv(){let s=vn.requestAnimationFrame,o=vn.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const a=s[Zone.__symbol__("OriginalDelegate")];a&&(s=a);const d=o[Zone.__symbol__("OriginalDelegate")];d&&(o=d)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function sD(s){const o=()=>{!function xC(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(vn,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Wv(s),s.isCheckStableRunning=!0,Wm(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Wv(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,d,h,p,y,C)=>{try{return mf(s),a.invokeTask(h,p,y,C)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||s.shouldCoalesceRunChangeDetection)&&o(),Zm(s)}},onInvoke:(a,d,h,p,y,C,A)=>{try{return mf(s),a.invoke(h,p,y,C,A)}finally{s.shouldCoalesceRunChangeDetection&&o(),Zm(s)}},onHasTask:(a,d,h,p)=>{a.hasTask(h,p),d===h&&("microTask"==p.change?(s._hasPendingMicrotasks=p.microTask,Wv(s),Wm(s)):"macroTask"==p.change&&(s.hasPendingMacrotasks=p.macroTask))},onHandleError:(a,d,h,p)=>(a.handleError(h,p),s.runOutsideAngular(()=>s.onError.emit(p)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!as.isInAngularZone())throw new we(909,!1)}static assertNotInAngularZone(){if(as.isInAngularZone())throw new we(909,!1)}run(o,a,d){return this._inner.run(o,a,d)}runTask(o,a,d,h){const p=this._inner,y=p.scheduleEventTask("NgZoneEvent: "+h,o,SC,pf,pf);try{return p.runTask(y,a,d)}finally{p.cancelTask(y)}}runGuarded(o,a,d){return this._inner.runGuarded(o,a,d)}runOutsideAngular(o){return this._outer.run(o)}}const SC={};function Wm(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Wv(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function mf(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function Zm(s){s._nesting--,Wm(s)}class oD{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new $o,this.onMicrotaskEmpty=new $o,this.onStable=new $o,this.onError=new $o}run(o,a,d){return o.apply(a,d)}runGuarded(o,a,d){return o.apply(a,d)}runOutsideAngular(o){return o()}runTask(o,a,d,h){return o.apply(a,d)}}const Zv=new wn(""),Km=new wn("");let Kv,MC=(()=>{class s{constructor(a,d,h){this._ngZone=a,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Kv||(function OC(s){Kv=s}(h),h.addToWindow(d)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{as.assertNotInAngularZone(),zo(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())zo(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(a)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,d,h){let p=-1;d&&d>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==p),a(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:a,timeoutId:p,updateCb:h})}whenStable(a,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,d,h){return[]}}return s.\u0275fac=function(a){return new(a||s)(Gt(as),Gt(PC),Gt(Km))},s.\u0275prov=yt({token:s,factory:s.\u0275fac}),s})(),PC=(()=>{class s{constructor(){this._applications=new Map}registerApplication(a,d){this._applications.set(a,d)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,d=!0){return Kv?.findTestabilityInTree(this,a,d)??null}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=yt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const iu=!1;let yc=null;const su=new wn("AllowMultipleToken"),_c=new wn("PlatformDestroyListeners"),Yv=new wn("appBootstrapListener");class RC{constructor(o,a){this.name=o,this.token=a}}function vc(s,o,a=[]){const d=`Platform: ${o}`,h=new wn(d);return(p=[])=>{let y=gg();if(!y||y.injector.get(su,!1)){const C=[...a,...p,{provide:h,useValue:!0}];s?s(C):function uD(s){if(yc&&!yc.get(su,!1))throw new we(400,!1);yc=s;const o=s.get(Ym);(function pg(s){const o=s.get(gf,null);o&&o.forEach(a=>a())})(s)}(function _f(s=[],o){return Th.create({name:o,providers:[{provide:Qu,useValue:"platform"},{provide:_c,useValue:new Set([()=>yc=null])},...s]})}(C,d))}return function Sd(s){const o=gg();if(!o)throw new we(401,!1);return o}()}}function gg(){return yc?.get(Ym)??null}let Ym=(()=>{class s{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,d){const h=function Jv(s,o){let a;return a="noop"===s?new oD:("zone.js"===s?void 0:s)||new as(o),a}(d?.ngZone,function Qv(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(d)),p=[{provide:as,useValue:h}];return h.run(()=>{const y=Th.create({providers:p,parent:this.injector,name:a.moduleType.name}),C=a.create(y),A=C.injector.get(sp,null);if(!A)throw new we(402,!1);return h.runOutsideAngular(()=>{const x=h.onError.subscribe({next:N=>{A.handleError(N)}});C.onDestroy(()=>{xd(this._modules,C),x.unsubscribe()})}),function NC(s,o,a){try{const d=a();return im(d)?d.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):d}catch(d){throw o.runOutsideAngular(()=>s.handleError(d)),d}}(A,h,()=>{const x=C.injector.get(Gm);return x.runInitializers(),x.donePromise.then(()=>(function bm(s){$e(s,"Expected localeId to be defined"),"string"==typeof s&&(io=s.toLowerCase().replace(/_/g,"-"))}(C.injector.get(qm,Ia)||Ia),this._moduleDoBootstrap(C),C))})})}bootstrapModule(a,d=[]){const h=Xv({},d);return function aD(s,o,a){const d=new dc(a);return Promise.resolve(d)}(0,0,a).then(p=>this.bootstrapModuleFactory(p,h))}_moduleDoBootstrap(a){const d=a.injector.get(mg);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!a.instance.ngDoBootstrap)throw new we(-403,!1);a.instance.ngDoBootstrap(d)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new we(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const a=this._injector.get(_c,null);a&&(a.forEach(d=>d()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(a){return new(a||s)(Gt(Th))},s.\u0275prov=yt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function Xv(s,o){return Array.isArray(o)?o.reduce(Xv,s):{...s,...o}}let mg=(()=>{class s{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(a,d,h){this._zone=a,this._injector=d,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const p=new R.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),y=new R.y(C=>{let A;this._zone.runOutsideAngular(()=>{A=this._zone.onStable.subscribe(()=>{as.assertNotInAngularZone(),zo(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const x=this._zone.onUnstable.subscribe(()=>{as.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{A.unsubscribe(),x.unsubscribe()}});this.isStable=(0,se.T)(p,y.pipe((0,ue.B)()))}bootstrap(a,d){const h=a instanceof cw;if(!this._injector.get(Gm).done){!h&&xr(a);throw new we(405,iu)}let y;y=h?a:this._injector.get(Eh).resolveComponentFactory(a),this.componentTypes.push(y.componentType);const C=function ou(s){return s.isBoundToModule}(y)?void 0:this._injector.get(Un),x=y.create(Th.NULL,[],d||y.selector,C),N=x.location.nativeElement,H=x.injector.get(Zv,null);return H?.registerApplication(N),x.onDestroy(()=>{this.detachView(x.hostView),xd(this.components,x),H?.unregisterApplication(N)}),this._loadComponent(x),x}tick(){if(this._runningTick)throw new we(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const d=a;this._views.push(d),d.attachToAppRef(this)}detachView(a){const d=a;xd(this._views,d),d.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const d=this._injector.get(Yv,[]);d.push(...this._bootstrapListeners),d.forEach(h=>h(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>xd(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new we(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(a){return new(a||s)(Gt(as),Gt(od),Gt(sp))},s.\u0275prov=yt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function xd(s,o){const a=s.indexOf(o);a>-1&&s.splice(a,1)}function dD(){return!1}let yg=(()=>{class s{}return s.__NG_ELEMENT_ID__=Pd,s})();function Pd(s){return function wc(s,o,a){if(Sa(s)&&!a){const d=gr(s.index,o);return new cd(d,d)}return 47&s.type?new cd(o[pr],o):null}(ir(),ye(),16==(16&s))}class s0{constructor(){}supports(o){return Xu(o)}create(o){return new ey(o)}}const Xm=(s,o)=>o;class ey{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||Xm}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,d=this._removalsHead,h=0,p=null;for(;a||d;){const y=!d||a&&a.currentIndex<o0(d,h,p)?a:d,C=o0(y,h,p),A=y.currentIndex;if(y===d)h--,d=d._nextRemoved;else if(a=a._next,null==y.previousIndex)h++;else{p||(p=[]);const x=C-h,N=A-h;if(x!=N){for(let X=0;X<x;X++){const ie=X<p.length?p[X]:p[X]=0,Ae=ie+X;N<=Ae&&Ae<x&&(p[X]=ie+1)}p[y.previousIndex]=N-x}}C!==A&&o(y,C,A)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!Xu(o))throw new we(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,p,y,a=this._itHead,d=!1;if(Array.isArray(o)){this.length=o.length;for(let C=0;C<this.length;C++)p=o[C],y=this._trackByFn(C,p),null!==a&&Object.is(a.trackById,y)?(d&&(a=this._verifyReinsertion(a,p,y,C)),Object.is(a.item,p)||this._addIdentityChange(a,p)):(a=this._mismatch(a,p,y,C),d=!0),a=a._next}else h=0,function ib(s,o){if(Array.isArray(s))for(let a=0;a<s.length;a++)o(s[a]);else{const a=s[Symbol.iterator]();let d;for(;!(d=a.next()).done;)o(d.value)}}(o,C=>{y=this._trackByFn(h,C),null!==a&&Object.is(a.trackById,y)?(d&&(a=this._verifyReinsertion(a,C,y,h)),Object.is(a.item,C)||this._addIdentityChange(a,C)):(a=this._mismatch(a,C,y,h),d=!0),a=a._next,h++}),this.length=h;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,d,h){let p;return null===o?p=this._itTail:(p=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,p,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,p,h)):o=this._addAfter(new UC(a,d),p,h),o}_verifyReinsertion(o,a,d,h){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==p?o=this._reinsertAfter(p,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,p=o._nextRemoved;return null===h?this._removalsHead=p:h._nextRemoved=p,null===p?this._removalsTail=h:p._prevRemoved=h,this._insertAfter(o,a,d),this._addToMoves(o,d),o}_moveAfter(o,a,d){return this._unlink(o),this._insertAfter(o,a,d),this._addToMoves(o,d),o}_addAfter(o,a,d){return this._insertAfter(o,a,d),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,d){const h=null===a?this._itHead:a._next;return o._next=h,o._prev=a,null===h?this._itTail=o:h._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new kd),this._linkedRecords.put(o),o.currentIndex=d,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,d=o._next;return null===a?this._itHead=d:a._next=d,null===d?this._itTail=a:d._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new kd),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class UC{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class bc{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===a||a<=d.currentIndex)&&Object.is(d.trackById,o))return d;return null}remove(o){const a=o._prevDup,d=o._nextDup;return null===a?this._head=d:a._nextDup=d,null===d?this._tail=a:d._prevDup=a,null===this._head}}class kd{constructor(){this.map=new Map}put(o){const a=o.trackById;let d=this.map.get(a);d||(d=new bc,this.map.set(a,d)),d.add(o)}get(o,a){const h=this.map.get(o);return h?h.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function o0(s,o,a){const d=s.previousIndex;if(null===d)return d;let h=0;return a&&d<a.length&&(h=a[d]),d+o+h}class Cc{constructor(){}supports(o){return o instanceof Map||P_(o)}create(){return new _D}}class _D{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||P_(o)))throw new we(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(d,h)=>{if(a&&a.key===h)this._maybeAddToChanges(a,d),this._appendAfter=a,a=a._next;else{const p=this._getOrCreateRecordForKey(h,d);a=this._insertBeforeOrAppend(a,p)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let d=a;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const d=o._prev;return a._next=o,a._prev=d,o._prev=a,d&&(d._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,a);const p=h._prev,y=h._next;return p&&(p._next=y),y&&(y._prev=p),h._next=null,h._prev=null,h}const d=new bf(o);return this._records.set(o,d),d.currentValue=a,this._addToAdditions(d),d}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(d=>a(o[d],d))}}class bf{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function a0(){return new gl([new s0])}let gl=(()=>{class s{constructor(a){this.factories=a}static create(a,d){if(null!=d){const h=d.factories.slice();a=a.concat(h)}return new s(a)}static extend(a){return{provide:s,useFactory:d=>s.create(a,d||a0()),deps:[[s,new Rt,new ua]]}}find(a){const d=this.factories.find(h=>h.supports(a));if(null!=d)return d;throw new we(901,!1)}}return s.\u0275prov=yt({token:s,providedIn:"root",factory:a0}),s})();function BC(){return new ty([new Cc])}let ty=(()=>{class s{constructor(a){this.factories=a}static create(a,d){if(d){const h=d.factories.slice();a=a.concat(h)}return new s(a)}static extend(a){return{provide:s,useFactory:d=>s.create(a,d||BC()),deps:[[s,new Rt,new ua]]}}find(a){const d=this.factories.find(h=>h.supports(a));if(d)return d;throw new we(901,!1)}}return s.\u0275prov=yt({token:s,providedIn:"root",factory:BC}),s})();const jC=vc(null,"core",[]);let bD=(()=>{class s{constructor(a){}}return s.\u0275fac=function(a){return new(a||s)(Gt(mg))},s.\u0275mod=oe({type:s}),s.\u0275inj=Xt({}),s})();function HC(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}},3942:(Dt,Re,U)=>{"use strict";U.d(Re,{Z:()=>Qe});var u=U(2090),q=U(4859),R=U(6881),se=U(1877);class ue{constructor(we,Ne){this._delegate=we,this.firebase=Ne,(0,R._addComponent)(we,new q.wA("app-compat",()=>this,"PUBLIC")),this.container=we.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(we){this._delegate.automaticDataCollectionEnabled=we}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(we=>{this._delegate.checkDestroyed(),we()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,R.deleteApp)(this._delegate)))}_getService(we,Ne=R._DEFAULT_ENTRY_NAME){var Be;this._delegate.checkDestroyed();const Le=this._delegate.container.getProvider(we);return!Le.isInitialized()&&"EXPLICIT"===(null===(Be=Le.getComponent())||void 0===Be?void 0:Be.instantiationMode)&&Le.initialize(),Le.getImmediate({identifier:Ne})}_removeServiceInstance(we,Ne=R._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(we).clearInstance(Ne)}_addComponent(we){(0,R._addComponent)(this._delegate,we)}_addOrOverwriteComponent(we){(0,R._addOrOverwriteComponent)(this._delegate,we)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const De=new u.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Y=function Ee(){const at=function ve(at){const we={},Ne={__esModule:!0,initializeApp:function Me(He,ae={}){const Xe=R.initializeApp(He,ae);if((0,u.r3)(we,Xe.name))return we[Xe.name];const Mt=new at(Xe,Ne);return we[Xe.name]=Mt,Mt},app:Le,registerVersion:R.registerVersion,setLogLevel:R.setLogLevel,onLog:R.onLog,apps:null,SDK_VERSION:R.SDK_VERSION,INTERNAL:{registerComponent:function _e(He){const ae=He.name,Xe=ae.replace("-compat","");if(R._registerComponent(He)&&"PUBLIC"===He.type){const Mt=(lt=Le())=>{if("function"!=typeof lt[Xe])throw De.create("invalid-app-argument",{appName:ae});return lt[Xe]()};void 0!==He.serviceProps&&(0,u.ZB)(Mt,He.serviceProps),Ne[Xe]=Mt,at.prototype[Xe]=function(...lt){return this._getService.bind(this,ae).apply(this,He.multipleInstances?lt:[])}}return"PUBLIC"===He.type?Ne[Xe]:null},removeApp:function Be(He){delete we[He]},useAsService:function Ge(He,ae){return"serverAuth"===ae?null:ae},modularAPIs:R}};function Le(He){if(!(0,u.r3)(we,He=He||R._DEFAULT_ENTRY_NAME))throw De.create("no-app",{appName:He});return we[He]}return Ne.default=Ne,Object.defineProperty(Ne,"apps",{get:function be(){return Object.keys(we).map(He=>we[He])}}),Le.App=at,Ne}(ue);return at.INTERNAL=Object.assign(Object.assign({},at.INTERNAL),{createFirebaseNamespace:Ee,extendNamespace:function we(Ne){(0,u.ZB)(at,Ne)},createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),at}(),W=new se.Yd("@firebase/app-compat");if((0,u.jU)()&&void 0!==self.firebase){W.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const at=self.firebase.SDK_VERSION;at&&at.indexOf("LITE")>=0&&W.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Qe=Y;!function ke(at){(0,R.registerVersion)("@firebase/app-compat","0.2.11",at)}()},6881:(Dt,Re,U)=>{"use strict";U.r(Re),U.d(Re,{FirebaseError:()=>se.ZR,SDK_VERSION:()=>yi,_DEFAULT_ENTRY_NAME:()=>fr,_addComponent:()=>ft,_addOrOverwriteComponent:()=>Ut,_apps:()=>vn,_clearComponents:()=>ri,_components:()=>en,_getProvider:()=>vr,_registerComponent:()=>Xn,_removeServiceInstance:()=>qn,deleteApp:()=>er,getApp:()=>ii,getApps:()=>Gt,initializeApp:()=>un,onLog:()=>nr,registerVersion:()=>tr,setLogLevel:()=>Yr});var u=U(5861),q=U(4859),R=U(1877),se=U(2090);const ue=(me,oe)=>oe.some(ze=>me instanceof ze);let j,De;const Y=new WeakMap,W=new WeakMap,ne=new WeakMap,qe=new WeakMap,ke=new WeakMap;let we={get(me,oe,ze){if(me instanceof IDBTransaction){if("done"===oe)return W.get(me);if("objectStoreNames"===oe)return me.objectStoreNames||ne.get(me);if("store"===oe)return ze.objectStoreNames[1]?void 0:ze.objectStore(ze.objectStoreNames[0])}return Me(me[oe])},set:(me,oe,ze)=>(me[oe]=ze,!0),has:(me,oe)=>me instanceof IDBTransaction&&("done"===oe||"store"===oe)||oe in me};function Le(me){return"function"==typeof me?function Be(me){return me!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ee(){return De||(De=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(me)?function(...oe){return me.apply(be(this),oe),Me(Y.get(this))}:function(...oe){return Me(me.apply(be(this),oe))}:function(oe,...ze){const _t=me.call(be(this),oe,...ze);return ne.set(_t,oe.sort?oe.sort():[oe]),Me(_t)}}(me):(me instanceof IDBTransaction&&function at(me){if(W.has(me))return;const oe=new Promise((ze,_t)=>{const Lt=()=>{me.removeEventListener("complete",on),me.removeEventListener("error",Et),me.removeEventListener("abort",Et)},on=()=>{ze(),Lt()},Et=()=>{_t(me.error||new DOMException("AbortError","AbortError")),Lt()};me.addEventListener("complete",on),me.addEventListener("error",Et),me.addEventListener("abort",Et)});W.set(me,oe)}(me),ue(me,function ve(){return j||(j=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(me,we):me)}function Me(me){if(me instanceof IDBRequest)return function Qe(me){const oe=new Promise((ze,_t)=>{const Lt=()=>{me.removeEventListener("success",on),me.removeEventListener("error",Et)},on=()=>{ze(Me(me.result)),Lt()},Et=()=>{_t(me.error),Lt()};me.addEventListener("success",on),me.addEventListener("error",Et)});return oe.then(ze=>{ze instanceof IDBCursor&&Y.set(ze,me)}).catch(()=>{}),ke.set(oe,me),oe}(me);if(qe.has(me))return qe.get(me);const oe=Le(me);return oe!==me&&(qe.set(me,oe),ke.set(oe,me)),oe}const be=me=>ke.get(me),He=["get","getKey","getAll","getAllKeys","count"],ae=["put","add","delete","clear"],Xe=new Map;function Mt(me,oe){if(!(me instanceof IDBDatabase)||oe in me||"string"!=typeof oe)return;if(Xe.get(oe))return Xe.get(oe);const ze=oe.replace(/FromIndex$/,""),_t=oe!==ze,Lt=ae.includes(ze);if(!(ze in(_t?IDBIndex:IDBObjectStore).prototype)||!Lt&&!He.includes(ze))return;const on=function(){var Et=(0,u.Z)(function*(Cn,...hn){const xr=this.transaction(Cn,Lt?"readwrite":"readonly");let br=xr.store;return _t&&(br=br.index(hn.shift())),(yield Promise.all([br[ze](...hn),Lt&&xr.done]))[0]});return function(hn){return Et.apply(this,arguments)}}();return Xe.set(oe,on),on}!function Ne(me){we=me(we)}(me=>({...me,get:(oe,ze,_t)=>Mt(oe,ze)||me.get(oe,ze,_t),has:(oe,ze)=>!!Mt(oe,ze)||me.has(oe,ze)}));class lt{constructor(oe){this.container=oe}getPlatformInfoString(){return this.container.getProviders().map(ze=>{if(function Zt(me){return"VERSION"===me.getComponent()?.type}(ze)){const _t=ze.getImmediate();return`${_t.library}/${_t.version}`}return null}).filter(ze=>ze).join(" ")}}const et="@firebase/app",ce=new R.Yd("@firebase/app"),fr="[DEFAULT]",On={[et]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},vn=new Map,en=new Map;function ft(me,oe){try{me.container.addComponent(oe)}catch(ze){ce.debug(`Component ${oe.name} failed to register with FirebaseApp ${me.name}`,ze)}}function Ut(me,oe){me.container.addOrOverwriteComponent(oe)}function Xn(me){const oe=me.name;if(en.has(oe))return ce.debug(`There were multiple attempts to register component ${oe}.`),!1;en.set(oe,me);for(const ze of vn.values())ft(ze,me);return!0}function vr(me,oe){const ze=me.container.getProvider("heartbeat").getImmediate({optional:!0});return ze&&ze.triggerHeartbeat(),me.container.getProvider(oe)}function qn(me,oe,ze=fr){vr(me,oe).clearInstance(ze)}function ri(){en.clear()}const wr=new se.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class sn{constructor(oe,ze,_t){this._isDeleted=!1,this._options=Object.assign({},oe),this._config=Object.assign({},ze),this._name=ze.name,this._automaticDataCollectionEnabled=ze.automaticDataCollectionEnabled,this._container=_t,this.container.addComponent(new q.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(oe){this.checkDestroyed(),this._automaticDataCollectionEnabled=oe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(oe){this._isDeleted=oe}checkDestroyed(){if(this.isDeleted)throw wr.create("app-deleted",{appName:this._name})}}const yi="9.22.1";function un(me,oe={}){let ze=me;"object"!=typeof oe&&(oe={name:oe});const _t=Object.assign({name:fr,automaticDataCollectionEnabled:!1},oe),Lt=_t.name;if("string"!=typeof Lt||!Lt)throw wr.create("bad-app-name",{appName:String(Lt)});if(ze||(ze=(0,se.aH)()),!ze)throw wr.create("no-options");const on=vn.get(Lt);if(on){if((0,se.vZ)(ze,on.options)&&(0,se.vZ)(_t,on.config))return on;throw wr.create("duplicate-app",{appName:Lt})}const Et=new q.H0(Lt);for(const hn of en.values())Et.addComponent(hn);const Cn=new sn(ze,_t,Et);return vn.set(Lt,Cn),Cn}function ii(me=fr){const oe=vn.get(me);if(!oe&&me===fr&&(0,se.aH)())return un();if(!oe)throw wr.create("no-app",{appName:me});return oe}function Gt(){return Array.from(vn.values())}function er(me){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,u.Z)(function*(me){const oe=me.name;vn.has(oe)&&(vn.delete(oe),yield Promise.all(me.container.getProviders().map(ze=>ze.delete())),me.isDeleted=!0)})).apply(this,arguments)}function tr(me,oe,ze){var _t;let Lt=null!==(_t=On[me])&&void 0!==_t?_t:me;ze&&(Lt+=`-${ze}`);const on=Lt.match(/\s|\//),Et=oe.match(/\s|\//);if(on||Et){const Cn=[`Unable to register library "${Lt}" with version "${oe}":`];return on&&Cn.push(`library name "${Lt}" contains illegal characters (whitespace or "/")`),on&&Et&&Cn.push("and"),Et&&Cn.push(`version name "${oe}" contains illegal characters (whitespace or "/")`),void ce.warn(Cn.join(" "))}Xn(new q.wA(`${Lt}-version`,()=>({library:Lt,version:oe}),"VERSION"))}function nr(me,oe){if(null!==me&&"function"!=typeof me)throw wr.create("invalid-log-argument");(0,R.Am)(me,oe)}function Yr(me){(0,R.Ub)(me)}const jr="firebase-heartbeat-database",Sr=1,K="firebase-heartbeat-store";let G=null;function V(){return G||(G=function _e(me,oe,{blocked:ze,upgrade:_t,blocking:Lt,terminated:on}={}){const Et=indexedDB.open(me,oe),Cn=Me(Et);return _t&&Et.addEventListener("upgradeneeded",hn=>{_t(Me(Et.result),hn.oldVersion,hn.newVersion,Me(Et.transaction),hn)}),ze&&Et.addEventListener("blocked",hn=>ze(hn.oldVersion,hn.newVersion,hn)),Cn.then(hn=>{on&&hn.addEventListener("close",()=>on()),Lt&&hn.addEventListener("versionchange",xr=>Lt(xr.oldVersion,xr.newVersion,xr))}).catch(()=>{}),Cn}(jr,Sr,{upgrade:(me,oe)=>{0===oe&&me.createObjectStore(K)}}).catch(me=>{throw wr.create("idb-open",{originalErrorMessage:me.message})})),G}function k(){return(k=(0,u.Z)(function*(me){try{return yield(yield V()).transaction(K).objectStore(K).get(ot(me))}catch(oe){if(oe instanceof se.ZR)ce.warn(oe.message);else{const ze=wr.create("idb-get",{originalErrorMessage:oe?.message});ce.warn(ze.message)}}})).apply(this,arguments)}function J(me,oe){return Te.apply(this,arguments)}function Te(){return(Te=(0,u.Z)(function*(me,oe){try{const _t=(yield V()).transaction(K,"readwrite");yield _t.objectStore(K).put(oe,ot(me)),yield _t.done}catch(ze){if(ze instanceof se.ZR)ce.warn(ze.message);else{const _t=wr.create("idb-set",{originalErrorMessage:ze?.message});ce.warn(_t.message)}}})).apply(this,arguments)}function ot(me){return`${me.name}!${me.options.appId}`}class nn{constructor(oe){this.container=oe,this._heartbeatsCache=null;const ze=this.container.getProvider("app").getImmediate();this._storage=new Yt(ze),this._heartbeatsCachePromise=this._storage.read().then(_t=>(this._heartbeatsCache=_t,_t))}triggerHeartbeat(){var oe=this;return(0,u.Z)(function*(){const _t=oe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Lt=Nt();if(null===oe._heartbeatsCache&&(oe._heartbeatsCache=yield oe._heartbeatsCachePromise),oe._heartbeatsCache.lastSentHeartbeatDate!==Lt&&!oe._heartbeatsCache.heartbeats.some(on=>on.date===Lt))return oe._heartbeatsCache.heartbeats.push({date:Lt,agent:_t}),oe._heartbeatsCache.heartbeats=oe._heartbeatsCache.heartbeats.filter(on=>{const Et=new Date(on.date).valueOf();return Date.now()-Et<=2592e6}),oe._storage.overwrite(oe._heartbeatsCache)})()}getHeartbeatsHeader(){var oe=this;return(0,u.Z)(function*(){if(null===oe._heartbeatsCache&&(yield oe._heartbeatsCachePromise),null===oe._heartbeatsCache||0===oe._heartbeatsCache.heartbeats.length)return"";const ze=Nt(),{heartbeatsToSend:_t,unsentEntries:Lt}=function In(me,oe=1024){const ze=[];let _t=me.slice();for(const Lt of me){const on=ze.find(Et=>Et.agent===Lt.agent);if(on){if(on.dates.push(Lt.date),rr(ze)>oe){on.dates.pop();break}}else if(ze.push({agent:Lt.agent,dates:[Lt.date]}),rr(ze)>oe){ze.pop();break}_t=_t.slice(1)}return{heartbeatsToSend:ze,unsentEntries:_t}}(oe._heartbeatsCache.heartbeats),on=(0,se.L)(JSON.stringify({version:2,heartbeats:_t}));return oe._heartbeatsCache.lastSentHeartbeatDate=ze,Lt.length>0?(oe._heartbeatsCache.heartbeats=Lt,yield oe._storage.overwrite(oe._heartbeatsCache)):(oe._heartbeatsCache.heartbeats=[],oe._storage.overwrite(oe._heartbeatsCache)),on})()}}function Nt(){return(new Date).toISOString().substring(0,10)}class Yt{constructor(oe){this.app=oe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,u.Z)(function*(){return!!(0,se.hl)()&&(0,se.eu)().then(()=>!0).catch(()=>!1)})()}read(){var oe=this;return(0,u.Z)(function*(){return(yield oe._canUseIndexedDBPromise)&&(yield function B(me){return k.apply(this,arguments)}(oe.app))||{heartbeats:[]}})()}overwrite(oe){var ze=this;return(0,u.Z)(function*(){var _t;if(yield ze._canUseIndexedDBPromise){const on=yield ze.read();return J(ze.app,{lastSentHeartbeatDate:null!==(_t=oe.lastSentHeartbeatDate)&&void 0!==_t?_t:on.lastSentHeartbeatDate,heartbeats:oe.heartbeats})}})()}add(oe){var ze=this;return(0,u.Z)(function*(){var _t;if(yield ze._canUseIndexedDBPromise){const on=yield ze.read();return J(ze.app,{lastSentHeartbeatDate:null!==(_t=oe.lastSentHeartbeatDate)&&void 0!==_t?_t:on.lastSentHeartbeatDate,heartbeats:[...on.heartbeats,...oe.heartbeats]})}})()}}function rr(me){return(0,se.L)(JSON.stringify({version:2,heartbeats:me})).length}!function Wn(me){Xn(new q.wA("platform-logger",oe=>new lt(oe),"PRIVATE")),Xn(new q.wA("heartbeat",oe=>new nn(oe),"PRIVATE")),tr(et,"0.9.11",me),tr(et,"0.9.11","esm2017"),tr("fire-js","")}("")},4859:(Dt,Re,U)=>{"use strict";U.d(Re,{H0:()=>ve,wA:()=>R});var u=U(5861),q=U(2090);class R{constructor(Y,W,ne){this.name=Y,this.instanceFactory=W,this.type=ne,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Y){return this.instantiationMode=Y,this}setMultipleInstances(Y){return this.multipleInstances=Y,this}setServiceProps(Y){return this.serviceProps=Y,this}setInstanceCreatedCallback(Y){return this.onInstanceCreated=Y,this}}const se="[DEFAULT]";class ue{constructor(Y,W){this.name=Y,this.container=W,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Y){const W=this.normalizeInstanceIdentifier(Y);if(!this.instancesDeferred.has(W)){const ne=new q.BH;if(this.instancesDeferred.set(W,ne),this.isInitialized(W)||this.shouldAutoInitialize())try{const qe=this.getOrInitializeService({instanceIdentifier:W});qe&&ne.resolve(qe)}catch{}}return this.instancesDeferred.get(W).promise}getImmediate(Y){var W;const ne=this.normalizeInstanceIdentifier(Y?.identifier),qe=null!==(W=Y?.optional)&&void 0!==W&&W;if(!this.isInitialized(ne)&&!this.shouldAutoInitialize()){if(qe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ne})}catch(ke){if(qe)return null;throw ke}}getComponent(){return this.component}setComponent(Y){if(Y.name!==this.name)throw Error(`Mismatching Component ${Y.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Y,this.shouldAutoInitialize()){if(function De(Ee){return"EAGER"===Ee.instantiationMode}(Y))try{this.getOrInitializeService({instanceIdentifier:se})}catch{}for(const[W,ne]of this.instancesDeferred.entries()){const qe=this.normalizeInstanceIdentifier(W);try{const ke=this.getOrInitializeService({instanceIdentifier:qe});ne.resolve(ke)}catch{}}}}clearInstance(Y=se){this.instancesDeferred.delete(Y),this.instancesOptions.delete(Y),this.instances.delete(Y)}delete(){var Y=this;return(0,u.Z)(function*(){const W=Array.from(Y.instances.values());yield Promise.all([...W.filter(ne=>"INTERNAL"in ne).map(ne=>ne.INTERNAL.delete()),...W.filter(ne=>"_delete"in ne).map(ne=>ne._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Y=se){return this.instances.has(Y)}getOptions(Y=se){return this.instancesOptions.get(Y)||{}}initialize(Y={}){const{options:W={}}=Y,ne=this.normalizeInstanceIdentifier(Y.instanceIdentifier);if(this.isInitialized(ne))throw Error(`${this.name}(${ne}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const qe=this.getOrInitializeService({instanceIdentifier:ne,options:W});for(const[ke,Qe]of this.instancesDeferred.entries())ne===this.normalizeInstanceIdentifier(ke)&&Qe.resolve(qe);return qe}onInit(Y,W){var ne;const qe=this.normalizeInstanceIdentifier(W),ke=null!==(ne=this.onInitCallbacks.get(qe))&&void 0!==ne?ne:new Set;ke.add(Y),this.onInitCallbacks.set(qe,ke);const Qe=this.instances.get(qe);return Qe&&Y(Qe,qe),()=>{ke.delete(Y)}}invokeOnInitCallbacks(Y,W){const ne=this.onInitCallbacks.get(W);if(ne)for(const qe of ne)try{qe(Y,W)}catch{}}getOrInitializeService({instanceIdentifier:Y,options:W={}}){let ne=this.instances.get(Y);if(!ne&&this.component&&(ne=this.component.instanceFactory(this.container,{instanceIdentifier:(Ee=Y,Ee===se?void 0:Ee),options:W}),this.instances.set(Y,ne),this.instancesOptions.set(Y,W),this.invokeOnInitCallbacks(ne,Y),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Y,ne)}catch{}var Ee;return ne||null}normalizeInstanceIdentifier(Y=se){return this.component?this.component.multipleInstances?Y:se:Y}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ve{constructor(Y){this.name=Y,this.providers=new Map}addComponent(Y){const W=this.getProvider(Y.name);if(W.isComponentSet())throw new Error(`Component ${Y.name} has already been registered with ${this.name}`);W.setComponent(Y)}addOrOverwriteComponent(Y){this.getProvider(Y.name).isComponentSet()&&this.providers.delete(Y.name),this.addComponent(Y)}getProvider(Y){if(this.providers.has(Y))return this.providers.get(Y);const W=new ue(Y,this);return this.providers.set(Y,W),W}getProviders(){return Array.from(this.providers.values())}}},1877:(Dt,Re,U)=>{"use strict";U.d(Re,{Am:()=>Ee,Ub:()=>ve,Yd:()=>De,in:()=>q});const u=[];var q=(()=>{return(Y=q||(q={}))[Y.DEBUG=0]="DEBUG",Y[Y.VERBOSE=1]="VERBOSE",Y[Y.INFO=2]="INFO",Y[Y.WARN=3]="WARN",Y[Y.ERROR=4]="ERROR",Y[Y.SILENT=5]="SILENT",q;var Y})();const R={debug:q.DEBUG,verbose:q.VERBOSE,info:q.INFO,warn:q.WARN,error:q.ERROR,silent:q.SILENT},se=q.INFO,ue={[q.DEBUG]:"log",[q.VERBOSE]:"log",[q.INFO]:"info",[q.WARN]:"warn",[q.ERROR]:"error"},j=(Y,W,...ne)=>{if(W<Y.logLevel)return;const qe=(new Date).toISOString(),ke=ue[W];if(!ke)throw new Error(`Attempted to log a message with an invalid logType (value: ${W})`);console[ke](`[${qe}]  ${Y.name}:`,...ne)};class De{constructor(W){this.name=W,this._logLevel=se,this._logHandler=j,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel(W){if(!(W in q))throw new TypeError(`Invalid value "${W}" assigned to \`logLevel\``);this._logLevel=W}setLogLevel(W){this._logLevel="string"==typeof W?R[W]:W}get logHandler(){return this._logHandler}set logHandler(W){if("function"!=typeof W)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=W}get userLogHandler(){return this._userLogHandler}set userLogHandler(W){this._userLogHandler=W}debug(...W){this._userLogHandler&&this._userLogHandler(this,q.DEBUG,...W),this._logHandler(this,q.DEBUG,...W)}log(...W){this._userLogHandler&&this._userLogHandler(this,q.VERBOSE,...W),this._logHandler(this,q.VERBOSE,...W)}info(...W){this._userLogHandler&&this._userLogHandler(this,q.INFO,...W),this._logHandler(this,q.INFO,...W)}warn(...W){this._userLogHandler&&this._userLogHandler(this,q.WARN,...W),this._logHandler(this,q.WARN,...W)}error(...W){this._userLogHandler&&this._userLogHandler(this,q.ERROR,...W),this._logHandler(this,q.ERROR,...W)}}function ve(Y){u.forEach(W=>{W.setLogLevel(Y)})}function Ee(Y,W){for(const ne of u){let qe=null;W&&W.level&&(qe=R[W.level]),ne.userLogHandler=null===Y?null:(ke,Qe,...at)=>{const we=at.map(Ne=>{if(null==Ne)return null;if("string"==typeof Ne)return Ne;if("number"==typeof Ne||"boolean"==typeof Ne)return Ne.toString();if(Ne instanceof Error)return Ne.message;try{return JSON.stringify(Ne)}catch{return null}}).filter(Ne=>Ne).join(" ");Qe>=(qe??ke.logLevel)&&Y({level:q[Qe].toLowerCase(),message:we,args:at,type:ke.name})}}}},259:(Dt,Re,U)=>{"use strict";U.d(Re,{C6:()=>u.getApps,KN:()=>u.registerVersion,Mq:()=>u.getApp,ZF:()=>u.initializeApp});var u=U(6881);(0,u.registerVersion)("firebase","9.22.1","app")},9260:(Dt,Re,U)=>{"use strict";U.d(Re,{Z:()=>u.Z});var u=U(3942);u.Z.registerVersion("firebase","9.22.1","app-compat")},9568:(Dt,Re,U)=>{"use strict";U.r(Re);var u=U(5861),q=U(3942),R=U(1389),se=U(2090),De=(U(6881),U(1877),U(4859));function ve(){return window}const Ee=2e3;function W(){return W=(0,u.Z)(function*(V,B,k){var J;const{BuildInfo:Te}=ve();(0,R.as)(B.sessionId,"AuthEvent did not contain a session ID");const ot=yield function Ne(V){return Be.apply(this,arguments)}(B.sessionId),kt={};return(0,R.at)()?kt.ibi=Te.packageName:(0,R.au)()?kt.apn=Te.packageName:(0,R.av)(V,"operation-not-supported-in-this-environment"),Te.displayName&&(kt.appDisplayName=Te.displayName),kt.sessionId=ot,(0,R.aw)(V,k,B.type,void 0,null!==(J=B.eventId)&&void 0!==J?J:void 0,kt)}),W.apply(this,arguments)}function qe(){return(qe=(0,u.Z)(function*(V){const{BuildInfo:B}=ve(),k={};(0,R.at)()?k.iosBundleId=B.packageName:(0,R.au)()?k.androidPackageName=B.packageName:(0,R.av)(V,"operation-not-supported-in-this-environment"),yield(0,R.ax)(V,k)})).apply(this,arguments)}function at(){return(at=(0,u.Z)(function*(V,B,k){const{cordova:J}=ve();let Te=()=>{};try{yield new Promise((ot,kt)=>{let Pt=null;function nn(){var Yt;ot();const rr=null===(Yt=J.plugins.browsertab)||void 0===Yt?void 0:Yt.close;"function"==typeof rr&&rr(),"function"==typeof k?.close&&k.close()}function Nt(){Pt||(Pt=window.setTimeout(()=>{kt((0,R.az)(V,"redirect-cancelled-by-user"))},Ee))}function In(){"visible"===document?.visibilityState&&Nt()}B.addPassiveListener(nn),document.addEventListener("resume",Nt,!1),(0,R.au)()&&document.addEventListener("visibilitychange",In,!1),Te=()=>{B.removePassiveListener(nn),document.removeEventListener("resume",Nt,!1),document.removeEventListener("visibilitychange",In,!1),Pt&&window.clearTimeout(Pt)}})}finally{Te()}})).apply(this,arguments)}function Be(){return(Be=(0,u.Z)(function*(V){const B=function Le(V){if((0,R.as)(/[0-9a-zA-Z]+/.test(V),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(V);const B=new ArrayBuffer(V.length),k=new Uint8Array(B);for(let J=0;J<V.length;J++)k[J]=V.charCodeAt(J);return k}(V),k=yield crypto.subtle.digest("SHA-256",B);return Array.from(new Uint8Array(k)).map(Te=>Te.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const Me=20;class be extends R.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(B=>{this.resolveInialized=B})}addPassiveListener(B){this.passiveListeners.add(B)}removePassiveListener(B){this.passiveListeners.delete(B)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(B){return this.resolveInialized(),this.passiveListeners.forEach(k=>k(B)),super.onEvent(B)}initialized(){var B=this;return(0,u.Z)(function*(){yield B.initPromise})()}}function He(V){return ae.apply(this,arguments)}function ae(){return(ae=(0,u.Z)(function*(V){const B=yield lt()._get(Zt(V));return B&&(yield lt()._remove(Zt(V))),B})).apply(this,arguments)}function Mt(){const V=[],B="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let k=0;k<Me;k++){const J=Math.floor(Math.random()*B.length);V.push(B.charAt(J))}return V.join("")}function lt(){return(0,R.aC)(R.b)}function Zt(V){return(0,R.aD)("authEvent",V.config.apiKey,V.name)}function ce(V){if(!V?.includes("?"))return{};const[B,...k]=V.split("?");return(0,se.zd)(k.join("?"))}const Fe=class xe{constructor(){this._redirectPersistence=R.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=R.aE,this._overrideRedirectResult=R.aF}_initialize(B){var k=this;return(0,u.Z)(function*(){const J=B._key();let Te=k.eventManagers.get(J);return Te||(Te=new be(B),k.eventManagers.set(J,Te),k.attachCallbackListeners(B,Te)),Te})()}_openPopup(B){(0,R.av)(B,"operation-not-supported-in-this-environment")}_openRedirect(B,k,J,Te){var ot=this;return(0,u.Z)(function*(){!function we(V){var B,k,J,Te,ot,kt,Pt,nn,Nt,In;const Yt=ve();(0,R.aA)("function"==typeof(null===(B=Yt?.universalLinks)||void 0===B?void 0:B.subscribe),V,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,R.aA)(typeof(null===(k=Yt?.BuildInfo)||void 0===k?void 0:k.packageName)<"u",V,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,R.aA)("function"==typeof(null===(ot=null===(Te=null===(J=Yt?.cordova)||void 0===J?void 0:J.plugins)||void 0===Te?void 0:Te.browsertab)||void 0===ot?void 0:ot.openUrl),V,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,R.aA)("function"==typeof(null===(nn=null===(Pt=null===(kt=Yt?.cordova)||void 0===kt?void 0:kt.plugins)||void 0===Pt?void 0:Pt.browsertab)||void 0===nn?void 0:nn.isAvailable),V,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,R.aA)("function"==typeof(null===(In=null===(Nt=Yt?.cordova)||void 0===Nt?void 0:Nt.InAppBrowser)||void 0===In?void 0:In.open),V,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(B);const kt=yield ot._initialize(B);yield kt.initialized(),kt.resetRedirect(),(0,R.aG)(),yield ot._originValidation(B);const Pt=function _e(V,B,k=null){return{type:B,eventId:k,urlResponse:null,sessionId:Mt(),postBody:null,tenantId:V.tenantId,error:(0,R.az)(V,"no-auth-event")}}(B,J,Te);yield function Ge(V,B){return lt()._set(Zt(V),B)}(B,Pt);const nn=yield function Y(V,B,k){return W.apply(this,arguments)}(B,Pt,k),Nt=yield function ke(V){const{cordova:B}=ve();return new Promise(k=>{B.plugins.browsertab.isAvailable(J=>{let Te=null;J?B.plugins.browsertab.openUrl(V):Te=B.InAppBrowser.open(V,(0,R.ay)()?"_blank":"_system","location=yes"),k(Te)})})}(nn);return function Qe(V,B,k){return at.apply(this,arguments)}(B,kt,Nt)})()}_isIframeWebStorageSupported(B,k){throw new Error("Method not implemented.")}_originValidation(B){const k=B._key();return this.originValidationPromises[k]||(this.originValidationPromises[k]=function ne(V){return qe.apply(this,arguments)}(B)),this.originValidationPromises[k]}attachCallbackListeners(B,k){const{universalLinks:J,handleOpenURL:Te,BuildInfo:ot}=ve(),kt=setTimeout((0,u.Z)(function*(){yield He(B),k.onEvent(Ke())}),500),Pt=function(){var In=(0,u.Z)(function*(Yt){clearTimeout(kt);const rr=yield He(B);let Wn=null;rr&&Yt?.url&&(Wn=function Xe(V,B){var k,J;const Te=function ni(V){const B=ce(V),k=B.link?decodeURIComponent(B.link):void 0,J=ce(k).link,Te=B.deep_link_id?decodeURIComponent(B.deep_link_id):void 0;return ce(Te).link||Te||J||k||V}(B);if(Te.includes("/__/auth/callback")){const ot=ce(Te),kt=ot.firebaseError?function et(V){try{return JSON.parse(V)}catch{return null}}(decodeURIComponent(ot.firebaseError)):null,Pt=null===(J=null===(k=kt?.code)||void 0===k?void 0:k.split("auth/"))||void 0===J?void 0:J[1],nn=Pt?(0,R.az)(Pt):null;return nn?{type:V.type,eventId:V.eventId,tenantId:V.tenantId,error:nn,urlResponse:null,sessionId:null,postBody:null}:{type:V.type,eventId:V.eventId,tenantId:V.tenantId,sessionId:V.sessionId,urlResponse:Te,postBody:null}}return null}(rr,Yt.url)),k.onEvent(Wn||Ke())});return function(rr){return In.apply(this,arguments)}}();typeof J<"u"&&"function"==typeof J.subscribe&&J.subscribe(null,Pt);const nn=Te,Nt=`${ot.packageName.toLowerCase()}://`;ve().handleOpenURL=function(){var In=(0,u.Z)(function*(Yt){if(Yt.toLowerCase().startsWith(Nt)&&Pt({url:Yt}),"function"==typeof nn)try{nn(Yt)}catch(rr){console.error(rr)}});return function(Yt){return In.apply(this,arguments)}}()}};function Ke(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,R.az)("no-auth-event")}}const Pn=1e3;function ct(){var V;return(null===(V=self?.location)||void 0===V?void 0:V.protocol)||null}function dn(V=(0,se.z$)()){return!("file:"!==ct()&&"ionic:"!==ct()&&"capacitor:"!==ct()||!V.toLowerCase().match(/iphone|ipad|ipod|android/))}function _r(){try{const V=self.localStorage,B=R.aL();if(V)return V.setItem(B,"1"),V.removeItem(B),!function bn(V=(0,se.z$)()){return function gn(){return(0,se.w1)()&&11===document?.documentMode}()||function Br(V=(0,se.z$)()){return/Edge\/\d+/.test(V)}(V)}()||(0,se.hl)()}catch{return Jn()&&(0,se.hl)()}return!1}function Jn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Kr(){return(function yt(){return"http:"===ct()||"https:"===ct()}()||(0,se.ru)()||dn())&&!function Xt(){return(0,se.b$)()||(0,se.UG)()}()&&_r()&&!Jn()}function Kt(){return dn()&&typeof document<"u"}function Sn(){return(Sn=(0,u.Z)(function*(){return!!Kt()&&new Promise(V=>{const B=setTimeout(()=>{V(!1)},Pn);document.addEventListener("deviceready",()=>{clearTimeout(B),V(!0)})})})).apply(this,arguments)}const cn={LOCAL:"local",NONE:"none",SESSION:"session"},Ln=R.aA,Gn="persistence";function On(V){return vn.apply(this,arguments)}function vn(){return(vn=(0,u.Z)(function*(V){yield V._initializationPromise;const B=ft(),k=R.aD(Gn,V.config.apiKey,V.name);B&&B.setItem(k,V._getPersistence())})).apply(this,arguments)}function ft(){var V;try{return(null===(V=function dt(){return typeof window<"u"?window:null}())||void 0===V?void 0:V.sessionStorage)||null}catch{return null}}const Ut=R.aA;class Xn{constructor(){this.browserResolver=R.aC(R.k),this.cordovaResolver=R.aC(Fe),this.underlyingResolver=null,this._redirectPersistence=R.a,this._completeRedirectFn=R.aE,this._overrideRedirectResult=R.aF}_initialize(B){var k=this;return(0,u.Z)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._initialize(B)})()}_openPopup(B,k,J,Te){var ot=this;return(0,u.Z)(function*(){return yield ot.selectUnderlyingResolver(),ot.assertedUnderlyingResolver._openPopup(B,k,J,Te)})()}_openRedirect(B,k,J,Te){var ot=this;return(0,u.Z)(function*(){return yield ot.selectUnderlyingResolver(),ot.assertedUnderlyingResolver._openRedirect(B,k,J,Te)})()}_isIframeWebStorageSupported(B,k){this.assertedUnderlyingResolver._isIframeWebStorageSupported(B,k)}_originValidation(B){return this.assertedUnderlyingResolver._originValidation(B)}get _shouldInitProactively(){return Kt()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Ut(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var B=this;return(0,u.Z)(function*(){if(B.underlyingResolver)return;const k=yield function $r(){return Sn.apply(this,arguments)}();B.underlyingResolver=k?B.cordovaResolver:B.browserResolver})()}}function vr(V){return V.unwrap()}function ri(V){return wr(V)}function wr(V){const{_tokenResponse:B}=V instanceof se.ZR?V.customData:V;if(!B)return null;if(!(V instanceof se.ZR)&&"temporaryProof"in B&&"phoneNumber"in B)return R.P.credentialFromResult(V);const k=B.providerId;if(!k||k===R.p.PASSWORD)return null;let J;switch(k){case R.p.GOOGLE:J=R.V;break;case R.p.FACEBOOK:J=R.U;break;case R.p.GITHUB:J=R.W;break;case R.p.TWITTER:J=R.Z;break;default:const{oauthIdToken:Te,oauthAccessToken:ot,oauthTokenSecret:kt,pendingToken:Pt,nonce:nn}=B;return ot||kt||Te||Pt?Pt?k.startsWith("saml.")?R.aO._create(k,Pt):R.L._fromParams({providerId:k,signInMethod:k,pendingToken:Pt,idToken:Te,accessToken:ot}):new R.X(k).credential({idToken:Te,accessToken:ot,rawNonce:nn}):null}return V instanceof se.ZR?J.credentialFromError(V):J.credentialFromResult(V)}function sn(V,B){return B.catch(k=>{throw k instanceof se.ZR&&function xn(V,B){var k;const J=null===(k=B.customData)||void 0===k?void 0:k._tokenResponse;if("auth/multi-factor-auth-required"===B?.code)B.resolver=new ii(V,R.aq(V,B));else if(J){const Te=wr(B),ot=B;Te&&(ot.credential=Te,ot.tenantId=J.tenantId||void 0,ot.email=J.email||void 0,ot.phoneNumber=J.phoneNumber||void 0)}}(V,k),k}).then(k=>{const Te=k.user;return{operationType:k.operationType,credential:ri(k),additionalUserInfo:R.ao(k),user:Gt.getOrCreate(Te)}})}function yi(V,B){return un.apply(this,arguments)}function un(){return(un=(0,u.Z)(function*(V,B){const k=yield B;return{verificationId:k.verificationId,confirm:J=>sn(V,k.confirm(J))}})).apply(this,arguments)}class ii{constructor(B,k){this.resolver=k,this.auth=function qn(V){return V.wrapped()}(B)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(B){return sn(vr(this.auth),this.resolver.resolveSignIn(B))}}class Gt{constructor(B){this._delegate=B,this.multiFactor=R.ar(B)}static getOrCreate(B){return Gt.USER_MAP.has(B)||Gt.USER_MAP.set(B,new Gt(B)),Gt.USER_MAP.get(B)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(B){return this._delegate.getIdTokenResult(B)}getIdToken(B){return this._delegate.getIdToken(B)}linkAndRetrieveDataWithCredential(B){return this.linkWithCredential(B)}linkWithCredential(B){var k=this;return(0,u.Z)(function*(){return sn(k.auth,R.a0(k._delegate,B))})()}linkWithPhoneNumber(B,k){var J=this;return(0,u.Z)(function*(){return yi(J.auth,R.l(J._delegate,B,k))})()}linkWithPopup(B){var k=this;return(0,u.Z)(function*(){return sn(k.auth,R.d(k._delegate,B,Xn))})()}linkWithRedirect(B){var k=this;return(0,u.Z)(function*(){return yield On(R.aH(k.auth)),R.g(k._delegate,B,Xn)})()}reauthenticateAndRetrieveDataWithCredential(B){return this.reauthenticateWithCredential(B)}reauthenticateWithCredential(B){var k=this;return(0,u.Z)(function*(){return sn(k.auth,R.a1(k._delegate,B))})()}reauthenticateWithPhoneNumber(B,k){return yi(this.auth,R.r(this._delegate,B,k))}reauthenticateWithPopup(B){return sn(this.auth,R.e(this._delegate,B,Xn))}reauthenticateWithRedirect(B){var k=this;return(0,u.Z)(function*(){return yield On(R.aH(k.auth)),R.h(k._delegate,B,Xn)})()}sendEmailVerification(B){return R.ae(this._delegate,B)}unlink(B){var k=this;return(0,u.Z)(function*(){return yield R.an(k._delegate,B),k})()}updateEmail(B){return R.aj(this._delegate,B)}updatePassword(B){return R.ak(this._delegate,B)}updatePhoneNumber(B){return R.u(this._delegate,B)}updateProfile(B){return R.ai(this._delegate,B)}verifyBeforeUpdateEmail(B,k){return R.af(this._delegate,B,k)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Gt.USER_MAP=new WeakMap;const er=R.aA;let Hn=(()=>{class V{constructor(k,J){if(this.app=k,J.isInitialized())return this._delegate=J.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Te}=k.options;er(Te,"invalid-api-key",{appName:k.name}),er(Te,"invalid-api-key",{appName:k.name});const ot=typeof window<"u"?Xn:void 0;this._delegate=J.initialize({options:{persistence:nr(Te,k.name),popupRedirectResolver:ot}}),this._delegate._updateErrorMap(R.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Gt.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(k){this._delegate.languageCode=k}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(k){this._delegate.tenantId=k}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(k,J){R.I(this._delegate,k,J)}applyActionCode(k){return R.a5(this._delegate,k)}checkActionCode(k){return R.a6(this._delegate,k)}confirmPasswordReset(k,J){return R.a4(this._delegate,k,J)}createUserWithEmailAndPassword(k,J){var Te=this;return(0,u.Z)(function*(){return sn(Te._delegate,R.a8(Te._delegate,k,J))})()}fetchProvidersForEmail(k){return this.fetchSignInMethodsForEmail(k)}fetchSignInMethodsForEmail(k){return R.ad(this._delegate,k)}isSignInWithEmailLink(k){return R.ab(this._delegate,k)}getRedirectResult(){var k=this;return(0,u.Z)(function*(){er(Kr(),k._delegate,"operation-not-supported-in-this-environment");const J=yield R.j(k._delegate,Xn);return J?sn(k._delegate,Promise.resolve(J)):{credential:null,user:null}})()}addFrameworkForLogging(k){!function $e(V,B){(0,R.aH)(V)._logFramework(B)}(this._delegate,k)}onAuthStateChanged(k,J,Te){const{next:ot,error:kt,complete:Pt}=tr(k,J,Te);return this._delegate.onAuthStateChanged(ot,kt,Pt)}onIdTokenChanged(k,J,Te){const{next:ot,error:kt,complete:Pt}=tr(k,J,Te);return this._delegate.onIdTokenChanged(ot,kt,Pt)}sendSignInLinkToEmail(k,J){return R.aa(this._delegate,k,J)}sendPasswordResetEmail(k,J){return R.a3(this._delegate,k,J||void 0)}setPersistence(k){var J=this;return(0,u.Z)(function*(){let Te;switch(function fr(V,B){Ln(Object.values(cn).includes(B),V,"invalid-persistence-type"),(0,se.b$)()?Ln(B!==cn.SESSION,V,"unsupported-persistence-type"):(0,se.UG)()?Ln(B===cn.NONE,V,"unsupported-persistence-type"):Jn()?Ln(B===cn.NONE||B===cn.LOCAL&&(0,se.hl)(),V,"unsupported-persistence-type"):Ln(B===cn.NONE||_r(),V,"unsupported-persistence-type")}(J._delegate,k),k){case cn.SESSION:Te=R.a;break;case cn.LOCAL:Te=(yield R.aC(R.i)._isAvailable())?R.i:R.b;break;case cn.NONE:Te=R.N;break;default:return R.av("argument-error",{appName:J._delegate.name})}return J._delegate.setPersistence(Te)})()}signInAndRetrieveDataWithCredential(k){return this.signInWithCredential(k)}signInAnonymously(){return sn(this._delegate,R._(this._delegate))}signInWithCredential(k){return sn(this._delegate,R.$(this._delegate,k))}signInWithCustomToken(k){return sn(this._delegate,R.a2(this._delegate,k))}signInWithEmailAndPassword(k,J){return sn(this._delegate,R.a9(this._delegate,k,J))}signInWithEmailLink(k,J){return sn(this._delegate,R.ac(this._delegate,k,J))}signInWithPhoneNumber(k,J){return yi(this._delegate,R.s(this._delegate,k,J))}signInWithPopup(k){var J=this;return(0,u.Z)(function*(){return er(Kr(),J._delegate,"operation-not-supported-in-this-environment"),sn(J._delegate,R.c(J._delegate,k,Xn))})()}signInWithRedirect(k){var J=this;return(0,u.Z)(function*(){return er(Kr(),J._delegate,"operation-not-supported-in-this-environment"),yield On(J._delegate),R.f(J._delegate,k,Xn)})()}updateCurrentUser(k){return this._delegate.updateCurrentUser(k)}verifyPasswordResetCode(k){return R.a7(this._delegate,k)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return V.Persistence=cn,V})();function tr(V,B,k){let J=V;"function"!=typeof V&&({next:J,error:B,complete:k}=V);const Te=J;return{next:kt=>Te(kt&&Gt.getOrCreate(kt)),error:B,complete:k}}function nr(V,B){const k=function en(V,B){const k=ft();if(!k)return[];const J=R.aD(Gn,V,B);switch(k.getItem(J)){case cn.NONE:return[R.N];case cn.LOCAL:return[R.i,R.a];case cn.SESSION:return[R.a];default:return[]}}(V,B);if(typeof self<"u"&&!k.includes(R.i)&&k.push(R.i),typeof window<"u")for(const J of[R.b,R.a])k.includes(J)||k.push(J);return k.includes(R.N)||k.push(R.N),k}class Yr{constructor(){this.providerId="phone",this._delegate=new R.P(vr(q.Z.auth()))}static credential(B,k){return R.P.credential(B,k)}verifyPhoneNumber(B,k){return this._delegate.verifyPhoneNumber(B,k)}unwrap(){return this._delegate}}Yr.PHONE_SIGN_IN_METHOD=R.P.PHONE_SIGN_IN_METHOD,Yr.PROVIDER_ID=R.P.PROVIDER_ID;const jr=R.aA;class Sr{constructor(B,k,J=q.Z.app()){var Te;jr(null===(Te=J.options)||void 0===Te?void 0:Te.apiKey,"invalid-api-key",{appName:J.name}),this._delegate=new R.R(B,k,J.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function G(V){V.INTERNAL.registerComponent(new De.wA("auth-compat",B=>{const k=B.getProvider("app-compat").getImmediate(),J=B.getProvider("auth");return new Hn(k,J)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:R.A.EMAIL_SIGNIN,PASSWORD_RESET:R.A.PASSWORD_RESET,RECOVER_EMAIL:R.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:R.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:R.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:R.A.VERIFY_EMAIL}},EmailAuthProvider:R.Q,FacebookAuthProvider:R.U,GithubAuthProvider:R.W,GoogleAuthProvider:R.V,OAuthProvider:R.X,SAMLAuthProvider:R.Y,PhoneAuthProvider:Yr,PhoneMultiFactorGenerator:R.m,RecaptchaVerifier:Sr,TwitterAuthProvider:R.Z,Auth:Hn,AuthCredential:R.J,Error:se.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),V.registerVersion("@firebase/auth-compat","0.4.2")}(q.Z)},5861:(Dt,Re,U)=>{"use strict";function u(R,se,ue,j,De,ve,Ee){try{var Y=R[ve](Ee),W=Y.value}catch(ne){return void ue(ne)}Y.done?se(W):Promise.resolve(W).then(j,De)}function q(R){return function(){var se=this,ue=arguments;return new Promise(function(j,De){var ve=R.apply(se,ue);function Ee(W){u(ve,j,De,Ee,Y,"next",W)}function Y(W){u(ve,j,De,Ee,Y,"throw",W)}Ee(void 0)})}}U.d(Re,{Z:()=>q})}},Dt=>{Dt(Dt.s=7600)}]);